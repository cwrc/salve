{"version":3,"sources":["webpack://salve-annos/webpack/universalModuleDefinition","webpack://salve-annos/webpack/bootstrap","webpack://salve-annos/./node_modules/core-js-pure/internals/define-well-known-symbol.js","webpack://salve-annos/./build/dist/lib/salve/patterns/base.js","webpack://salve-annos/./node_modules/core-js-pure/internals/well-known-symbol.js","webpack://salve-annos/./build/dist/lib/salve/conversion/parser.js","webpack://salve-annos/./node_modules/core-js-pure/internals/export.js","webpack://salve-annos/./node_modules/core-js-pure/internals/global.js","webpack://salve-annos/./node_modules/core-js-pure/internals/fails.js","webpack://salve-annos/./build/dist/lib/salve/errors.js","webpack://salve-annos/./node_modules/core-js-pure/internals/is-object.js","webpack://salve-annos/./node_modules/core-js-pure/internals/has.js","webpack://salve-annos/./node_modules/core-js-pure/internals/path.js","webpack://salve-annos/./node_modules/core-js-pure/internals/create-non-enumerable-property.js","webpack://salve-annos/./node_modules/core-js-pure/internals/an-object.js","webpack://salve-annos/./build/dist/lib/salve/conversion/schema-validation.js","webpack://salve-annos/./node_modules/tslib/tslib.es6.js","webpack://salve-annos/./node_modules/core-js-pure/internals/descriptors.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/util.js","webpack://salve-annos/./build/dist/lib/salve/events.js","webpack://salve-annos/./node_modules/core-js-pure/internals/to-indexed-object.js","webpack://salve-annos/./node_modules/core-js-pure/internals/to-object.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-define-property.js","webpack://salve-annos/./node_modules/core-js-pure/internals/entry-virtual.js","webpack://salve-annos/./build/dist/lib/salve/set.js","webpack://salve-annos/./node_modules/core-js-pure/internals/iterators.js","webpack://salve-annos/./build/dist/lib/salve/patterns.js","webpack://salve-annos/./build/dist/lib/salve/ename.js","webpack://salve-annos/./build/dist/lib/salve/tools.js","webpack://salve-annos/./node_modules/core-js-pure/internals/create-property-descriptor.js","webpack://salve-annos/./node_modules/core-js-pure/internals/require-object-coercible.js","webpack://salve-annos/./node_modules/core-js-pure/internals/to-length.js","webpack://salve-annos/./node_modules/core-js-pure/internals/is-array.js","webpack://salve-annos/./build/dist/lib/salve/datatypes.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js","webpack://salve-annos/./node_modules/core-js-pure/internals/classof-raw.js","webpack://salve-annos/./node_modules/core-js-pure/internals/to-primitive.js","webpack://salve-annos/./node_modules/core-js-pure/internals/shared-key.js","webpack://salve-annos/./node_modules/core-js-pure/internals/is-pure.js","webpack://salve-annos/./node_modules/core-js-pure/internals/hidden-keys.js","webpack://salve-annos/./node_modules/core-js-pure/internals/set-to-string-tag.js","webpack://salve-annos/./node_modules/core-js-pure/internals/classof.js","webpack://salve-annos/./build/dist/lib/salve/name_patterns.js","webpack://salve-annos/./build/dist/lib/salve/datatypes/errors.js","webpack://salve-annos/./node_modules/core-js-pure/internals/function-bind-context.js","webpack://salve-annos/./node_modules/core-js-pure/modules/web.dom-collections.iterator.js","webpack://salve-annos/./node_modules/core-js-pure/internals/internal-state.js","webpack://salve-annos/./node_modules/core-js-pure/internals/shared-store.js","webpack://salve-annos/./node_modules/core-js-pure/internals/shared.js","webpack://salve-annos/./node_modules/core-js-pure/internals/uid.js","webpack://salve-annos/./node_modules/core-js-pure/internals/native-symbol.js","webpack://salve-annos/./node_modules/core-js-pure/internals/engine-v8-version.js","webpack://salve-annos/./node_modules/core-js-pure/internals/get-built-in.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-create.js","webpack://salve-annos/./node_modules/core-js-pure/internals/array-includes.js","webpack://salve-annos/./node_modules/core-js-pure/internals/to-integer.js","webpack://salve-annos/./node_modules/core-js-pure/internals/enum-bug-keys.js","webpack://salve-annos/./node_modules/core-js-pure/internals/to-string-tag-support.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.string.iterator.js","webpack://salve-annos/./node_modules/core-js-pure/internals/get-iterator-method.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js/get-iterator-method.js","webpack://salve-annos/./node_modules/core-js-pure/internals/create-property.js","webpack://salve-annos/./node_modules/core-js-pure/internals/array-method-is-strict.js","webpack://salve-annos/./build/dist/lib/salve/patterns/data.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-property-is-enumerable.js","webpack://salve-annos/./node_modules/core-js-pure/internals/indexed-object.js","webpack://salve-annos/./node_modules/core-js-pure/internals/ie8-dom-define.js","webpack://salve-annos/./node_modules/core-js-pure/internals/document-create-element.js","webpack://salve-annos/./node_modules/core-js-pure/internals/a-function.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js/get-iterator.js","webpack://salve-annos/./node_modules/core-js-pure/internals/add-to-unscopables.js","webpack://salve-annos/./node_modules/core-js-pure/internals/define-iterator.js","webpack://salve-annos/./node_modules/core-js-pure/internals/iterators-core.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-get-prototype-of.js","webpack://salve-annos/./node_modules/core-js-pure/internals/use-symbol-as-uid.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-keys.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-keys-internal.js","webpack://salve-annos/./node_modules/core-js-pure/internals/to-absolute-index.js","webpack://salve-annos/./node_modules/core-js-pure/internals/redefine.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/array/is-array.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/is-array.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/symbol.js","webpack://salve-annos/./node_modules/core-js-pure/es/symbol/index.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.concat.js","webpack://salve-annos/./node_modules/core-js-pure/internals/array-species-create.js","webpack://salve-annos/./node_modules/core-js-pure/internals/array-method-has-species-support.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-get-own-property-names.js","webpack://salve-annos/./node_modules/core-js-pure/internals/well-known-symbol-wrapped.js","webpack://salve-annos/./node_modules/core-js-pure/internals/array-iteration.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/array/from.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/from.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js","webpack://salve-annos/./node_modules/core-js-pure/es/instance/slice.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js","webpack://salve-annos/./node_modules/core-js-pure/internals/whitespaces.js","webpack://salve-annos/./build/dist/lib/salve/datatypes/xmlcharacters.js","webpack://salve-annos/./build/dist/lib/salve/patterns/text.js","webpack://salve-annos/./build/dist/lib/salve/patterns/empty.js","webpack://salve-annos/./build/dist/lib/salve/patterns/not_allowed.js","webpack://salve-annos/./build/dist/lib/salve/conversion/resource-loader.js","webpack://salve-annos/./node_modules/saxes/lib/saxes.js","webpack://salve-annos/./build/dist/lib/salve/default_name_resolver.js","webpack://salve-annos/./build/dist/lib/salve/name_resolver.js","webpack://salve-annos/./build/dist/lib/salve/json-format/read.js","webpack://salve-annos/./build/dist/lib/salve/json-format/common.js","webpack://salve-annos/./build/dist/lib/salve/conversion/schema-simplification.js","webpack://salve-annos/./build/dist/lib/salve/validate.js","webpack://salve-annos/./build/dist/lib/salve/patterns/attribute.js","webpack://salve-annos/./build/dist/lib/salve/datatypes/builtin.js","webpack://salve-annos/./build/dist/lib/salve/datatypes/xmlschema.js","webpack://salve-annos/./build/dist/lib/salve/datatypes/regexp.js","webpack://salve-annos/./node_modules/xregexp/lib/addons/unicode-base.js","webpack://salve-annos/./node_modules/core-js-pure/stable/object/define-property.js","webpack://salve-annos/./node_modules/core-js-pure/es/object/define-property.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.object.define-property.js","webpack://salve-annos/(webpack)/buildin/global.js","webpack://salve-annos/./node_modules/core-js-pure/internals/is-forced.js","webpack://salve-annos/./node_modules/core-js-pure/features/get-iterator.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.iterator.js","webpack://salve-annos/./node_modules/core-js-pure/internals/native-weak-map.js","webpack://salve-annos/./node_modules/core-js-pure/internals/inspect-source.js","webpack://salve-annos/./node_modules/core-js-pure/internals/set-global.js","webpack://salve-annos/./node_modules/core-js-pure/internals/create-iterator-constructor.js","webpack://salve-annos/./node_modules/core-js-pure/internals/correct-prototype-getter.js","webpack://salve-annos/./node_modules/core-js-pure/internals/engine-user-agent.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-define-properties.js","webpack://salve-annos/./node_modules/core-js-pure/internals/html.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-to-string.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-set-prototype-of.js","webpack://salve-annos/./node_modules/core-js-pure/internals/a-possible-prototype.js","webpack://salve-annos/./node_modules/core-js-pure/internals/dom-iterables.js","webpack://salve-annos/./node_modules/core-js-pure/internals/string-multibyte.js","webpack://salve-annos/./node_modules/core-js-pure/internals/get-iterator.js","webpack://salve-annos/./node_modules/core-js-pure/stable/array/is-array.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.is-array.js","webpack://salve-annos/./node_modules/core-js-pure/features/get-iterator-method.js","webpack://salve-annos/./node_modules/core-js-pure/stable/symbol/index.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-get-own-property-names-external.js","webpack://salve-annos/./node_modules/core-js-pure/internals/object-get-own-property-symbols.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.async-iterator.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.has-instance.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.is-concat-spreadable.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.iterator.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.match.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.match-all.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.replace.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.search.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.species.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.split.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.to-primitive.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.to-string-tag.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.symbol.unscopables.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.json.to-string-tag.js","webpack://salve-annos/./node_modules/core-js-pure/stable/array/from.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.from.js","webpack://salve-annos/./node_modules/core-js-pure/internals/array-from.js","webpack://salve-annos/./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js","webpack://salve-annos/./node_modules/core-js-pure/internals/iterator-close.js","webpack://salve-annos/./node_modules/core-js-pure/internals/is-array-iterator-method.js","webpack://salve-annos/./node_modules/core-js-pure/internals/check-correctness-of-iteration.js","webpack://salve-annos/./node_modules/core-js-pure/stable/instance/slice.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/virtual/slice.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.slice.js","webpack://salve-annos/./node_modules/core-js-pure/stable/instance/includes.js","webpack://salve-annos/./node_modules/core-js-pure/es/instance/includes.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/virtual/includes.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.includes.js","webpack://salve-annos/./node_modules/core-js-pure/es/string/virtual/includes.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.string.includes.js","webpack://salve-annos/./node_modules/core-js-pure/internals/not-a-regexp.js","webpack://salve-annos/./node_modules/core-js-pure/internals/is-regexp.js","webpack://salve-annos/./node_modules/core-js-pure/internals/correct-is-regexp-logic.js","webpack://salve-annos/./node_modules/core-js-pure/stable/instance/concat.js","webpack://salve-annos/./node_modules/core-js-pure/es/instance/concat.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/virtual/concat.js","webpack://salve-annos/./node_modules/core-js-pure/stable/instance/for-each.js","webpack://salve-annos/./node_modules/core-js-pure/stable/array/virtual/for-each.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/virtual/for-each.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.for-each.js","webpack://salve-annos/./node_modules/core-js-pure/internals/array-for-each.js","webpack://salve-annos/./node_modules/xregexp/lib/addons/unicode-blocks.js","webpack://salve-annos/./node_modules/xregexp/tools/output/blocks.js","webpack://salve-annos/./node_modules/xregexp/lib/addons/unicode-categories.js","webpack://salve-annos/./node_modules/xregexp/tools/output/categories.js","webpack://salve-annos/./node_modules/xregexp/lib/xregexp.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js","webpack://salve-annos/./node_modules/core-js-pure/stable/instance/index-of.js","webpack://salve-annos/./node_modules/core-js-pure/es/instance/index-of.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/virtual/index-of.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.index-of.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/object/create.js","webpack://salve-annos/./node_modules/core-js-pure/stable/object/create.js","webpack://salve-annos/./node_modules/core-js-pure/es/object/create.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.object.create.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/helpers/arrayWithHoles.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js/array/is-array.js","webpack://salve-annos/./node_modules/core-js-pure/features/array/is-array.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/helpers/iterableToArrayLimit.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js/symbol.js","webpack://salve-annos/./node_modules/core-js-pure/features/symbol/index.js","webpack://salve-annos/./node_modules/core-js-pure/modules/esnext.symbol.async-dispose.js","webpack://salve-annos/./node_modules/core-js-pure/modules/esnext.symbol.dispose.js","webpack://salve-annos/./node_modules/core-js-pure/modules/esnext.symbol.matcher.js","webpack://salve-annos/./node_modules/core-js-pure/modules/esnext.symbol.metadata.js","webpack://salve-annos/./node_modules/core-js-pure/modules/esnext.symbol.observable.js","webpack://salve-annos/./node_modules/core-js-pure/modules/esnext.symbol.pattern-match.js","webpack://salve-annos/./node_modules/core-js-pure/modules/esnext.symbol.replace-all.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/helpers/unsupportedIterableToArray.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js/instance/slice.js","webpack://salve-annos/./node_modules/core-js-pure/features/instance/slice.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js/array/from.js","webpack://salve-annos/./node_modules/core-js-pure/features/array/from.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/helpers/arrayLikeToArray.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/helpers/nonIterableRest.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/parse-int.js","webpack://salve-annos/./node_modules/core-js-pure/stable/parse-int.js","webpack://salve-annos/./node_modules/core-js-pure/es/parse-int.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.parse-int.js","webpack://salve-annos/./node_modules/core-js-pure/internals/number-parse-int.js","webpack://salve-annos/./node_modules/core-js-pure/internals/string-trim.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/sort.js","webpack://salve-annos/./node_modules/core-js-pure/stable/instance/sort.js","webpack://salve-annos/./node_modules/core-js-pure/es/instance/sort.js","webpack://salve-annos/./node_modules/core-js-pure/es/array/virtual/sort.js","webpack://salve-annos/./node_modules/core-js-pure/modules/es.array.sort.js","webpack://salve-annos/./node_modules/@babel/runtime-corejs3/core-js-stable/instance/flags.js","webpack://salve-annos/./node_modules/core-js-pure/stable/instance/flags.js","webpack://salve-annos/./node_modules/core-js-pure/es/instance/flags.js","webpack://salve-annos/./node_modules/core-js-pure/es/regexp/flags.js","webpack://salve-annos/./node_modules/core-js-pure/internals/regexp-flags.js","webpack://salve-annos/./build/dist/lib/salve/patterns/choice.js","webpack://salve-annos/./build/dist/lib/salve/patterns/define.js","webpack://salve-annos/./build/dist/lib/salve/patterns/element.js","webpack://salve-annos/./build/dist/lib/salve/patterns/group.js","webpack://salve-annos/./build/dist/lib/salve/patterns/interleave.js","webpack://salve-annos/./build/dist/lib/salve/patterns/list.js","webpack://salve-annos/./build/dist/lib/salve/patterns/one_or_more.js","webpack://salve-annos/./build/dist/lib/salve/patterns/param.js","webpack://salve-annos/./build/dist/lib/salve/patterns/value.js","webpack://salve-annos/./build/dist/lib/salve/patterns/ref.js","webpack://salve-annos/./build/dist/lib/salve/patterns/grammar.js","webpack://salve-annos/./build/dist/lib/salve/conversion.js","webpack://salve-annos/./build/dist/lib/salve/conversion/convert.js","webpack://salve-annos/./build/dist/lib/salve/conversion/convert-simplified.js","webpack://salve-annos/./build/dist/lib/salve/conversion/resource-loaders/fetch.js","webpack://salve-annos/./build/dist/lib/salve/conversion/schema-simplifiers/internal.js","webpack://salve-annos/./node_modules/xmlchars/xml/1.0/ed5.js","webpack://salve-annos/./node_modules/xmlchars/xml/1.1/ed2.js","webpack://salve-annos/./node_modules/xmlchars/xmlns/1.0/ed3.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step1.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step4.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step6.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step9.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step10.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step14.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step15.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step16.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step17.js","webpack://salve-annos/./build/dist/lib/salve/conversion/simplifier/step18.js","webpack://salve-annos/./build/dist/lib/salve/conversion/schema-simplifiers/base.js","webpack://salve-annos/./build/dist/lib/salve/conversion/schema-simplifiers/common.js","webpack://salve-annos/./build/dist/lib/salve/conversion/serializer.js","webpack://salve-annos/./build/dist/lib/salve/json-format/write.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","path","has","wrappedWellKnownSymbolModule","f","NAME","eventsToTreeString","isAttributeEvent","TwoSubpatterns","OneSubpattern","Pattern","BasePattern","InternalFireEventResult","matched","errors","refs","result","other","oRefs","undefined","concat","oErrors","xmlPath","definitions","namespaces","Error","pat","super","_prepare","_cachedHasAttrs","hasAttrs","_cachedHasEmptyPattern","hasEmptyPattern","patA","patB","_computeHasEmptyPattern","evs","eventArray","Set","Array","from","hash","Map","param","nextNode","set","toString","dumpTree","toDump","indent","ret","keys","sort","sub","global","shared","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","dependsOnExternalFile","parseSimplifiedSchema","BasicParser","Validator","isText","isElement","Text","Element","saxes_1","ename_1","name_resolver_1","tools_1","util_1","emptyNS","prefix","local","uri","attributes","documentation","children","kind","child","parent","removeChild","node","_parent","setParent","_path","XML1_NAMESPACE","XMLNS_NAMESPACE","_resolve","length","text","makePath","getAttribute","first","splice","indexOfChild","replacement","replaceChildAt","push","el","unshift","index","toInsert","src","prev","indexOf","includes","xmlns","attr","newAttributes","assign","clone","map","SaxesNameResolver","saxesParser","attribute","colon","EName","substring","resolve","grammar","parser","walker","newWalker","args","fireEvent","params","ix","end","NullValidator","validator","drop","isAnnotation","onopentag","onclosetag","ontext","onend","stack","docStack","filter","RELAXNG_URI","ANNOS_URI","XHTML_URI","topNode","doc","childrenEls","lastChild","pop","fromSax","ConversionParser","trim","fileName","simplifiedSchema","convParser","SaxesParser","position","write","close","Found","fixPrototype","IncludeParser","rng","found","ex","getOwnPropertyDescriptor","isForced","createNonEnumerableProperty","wrapConstructor","NativeConstructor","Wrapper","a","b","arguments","apply","options","source","USE_NATIVE","VIRTUAL_PROTOTYPE","sourceProperty","targetProperty","nativeProperty","resultProperty","descriptor","TARGET","target","GLOBAL","STATIC","stat","PROTO","proto","nativeSource","targetPrototype","forced","noTargetGet","wrap","Function","sham","real","it","Math","check","globalThis","window","self","exec","error","ChoiceError","ElementNameError","AttributeValueError","AttributeNameError","SingleNameError","ValidationError","msg","toStringWithNames","getNames","names","namesA","namesB","slice","second","join","toObject","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","isObject","TypeError","String","makeValidator","registerValidator","isValidatorAvailable","getAvailableValidators","SchemaValidationError","message","err","availableValidators","ctor","extendStatics","setPrototypeOf","__proto__","__extends","__","constructor","__assign","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","iterator","v","op","__createBinding","k","k2","__exportStar","__values","__read","ar","__spread","__spreadArrays","il","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","__classPrivateFieldSet","fails","removeUnreferencedDefs","getName","groupBy","indexBy","findMultiNames","findMultiDescendantsByLocalName","_findDescendantsByLocalName","findDescendantsByLocalName","findChildrenByLocalName","parser_1","_findMultiDescendantsByLocalName","nameClass","descendants","arr","makeKey","x","list","mustGetAttribute","seen","removeChildAt","TextEvent","AttributeValueEvent","ValueEvent","AttributeNameEvent","EndTagEvent","LeaveStartTagEvent","EnterStartTagEvent","NamePatternEvent","Event","namePattern","IndexedObject","requireObjectCoercible","argument","IE8_DOM_DEFINE","anObject","toPrimitive","$defineProperty","O","Attributes","CONSTRUCTOR","union","me","add","attribute_1","Attribute","choice_1","Choice","data_1","Data","define_1","Define","element_1","empty_1","Empty","group_1","Group","interleave_1","Interleave","list_1","List","not_allowed_1","NotAllowed","one_or_more_1","OneOrMore","param_1","Param","text_1","value_1","Value","ref_1","Ref","name_patterns_1","Name","NameChoice","NsName","AnyName","base_1","grammar_1","Grammar","GrammarWalker","obj","getPrototypeOf","bitmap","configurable","writable","toInteger","min","classof","isArray","arg","registry","Registry","builtin_1","xmlschema_1","libraries","library","find","builtin","xmlschema","errors_1","ParameterParsingError","ValueValidationError","ValueError","input","PREFERRED_STRING","fn","val","valueOf","TO_STRING_TAG_SUPPORT","TO_STRING_TAG","wellKnownSymbol","TAG","SET_METHOD","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","escapeString","str","replace","isAnyName","isNsName","isNameChoice","isName","Base","_recordNamespaces","_asString","asString","match","intersects","intersection","recordEmpty","top","newA","applyRecursively","newB","wildcardMatch","simple","aArr","toArray","bArr","except","theseNames","otherNames","values","makeTree","subtract","some","thisName","negation","pattern","_recordEmpty","ParamError","location","aFunction","that","DOMIterables","Iterators","COLLECTION_NAME","Collection","CollectionPrototype","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","WeakMap","state","store","wmget","wmhas","wmset","facade","STATE","enforce","getterFor","TYPE","type","setGlobal","IS_PURE","version","copyright","id","postfix","random","V8_VERSION","userAgent","process","versions","v8","split","variable","namespace","method","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","document","domain","ActiveXObject","iframeDocument","iframe","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","contentWindow","open","F","Properties","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","ceil","floor","isNaN","test","charAt","InternalStateModule","defineIterator","setInternalState","getInternalState","iterated","string","point","ITERATOR","propertyKey","METHOD_NAME","datatypes_1","events_1","datatypeLibrary","datatype","types","rngParams","_params","parseParams","_allowsEmptyContent","disallows","allowsEmptyContent","DataWalker","canEndAttribute","canEnd","regexp","nameResolver","resolver","propertyIsEnumerableModule","$getOwnPropertyDescriptor","$propertyIsEnumerable","NASHORN_BUG","1","V","createElement","EXISTS","$","createIteratorConstructor","setToStringTag","redefine","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","internalObjectKeys","max","integer","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","spreadable","len","E","A","SPECIES","originalArray","C","foo","Boolean","getOwnPropertyNames","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","callbackfn","specificCreate","boundFunction","forEach","every","findIndex","filterOut","ArrayPrototype","own","xmlNcnameRe","xmlNcname","xmlNameRe","xmlNameChar","xmlLetter","xmlBaseChar","xmlDigit","xmlCombiningChar","xmlName","RegExp","singleton","TextWalker","_textEvent","NotAllowedWalker","makeResourceLoader","fetch","NodeResourceLoader","FetchResourceLoader","isS","isChar","isChar10","isNameStartChar","isNameChar","S_LIST","NAME_RE","isChar11","isNCNameStartChar","isNCNameChar","NC_NAME_RE","XML_NAMESPACE","rootNS","xml","XML_ENTITIES","amp","gt","lt","quot","apos","EVENTS","isQuote","QUOTES","DOCTYPE_TERMINATOR","DTD_TERMINATOR","XML_DECL_NAME_TERMINATOR","ATTRIB_VALUE_UNQUOTED_TERMINATOR","nsPairCheck","fail","isNCName","opt","_init","openWakaBang","piTarget","entity","xmlDeclName","closed","xmlDecl","encoding","standalone","tags","chunk","chunkPosition","prevI","carriedFromPrevious","forbiddenState","ENTITIES","attribList","fragmentOpt","fragment","reportedTextBeforeRoot","reportedTextAfterRoot","closedRoot","sawRoot","xmlDeclPossible","piIsXMLDecl","xmlDeclState","xmlDeclExpects","requiredSeparator","entityReturnState","xmlnsOpt","nameStartCheck","nameCheck","processAttribs","processAttribsNS","additional","additionalNamespaces","mapping","nsMappingCheck","processAttribsPlain","defaultXMLVersion","forceXMLVersion","setXMLVersion","trackPosition","line","positionAtNewLine","onready","er","column","onerror","limit","lastCode","charCodeAt","code","final","getCode","chars","start","isNLLike","char","buffer","getCodeNorm","getCode10","pushAttrib","pushAttribNS10","pushAttribPlain","getCode11","pushAttribNS11","sawSpace","handleTextInRoot","handleTextOutsideRoot","scanLoop","nonSpace","outRootLoop","fromCodePoint","doctype","captureTo","ondoctype","captureToChar","owb","oncomment","oncdata","captureWhileNameCheck","skipSpaces","toLowerCase","onprocessinginstruction","captureNameChars","onopentagstart","openTag","openSelfClosingTag","qname","trimmed","closeTag","loop","parseEntity","resolvePrefix","JSON","stringify","eqname","isSelfClosing","defined","num","NaN","parseInt","DefaultNameResolver","_contextStack","forward","backwards","prefixes","xmlMapping","substr","cIx","pre","readTreeFromJSON","common_1","OldFormatError","namedOnePatternFilter","twoPatternFilter","kindToArgFilter","newParams","V2Constructor","addPath","OPTION_NO_PATHS","codeToConstructor","_processObject","_transformArray","elIx","walkObject","parsed","parse","data","nameToCode","patterns_1","empty","notAllowed","ref","oneOrMore","choice","group","element","interleave","nameChoice","nsName","anyName","makeSimplifier","registerSimplifier","isAvailable","getAvailableSimplifiers","availableSimplifiers","tslib_1","conversion_1","convertRNGToPattern","write_1","writeTreeToJSON","read_1","default_name_resolver_1","set_1","AttributeTextWalker","AttributeDataWalker","AttributeWalker","subwalker","seenName","possible","ev","fromEndResult","needsContext","normalizeSpace","stringT","schemaValue","token","xmlcharacters_1","convertToInternalNumber","Infinity","Number","convertInternalNumberToString","NumericParameter","NonNegativeIntegerParameter","asNum","isInteger","lengthP","repeatable","valueLength","minLengthP","maxLengthP","reCache","patternP","internal","convert","SalveParsingError","failedOn","totalDigitsP","NumericTypeDependentParameter","defaultParams","fractionDigitsP","maxInclusiveP","repr","maxExclusiveP","minInclusiveP","minExclusiveP","PARAM_NAME_TO_OBJ","EMPTY_PARAMS","context","convertValue","prop","validParams","invalid","isInvalidParam","converted","minLength","maxLength","maxInclusive","maxExclusive","minInclusive","minExclusive","typeErrorMsg","paramNames","isInvalidValue","CommonStringBased","string_","normalizedString","tokenInternal","NCName","NMTOKEN","IDREF","ENTITY","decimal","_defaultParams","highestVal","lowestVal","mi","nonPositiveInteger","nonNegativeInteger","long_","int_","short_","unsignedLong","unsignedInt","unsignedShort","B64","B64S","base64BinaryRe","doubleRe","float_","yearPattern","timePattern","tzPattern","tzRe","dateGroupingRe","maxDoms","checkDate","year","leap","isLeapYear","month","dom","maxDom","timeParts","minutes","seconds","hoursLimit","tzParts","tzHours","tzSeconds","reJsRfc3987UriReference","resolveName","instance","unicode_base_1","unicode_blocks_1","unicode_categories_1","xregexp_1","isGroup","multiCharEscapesInGroup","S","I","D","w","W","multiCharEscapes","outputType","output","negative","capturedMultiChar","subtraction","toSubtract","plain","multiChar","combined","repl","convertString","_interopRequireDefault","_Object$defineProperty","_getIterator2","_isArray","_getIteratorMethod2","_symbol","_from","_slice","_includes","_concat","_forEach","_createForOfIteratorHelper","allowArrayLike","minLen","_context4","_arrayLikeToArray","_unsupportedIterableToArray","_e","normalCompletion","didErr","_e2","arr2","XRegExp","unicode","dec","_dec","hex","_hex","pad4","_pad4","normalize","charCode","chr","esc","cacheInvertedBmp","slug","range","lastEnd","bmp","cacheAstral","isNegated","_context","_context2","item","isBmpLast","astral","buildAstral","addToken","scope","flags","isAstralMode","SyntaxError","inverseOf","_context3","ReferenceError","optionalFlags","leadChar","addUnicodeData","_step","_iterator","alias","cache","flush","_getUnicodeProperty","feature","detection","POLYFILL","NATIVE","getIterator","addToUnscopables","Arguments","inspectSource","functionToString","getBuiltIn","objectKeys","aPossiblePrototype","setter","CORRECT_SETTER","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","CONVERT_TO_STRING","pos","size","codeAt","getIteratorMethod","iteratorMethod","nativeObjectCreate","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","defineWellKnownSymbol","$forEach","HIDDEN","TO_PRIMITIVE","$Symbol","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","symbol","isSymbol","$defineProperties","properties","$getOwnPropertySymbols","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","unsafe","keyFor","sym","useSetter","useSimple","replacer","space","$replacer","windowNames","getWindowNames","checkCorrectnessOfIteration","iterable","callWithSafeIterationClosing","isArrayIteratorMethod","arrayLike","argumentsLength","mapfn","iteratorClose","ENTRIES","returnMethod","SAFE_CLOSING","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","entryVirtual","HAS_SPECIES_SUPPORT","nativeSlice","Constructor","fin","arrayIncludes","stringIncludes","StringPrototype","$includes","notARegExp","correctIsRegExpLogic","searchString","isRegExp","MATCH","error1","error2","STRICT_METHOD","arrayMethodIsStrict","_blocks","_categories","_indexOf","_create","_slicedToArray2","_parseInt2","_sort","_flags","_context9","features","namespacing","nativ","fixed","regexCache","patternCache","tokens","nativeTokens","replacementToken","correctExecNpcg","hasFlagsProp","hasNativeFlag","flag","isSupported","exception","hasNativeU","hasNativeY","registeredFlags","u","augment","regex","captureNames","xSource","xFlags","isInternalOnly","clipDuplicates","copyRegex","xData","getNativeFlags","flagsToAdd","flagsToRemove","xregexpSource","xregexpFlags","removeG","removeY","addG","addY","hasNamedCapture","getContextualTokenSeparator","isQuantifierNext","isType","prepareOptions","registerFlag","runTokens","matchLength","handler","reparse","setAstral","on","setNamespacing","isInstalled","applied","$0","$1","prepareFlags","appliedPattern","appliedFlags","_XRegExp$exec","captures","generated","_clipDuplicates","_hasNativeFlag","_step2","_iterator2","cacheName","escape","sticky","cacheKey","fakeY","r2","lastIndex","callback","globalize","install","matchChain","chain","recurseChain","level","matches","addMatch","backref","ERR_UNDEFINED_GROUP","isNamedBackref","groups","backrefValue","_step3","_iterator3","search","isRegex","s2","replaceEach","replacements","_step4","_iterator4","separator","uninstall","patterns","numPriorCaptures","conjunction","numCaptures","rewrite","paren","_step5","parts","_iterator5","origLastIndex","groupsObject","_len","_key","_len2","_key2","bracketed","angled","dollarToken","_context5","lastLength","lastLastIndex","_context6","_context7","endIndex","_context8","_default","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_Array$isArray","_Symbol","_getIteratorMethod","_i","_s","_arr","_n","_d","_sliceInstanceProperty","_Array$from","arrayLikeToArray","parseIntImplementation","whitespaces","$parseInt","radix","whitespace","ltrim","rtrim","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","comparefn","RegExpPrototype","ignoreCase","multiline","dotAll","optional","walkerB","OptionalChoiceWalker","walkerA","ChoiceWalker","deactivateA","deactivateB","possibleB","possibleAttributes","retA","retB","combine","combineChoices","endAttributes","ended","boundName","ElementWalker","endedStartTag","endTagEvent","_leaveStartTagEvent","posses","attrRet","walkerRet","GroupWalker","endedA","evIsAttributeEvent","endA","endB","InterleaveWalker","ListWalker","currentIteration","OneOrMoreWalker","nextIteration","subPat","nextRet","rawValue","_value","parseValue","ValueWalker","equal","RefWalker","resolvesTo","startName","startTagEvent","_namespaces","mapInit","def","_elementDefinitions","newDef","defs","elementDefinitions","make","MisplacedElementWalker","elementWalkerStack","misplacedDepth","_swallowAttributeValue","suspendedWs","ignoreNextWs","walkers","wsMatch","_fireSuspendedWsOnCurrentWalkers","_fireOnCurrentWalkers","_processRefs","diagnose","elName","candidates","initWithAttributes","last","remainingWalkers","newWalkers","finalResult","stackElement","valueEvs","convert_1","resource_loader_1","serializer_1","serialize","schema_simplification_1","schema_validation_1","convert_simplified_1","internal_1","DEFAULT_OPTIONS","createManifest","manifestHashAlgorithm","resourceLoader","schemaPath","simplifier","InternalSimplifier","verbose","timing","keepTemp","simplifyTo","validate","simplified","warnings","manifest","simplify","makePatternFromSimplifiedSchema","walkNameClass","tree","walk","FetchResource","url","response","protocol","ok","relaxng","makeNamePattern","ProhibitedPath","ProhibitedAttributePath","ProhibitedListPath","ProhibitedStartPath","ProhibitedDataExceptPath","EMPTY_ELEMENT_ARRAY","EMPTY_NAME_ARRAY","TEXT_RESULT","contentType","occurringAttributeNames","occurringRefs","occurringTexts","EMPTY_RESULT","DATA_RESULT","LIST_RESULT","VALUE_RESULT","NOT_ALLOWED_RESULT","FORBIDDEN_IN_START","GeneralChecker","defineNameToElementNames","typeWarnings","definesByName","forbidden","inAttribute","inList","inDataExcept","inOneOrMore","inOneOrMoreGroup","inOneOrMoreInterleave","inInterlave","inGroup","_check","groupInterleaveHandler","firstCt","firstAttributes","firstRefs","firstTexts","secondCt","secondAttributes","secondRefs","secondTexts","typeAttr","libname","lib","hasExcept","fromQNameToURI","localName","setAttribute","replaceContent","nr","definePrefix","newState","isInterleave","attr1","attr2","ref1","name1","getElementNamesForDefine","ref2","name2","cachedGrammar","BaseSimplifier","manifestPromises","filePath","schemaResource","load","schemaText","getText","algo","digest","crypto","subtle","TextEncoder","encode","Uint8Array","no","stepTiming","console","log","lastStepStart","Date","now","startTime","stepStart","step1","step4","step6","step9","step10","step14","step15","step16","step17","step18","checkStart","checker","all","validates","createsManifest","CHAR","NAME_START_CHAR","NAME_CHAR","CHAR_RE","S_RE","NAME_START_CHAR_RE","NAME_CHAR_RE","NMTOKEN_RE","RESTRICTED_CHAR","RESTRICTED_CHAR_RE","isRestrictedChar","isCharAndNotRestricted","NC_NAME_START_CHAR","NC_NAME_CHAR","NC_NAME_START_CHAR_RE","NC_NAME_CHAR_RE","step1_1","step4_1","step6_1","step9_1","step10_1","step14_1","step15_1","step16_1","step17_1","step18_1","resolveURL","base","tail","URL","loadFromElement","currentBase","seenURLs","resolved","reverse","Step1","parentBase","attrs","getRawAttributes","baseAttr","newChildren","orig","clean","includedTree","treeNs","removeAttribute","replaceChildWith","includeStarts","includeDefs","grammarStarts","grammarDefs","includeDefsMap","grammarDefsMap","prependChild","documentBase","parentLibrary","currentLibrary","href","endsWith","childLib","parentNs","currentNs","nameEl","makeElement","nextNs","insertAt","checkNames","anyNames","nsNames","replaceWith","setXMLNS","attrName","grabChildren","appendChildren","replaced","makeName","els","combineAs","undefinedCombine","combineAttr","wrapper","rest","newWrapper","grammars","grouped","GrammarNode","childGrammars","defines","parentRefs","refNames","parentRefNames","defineNames","latestId","gatherGrammars","thisGrammar","multiple","transformGrammars","toRename","suffix","parentRef","skip","substituteRefs","seenNames","removedDefines","seenRefs","used","topElement","newNames","sub1","sub2","currentTree","toAppend","elementCount","defEl","wrapElements","keep","removeDefsWithoutElement","substitute","firstNA","secondNA","firstEmpty","secondEmpty","DatatypeProcessor","datatypes","warnAboutTheseTypes","sep","current","lastIndexOf","isAttr","out","_serialize","mixed","curIndent","buf","childrenMixed","prettyPrint","childIndent","NAME_TO_METHOD_NAME","RNGToJSONConverter","nameMap","includePaths","_output","_firstItem","arrayStart","newItem","thing","openConstruct","outputItem","outputAsString","walkChildren","openArray","toUpperCase","datatypeLibraryAttr","nsAttr","hasParams","paramIx","_a","_b","_anyName","startAt","formatVersion","rename","gatherNamed","count","sorted","_keyA","freqA","_keyB","freqB"],"mappings":"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","file":"salve.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"salve-annos\"] = factory();\n\telse\n\t\troot[\"salve-annos\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 108);\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","\"use strict\";\n/**\n * Classes that model RNG patterns.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.eventsToTreeString = exports.isAttributeEvent = exports.TwoSubpatterns = exports.OneSubpattern = exports.Pattern = exports.BasePattern = exports.InternalFireEventResult = void 0;\nclass InternalFireEventResult {\n    constructor(matched, errors, refs) {\n        this.matched = matched;\n        this.errors = errors;\n        this.refs = refs;\n    }\n    static fromEndResult(result) {\n        return (result === false) ?\n            new InternalFireEventResult(true) :\n            new InternalFireEventResult(false, result);\n    }\n    combine(other) {\n        if (this.matched) {\n            const { refs } = this;\n            const oRefs = other.refs;\n            return oRefs === undefined ?\n                this :\n                new InternalFireEventResult(true, undefined, refs === undefined ? oRefs :\n                    refs.concat(oRefs));\n        }\n        const { errors } = this;\n        const oErrors = other.errors;\n        return oErrors === undefined ?\n            this :\n            new InternalFireEventResult(false, errors === undefined ? oErrors :\n                errors.concat(oErrors), undefined);\n    }\n}\nexports.InternalFireEventResult = InternalFireEventResult;\n/**\n * These patterns form a JavaScript representation of the simplified RNG\n * tree. The base class implements a leaf in the RNG tree. In other words, it\n * does not itself refer to children Patterns. (To put it in other words, it has\n * no subpatterns.)\n */\nclass BasePattern {\n    /**\n     * @param xmlPath This is a string which uniquely identifies the element from\n     * the simplified RNG tree. Used in debugging.\n     */\n    constructor(xmlPath) {\n        this.xmlPath = xmlPath;\n    }\n    /**\n     * This method must be called after resolution has been performed.\n     * ``_prepare`` recursively calls children but does not traverse ref-define\n     * boundaries to avoid infinite regress...\n     *\n     * This function now performs these tasks:\n     *\n     * - it precomputes the values returned by ``hasAttr``,\n     *\n     * - it precomputes the values returned by ``hasEmptyPattern``,\n     *\n     * - it gathers all the namespaces seen in the schema.\n     *\n     * - it resolves the references.\n     *\n     * @param definitions The definitions present in the schema.\n     *\n     * @param namespaces An object whose keys are the namespaces seen in\n     * the schema. This method populates the object.\n     */\n    // tslint:disable-next-line:no-empty\n    _prepare(definitions, namespaces) {\n    }\n    /**\n     * This method tests whether a pattern is an attribute pattern or contains\n     * attribute patterns. This method does not cross element boundaries. That is,\n     * if element X cannot have attributes of its own but can contain elements\n     * that can have attributes, the return value if this method is called on the\n     * pattern contained by element X's pattern will be ``false``.\n     *\n     * @returns True if the pattern is or has attributes. False if not.\n     */\n    hasAttrs() {\n        return false;\n    }\n    /**\n     * This method determines whether a pattern has the ``empty``\n     * pattern. Generally, this means that either this pattern is the ``empty``\n     * pattern or has ``empty`` as a child.\n     */\n    hasEmptyPattern() {\n        return false;\n    }\n}\nexports.BasePattern = BasePattern;\n/**\n * This is the common class from which patterns are derived. Most patterns\n * create a new walker by passing a name resolver. The one exception is\n * [[Grammar]], which creates the name resolver that are used by other\n * patterns. So when calling it we do not need a ``resolver`` parameter and thus\n * it inherits from [[BasePattern]] rather than [[Pattern]].\n */\nclass Pattern extends BasePattern {\n    /**\n     * Creates a new walker to walk this pattern.\n     *\n     * @returns A walker.\n     */\n    newWalker() {\n        // Rather than make it abstract, we provide a default implementation for\n        // this method, which throws an exception if called. We could probably\n        // reorganize the code to do without but a) we would not gain much b) it\n        // would complicate the type hierarchy. The cost is not worth the\n        // benefits. There are two patterns that land on this default implementation\n        // and neither can have newWalker called on them anyway.\n        throw new Error(\"derived classes must override this\");\n    }\n}\nexports.Pattern = Pattern;\n/**\n * Pattern objects of this class have exactly one child pattern.\n */\nclass OneSubpattern extends Pattern {\n    constructor(xmlPath, pat) {\n        super(xmlPath);\n        this.pat = pat;\n    }\n    _prepare(definitions, namespaces) {\n        this.pat._prepare(definitions, namespaces);\n        this._cachedHasAttrs = this.pat.hasAttrs();\n        this._cachedHasEmptyPattern = this.pat.hasEmptyPattern();\n    }\n    hasAttrs() {\n        // tslint:disable-next-line:no-non-null-assertion\n        return this._cachedHasAttrs;\n    }\n    hasEmptyPattern() {\n        // tslint:disable-next-line:no-non-null-assertion\n        return this._cachedHasEmptyPattern;\n    }\n}\nexports.OneSubpattern = OneSubpattern;\n/**\n * Pattern objects of this class have exactly two child patterns.\n *\n */\nclass TwoSubpatterns extends Pattern {\n    constructor(xmlPath, patA, patB) {\n        super(xmlPath);\n        this.patA = patA;\n        this.patB = patB;\n    }\n    _prepare(definitions, namespaces) {\n        this.patA._prepare(definitions, namespaces);\n        this.patB._prepare(definitions, namespaces);\n        this._cachedHasAttrs = this.patA.hasAttrs() || this.patB.hasAttrs();\n        this._cachedHasEmptyPattern = this._computeHasEmptyPattern();\n    }\n    hasAttrs() {\n        // tslint:disable-next-line:no-non-null-assertion\n        return this._cachedHasAttrs;\n    }\n    hasEmptyPattern() {\n        // tslint:disable-next-line:no-non-null-assertion\n        return this._cachedHasEmptyPattern;\n    }\n}\nexports.TwoSubpatterns = TwoSubpatterns;\nfunction isAttributeEvent(name) {\n    return name === \"attributeName\" || name === \"attributeValue\" ||\n        name === \"attributeNameAndValue\";\n}\nexports.isAttributeEvent = isAttributeEvent;\n/**\n * Utility function used mainly in testing to transform a set of\n * events into a string containing a tree structure.  The principle is to\n * combine events of a same type together and among events of a same type\n * combine those which are in the same namespace. So for instance if there is a\n * set of events that are all attributeName events plus one ``leaveStartTag``\n * event, the output could be:\n *\n * <pre>``\n * attributeName:\n * ..uri A:\n * ....name 1\n * ....name 2\n * ..uri B:\n * ....name 3\n * ....name 4\n * leaveStartTag\n * ``</pre>\n *\n * The dots above are to represent more visually the indentation. Actual output\n * does not contain leading dots.  In this list there are two attributeName\n * events in the \"uri A\" namespace and two in the \"uri B\" namespace.\n *\n * @param evs Events to turn into a string.\n * @returns A string which contains the tree described above.\n */\nfunction eventsToTreeString(evs) {\n    const eventArray = evs instanceof Set ? Array.from(evs) : evs;\n    const hash = new Map();\n    for (const { name, param } of eventArray) {\n        if (param !== null) {\n            let nextNode = hash.get(name);\n            if (nextNode === undefined) {\n                nextNode = new Map();\n                hash.set(name, nextNode);\n            }\n            nextNode.set(param.toString(), false);\n        }\n        else {\n            hash.set(name, false);\n        }\n    }\n    function dumpTree(toDump, indent) {\n        let ret = \"\";\n        const keys = Array.from(toDump.keys());\n        keys.sort();\n        for (const key of keys) {\n            // tslint:disable-next-line:no-non-null-assertion\n            const sub = toDump.get(key);\n            if (sub !== false) {\n                ret += `${indent}${key}:\\n`;\n                ret += dumpTree(sub, `${indent}    `);\n            }\n            else {\n                ret += `${indent}${key}\\n`;\n            }\n        }\n        return ret;\n    }\n    return dumpTree(hash, \"\");\n    /* tslint:enable */\n}\nexports.eventsToTreeString = eventsToTreeString;\n//  LocalWords:  RNG MPL lookahead xmlns uri CodeMirror tokenizer enterStartTag\n//  LocalWords:  EOF attributeName el xmlPath buf nameOrPath util ret EventSet\n//  LocalWords:  NameResolver args unshift HashSet subpatterns newID NG vm pre\n//  LocalWords:  firstName lastName attributeValue leaveStartTag dumpTree const\n//  LocalWords:  dumpTreeBuf subwalker fireEvent suppressAttributes HashMap\n//  LocalWords:  ValidationError RefWalker DefineWalker\n//# sourceMappingURL=base.js.map","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","\"use strict\";\n/**\n * This module contains classes for a conversion parser.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dependsOnExternalFile = exports.parseSimplifiedSchema = exports.BasicParser = exports.Validator = exports.isText = exports.isElement = exports.Text = exports.Element = void 0;\nconst saxes_1 = require(\"saxes\");\nconst ename_1 = require(\"../ename\");\nconst name_resolver_1 = require(\"../name_resolver\");\nconst tools_1 = require(\"../tools\");\nconst util_1 = require(\"./simplifier/util\");\nconst emptyNS = Object.create(null);\n/**\n * An Element produced by [[BasicParser]].\n *\n * This constructor will insert the created object into the parent automatically\n * if the parent is provided.\n */\nclass Element {\n    /**\n     * @param node The value of the ``node`` created by the SAX parser.\n     *\n     * @param children The children of this element. **These children must not yet\n     * be children of any element.**\n     */\n    constructor(prefix, local, uri, ns, attributes, documentation, children) {\n        this.children = children;\n        this.kind = \"element\";\n        this.prefix = prefix;\n        this.local = local;\n        this.uri = uri;\n        // Namespace declarations are immutable.\n        this.ns = ns;\n        this.attributes = attributes;\n        this.documentation = documentation;\n        for (const child of children) {\n            if (child.parent !== undefined) {\n                child.parent.removeChild(child);\n            }\n            child.parent = this;\n        }\n    }\n    static fromSax(node, children, documentation = \"\") {\n        return new Element(node.prefix, node.local, node.uri, node.ns, node.attributes, documentation, children);\n    }\n    static makeElement(name, children, documentation = \"\") {\n        return new Element(\"\", name, \"\", \n        // We always pass the same object as ns. So we save an unnecessary object\n        // creation.\n        emptyNS, Object.create(null), documentation, children);\n    }\n    get parent() {\n        return this._parent;\n    }\n    set parent(value) {\n        this.setParent(value);\n    }\n    setParent(value) {\n        //\n        // The cost of looking for cycles is noticeable. So we should use this\n        // only when debugging new code.\n        //\n        // let scan = value;\n        // while (scan !== undefined) {\n        //   if (scan === this) {\n        //     throw new Error(\"creating reference loop!\");\n        //   }\n        //   scan = scan.parent;\n        // }\n        this._path = undefined; // This becomes void.\n        this._parent = value;\n    }\n    resolve(name) {\n        if (name === \"xml\") {\n            return name_resolver_1.XML1_NAMESPACE;\n        }\n        if (name === \"xmlns\") {\n            return name_resolver_1.XMLNS_NAMESPACE;\n        }\n        return this._resolve(name);\n    }\n    _resolve(name) {\n        const ret = this.ns[name];\n        if (ret !== undefined) {\n            return ret;\n        }\n        return (this.parent === undefined) ? undefined : this.parent._resolve(name);\n    }\n    get text() {\n        // Testing for this special case does payoff.\n        if (this.children.length === 1) {\n            return this.children[0].text;\n        }\n        let ret = \"\";\n        for (const child of this.children) {\n            ret += child.text;\n        }\n        return ret;\n    }\n    /**\n     * A path describing the location of the element in the XML. Note that this is\n     * meant to be used **only** after the simplification is complete. The value\n     * is computed once and for all as soon as it is accessed.\n     */\n    get path() {\n        if (this._path === undefined) {\n            this._path = this.makePath();\n        }\n        return this._path;\n    }\n    makePath() {\n        let ret = `${(this.parent !== undefined) ? this.parent.path : \"\"}/${this.local}`;\n        const name = this.getAttribute(\"name\");\n        if (name !== undefined) {\n            // tslint:disable-next-line:no-string-literal\n            ret += `[@name='${name}']`;\n        }\n        // Name classes are only valid on elements and attributes. So don't go\n        // searching for it on other elements.\n        else if (this.local === \"element\" || this.local === \"attribute\") {\n            // By the time path is used, the name class is the first child.\n            const first = this.children[0];\n            if (isElement(first) && first.local === \"name\") {\n                ret += `[@name='${first.text}']`;\n            }\n        }\n        return ret;\n    }\n    removeChild(child) {\n        // We purposely don't call removeChildAt, so as to save a call.\n        //\n        // We don't check whether there's an element at [0]. If not, a hard fail is\n        // appropriate. It shouldn't happen.\n        this.children.splice(this.indexOfChild(child), 1)[0].parent = undefined;\n    }\n    removeChildAt(i) {\n        // We don't check whether there's an element at [0]. If not, a hard fail is\n        // appropriate. It shouldn't happen.\n        this.children.splice(i, 1)[0].parent = undefined;\n    }\n    replaceChildWith(child, replacement) {\n        this.replaceChildAt(this.indexOfChild(child), replacement);\n    }\n    replaceChildAt(i, replacement) {\n        const child = this.children[i];\n        // In practice this is not a great optimization.\n        //\n        // if (child === replacement) {\n        //   return;\n        // }\n        if (replacement.parent !== undefined) {\n            replacement.parent.removeChild(replacement);\n        }\n        this.children[i] = replacement;\n        child.parent = undefined;\n        replacement.parent = this;\n    }\n    appendChild(child) {\n        // It is faster to use custom code than to rely on insertAt: splice\n        // operations are costly.\n        if (child.parent !== undefined) {\n            child.parent.removeChild(child);\n        }\n        child.parent = this;\n        this.children.push(child);\n    }\n    appendChildren(children) {\n        // It is faster to use custom code than to rely on insertAt: splice\n        // operations are costly.\n        for (const el of children) {\n            if (el.parent !== undefined) {\n                el.parent.removeChild(el);\n            }\n            el.parent = this;\n        }\n        this.children.push(...children);\n    }\n    prependChild(child) {\n        // It is faster to do this than to rely on insertAt: splice operations\n        // are costly.\n        if (child.parent !== undefined) {\n            child.parent.removeChild(child);\n        }\n        child.parent = this;\n        this.children.unshift(child);\n    }\n    insertAt(index, toInsert) {\n        for (const el of toInsert) {\n            if (el.parent !== undefined) {\n                el.parent.removeChild(el);\n            }\n            el.parent = this;\n        }\n        this.children.splice(index, 0, ...toInsert);\n    }\n    /**\n     * Gets all the children from another element and append them to this\n     * element. This is a faster operation than done through other means.\n     *\n     * @param src The element form which to get the children.\n     */\n    grabChildren(src) {\n        const children = src.children.splice(0, src.children.length);\n        this.children.push(...children);\n        for (const child of children) {\n            child.parent = this;\n        }\n    }\n    replaceContent(children) {\n        const prev = this.children.splice(0, this.children.length, ...children);\n        for (const child of prev) {\n            child.parent = undefined;\n        }\n        for (const child of children) {\n            child.parent = this;\n        }\n    }\n    indexOfChild(child) {\n        const parent = child.parent;\n        if (parent !== this) {\n            throw new Error(\"the child is not a child of this\");\n        }\n        const index = parent.children.indexOf(child);\n        if (index === -1) {\n            throw new Error(\"child not among children\");\n        }\n        return index;\n    }\n    /**\n     * Set an attribute on an element.\n     *\n     * @param name The attribute name.\n     *\n     * @param value The new value of the attribute.\n     */\n    setAttribute(name, value) {\n        if (name.includes(\":\")) {\n            throw new Error(\"we don't support namespaces on this function\");\n        }\n        this.attributes[name] = {\n            name,\n            prefix: \"\",\n            local: name,\n            uri: \"\",\n            value,\n        };\n    }\n    setXMLNS(value) {\n        this.attributes.xmlns = {\n            name: \"xmlns\",\n            prefix: \"\",\n            uri: name_resolver_1.XMLNS_NAMESPACE,\n            value,\n            local: \"xmlns\",\n        };\n    }\n    removeAttribute(name) {\n        delete this.attributes[name];\n    }\n    getAttribute(name) {\n        const attr = this.attributes[name];\n        return (attr !== undefined) ? attr.value : undefined;\n    }\n    getRawAttributes() {\n        return this.attributes;\n    }\n    mustGetAttribute(name) {\n        const attr = this.getAttribute(name);\n        if (attr === undefined) {\n            throw new Error(`no attribute named ${name}`);\n        }\n        return attr;\n    }\n    clone() {\n        const newAttributes = Object.create(null);\n        const { attributes } = this;\n        const keys = Object.keys(attributes);\n        if (keys.length !== 0) {\n            for (const key of keys) {\n                // We do not use Object.create(null) here because there's no advantage\n                // to it.\n                newAttributes[key] = Object.assign({}, attributes[key]);\n            }\n        }\n        // This switch provides a significant improvement.\n        let { children } = this;\n        switch (children.length) {\n            case 0:\n                break;\n            case 1:\n                children = [children[0].clone()];\n                break;\n            case 2:\n                children = [children[0].clone(), children[1].clone()];\n                break;\n            default:\n                // This actually does not happen in the current code.\n                children = children.map(child => child.clone());\n        }\n        return new Element(this.prefix, this.local, this.uri, this.ns, newAttributes, this.documentation, children);\n    }\n}\nexports.Element = Element;\nclass Text {\n    /**\n     * @param text The textual value.\n     */\n    constructor(text) {\n        this.text = text;\n        this.kind = \"text\";\n    }\n    clone() {\n        return new Text(this.text);\n    }\n}\nexports.Text = Text;\nfunction isElement(node) {\n    return node.kind === \"element\";\n}\nexports.isElement = isElement;\nfunction isText(node) {\n    return node.kind === \"text\";\n}\nexports.isText = isText;\nclass SaxesNameResolver {\n    constructor(saxesParser) {\n        this.saxesParser = saxesParser;\n    }\n    resolveName(name, attribute = false) {\n        const colon = name.indexOf(\":\");\n        let prefix;\n        let local;\n        if (colon === -1) {\n            if (attribute) { // Attribute in undefined namespace\n                return new ename_1.EName(\"\", name);\n            }\n            // We are searching for the default namespace currently in effect.\n            prefix = \"\";\n            local = name;\n        }\n        else {\n            prefix = name.substring(0, colon);\n            local = name.substring(colon + 1);\n            if (local.includes(\":\")) {\n                throw new Error(\"invalid name passed to resolveName\");\n            }\n        }\n        const uri = this.saxesParser.resolve(prefix);\n        if (uri !== undefined) {\n            return new ename_1.EName(uri, local);\n        }\n        return (prefix === \"\") ? new ename_1.EName(\"\", local) : undefined;\n    }\n    clone() {\n        throw new Error(\"cannot clone a SaxesNameResolver\");\n    }\n}\nclass Validator {\n    constructor(grammar, parser) {\n        /** Whether we ran into an error. */\n        this.errors = [];\n        this.walker = grammar.newWalker(new SaxesNameResolver(parser));\n    }\n    fireEvent(name, args) {\n        const ret = this.walker.fireEvent(name, args);\n        if (ret) {\n            this.errors.push(...ret);\n        }\n    }\n    onopentag(node) {\n        const { attributes } = node;\n        const keys = Object.keys(attributes);\n        // Pre-allocate an array of the right size, instead of reallocating\n        // a bunch of times.\n        // tslint:disable-next-line:prefer-array-literal\n        const params = new Array(2 + keys.length);\n        params[0] = node.uri;\n        params[1] = node.local;\n        let ix = 2;\n        for (const name of keys) {\n            const { uri, local, value } = attributes[name];\n            // Skip XML namespace declarations\n            if (uri !== name_resolver_1.XMLNS_NAMESPACE) {\n                params[ix++] = uri;\n                params[ix++] = local;\n                params[ix++] = value;\n            }\n        }\n        this.fireEvent(\"startTagAndAttributes\", params);\n    }\n    onclosetag(node) {\n        this.fireEvent(\"endTag\", [node.uri, node.local]);\n    }\n    ontext(text) {\n        this.fireEvent(\"text\", [text]);\n    }\n    onend() {\n        const result = this.walker.end();\n        if (result !== false) {\n            this.errors.push(...result);\n        }\n    }\n}\nexports.Validator = Validator;\n// A validator that does not validate.\nclass NullValidator {\n    // tslint:disable-next-line:no-empty\n    onopentag() { }\n    // tslint:disable-next-line:no-empty\n    onclosetag() { }\n    // tslint:disable-next-line:no-empty\n    ontext() { }\n    // tslint:disable-next-line:no-empty\n    onend() { }\n}\n/**\n * A simple parser used for loading a XML document into memory.  Parsers of this\n * class use [[Node]] objects to represent the tree of nodes.\n */\nclass BasicParser {\n    constructor(saxesParser, validator = new NullValidator()) {\n        this.saxesParser = saxesParser;\n        this.validator = validator;\n        this.drop = 0;\n        this.isAnnotation = false;\n        saxesParser.onopentag = this.onopentag.bind(this);\n        saxesParser.onclosetag = this.onclosetag.bind(this);\n        saxesParser.ontext = this.ontext.bind(this);\n        saxesParser.onend = this.onend.bind(this);\n        this.stack = [{\n                // We cheat. The node field of the top level stack item won't ever be\n                // accessed.\n                node: undefined,\n                children: [],\n            }];\n        this.docStack = [];\n    }\n    /**\n     * The root of the parsed XML.\n     */\n    get root() {\n        return this.stack[0].children.filter(isElement)[0];\n    }\n    onopentag(node) {\n        // We have to validate the node even if we are not going to record it,\n        // because RelaxNG does not allow foreign nodes everywhere.\n        this.validator.onopentag(node);\n        // We can skip creating Element objects for foreign nodes and their\n        // children.\n        if ((node.uri !== util_1.RELAXNG_URI\n            && node.uri !== util_1.ANNOS_URI && node.uri !== util_1.XHTML_URI) || this.drop !== 0) {\n            this.drop++;\n            return;\n        }\n        if (node.uri === util_1.ANNOS_URI || node.uri === util_1.XHTML_URI) {\n            if (!this.isAnnotation) {\n                this.isAnnotation = true;\n                this.docStack.push({\n                    node,\n                    text: \"\",\n                });\n            }\n            else {\n                this.drop++;\n            }\n        }\n        else {\n            this.stack.push({\n                node,\n                children: [],\n            });\n        }\n    }\n    onclosetag(node) {\n        // We have to validate the node even if we are not going to record it,\n        // because RelaxNG does not allow foreign nodes everywhere.\n        this.validator.onclosetag(node);\n        if (this.drop !== 0) {\n            this.drop--;\n            return;\n        }\n        if (this.isAnnotation) {\n            if (this.docStack.length === 1) {\n                // Annotations must be either the first child\n                // or an immediate sibling of a value element\n                const topNode = this.stack[this.stack.length - 1];\n                const doc = this.docStack[this.docStack.length - 1].text;\n                const childrenEls = topNode.children.filter(child => child.kind === \"element\");\n                if (childrenEls.length === 0) {\n                    // Assign doc to topNode if it doesn't yet have children.\n                    topNode.documentation = doc;\n                }\n                else {\n                    const lastChild = childrenEls[childrenEls.length - 1];\n                    if (lastChild.local === \"value\") {\n                        // Assign to first child if it's a value.\n                        lastChild.documentation = doc;\n                    }\n                }\n            }\n            // tslint:disable-next-line: no-unused-expression\n            this.docStack.pop();\n            if (this.docStack.length === 0) {\n                this.isAnnotation = false;\n            }\n        }\n        else {\n            // tslint:disable-next-line:no-non-null-assertion\n            const { node: topNode, children, documentation } = this.stack.pop();\n            this.stack[this.stack.length - 1].children\n                .push(Element.fromSax(topNode, children, documentation));\n        }\n    }\n    ontext(text) {\n        this.validator.ontext(text);\n        if (this.drop !== 0) {\n            return;\n        }\n        if (this.isAnnotation) {\n            this.docStack[this.docStack.length - 1].text += text;\n        }\n        else {\n            this.stack[this.stack.length - 1].children.push(new Text(text));\n        }\n    }\n    onend() {\n        this.validator.onend();\n    }\n}\nexports.BasicParser = BasicParser;\n/**\n * This parser is specifically dedicated to the task of reading simplified Relax\n * NG schemas. In a Relax NG schema, text nodes that consist entirely of white\n * space are expendable, except in the ``param`` and ``value`` elements, where\n * they do potentially carry significant information.\n *\n * This parser strips nodes that consist entirely of white space because this\n * simplifies code that needs to process the resulting tree, but preserve those\n * nodes that are potentially significant.\n *\n * This parser does not allow elements which are not in the Relax NG namespace.\n */\nclass ConversionParser extends BasicParser {\n    onopentag(node) {\n        // tslint:disable-next-line: no-http-string\n        if (node.uri !== \"http://relaxng.org/ns/structure/1.0\") {\n            throw new Error(`node in unexpected namespace: ${node.uri}`);\n        }\n        super.onopentag(node);\n    }\n    ontext(text) {\n        // We ignore text appearing before or after the top level element.\n        if (this.stack.length <= 1 || this.drop !== 0) {\n            return;\n        }\n        const top = this.stack[this.stack.length - 1];\n        const local = top.node.local;\n        // The parser does not allow non-RNG nodes, so we don't need to check the\n        // namespace.\n        const keepWhitespaceNodes = local === \"param\" || local === \"value\";\n        if (keepWhitespaceNodes || text.trim() !== \"\") {\n            super.ontext(text);\n        }\n    }\n}\nfunction parseSimplifiedSchema(fileName, simplifiedSchema) {\n    const convParser = new ConversionParser(new saxes_1.SaxesParser({ xmlns: true,\n        position: false,\n        fileName }));\n    convParser.saxesParser.write(simplifiedSchema).close();\n    return convParser.root;\n}\nexports.parseSimplifiedSchema = parseSimplifiedSchema;\n// Exception used to terminate the saxes parser early.\nclass Found extends Error {\n    constructor() {\n        super();\n        tools_1.fixPrototype(this, Found);\n    }\n}\nclass IncludeParser {\n    constructor(saxesParser) {\n        this.saxesParser = saxesParser;\n        saxesParser.onopentag = this.onopentag.bind(this);\n    }\n    onopentag(node) {\n        // tslint:disable-next-line:no-http-string\n        if (node.uri === \"http://relaxng.org/ns/structure/1.0\" &&\n            (node.local === \"include\" || node.local === \"externalRef\")) {\n            throw new Found(); // Stop early.\n        }\n    }\n}\n/**\n * Determine whether an RNG file depends on another file either through the use\n * of ``include`` or ``externalRef``.\n *\n * @param rng The RNG file to check.\n *\n * @returns ``true`` if dependent, ``false`` if not.\n */\nfunction dependsOnExternalFile(rng) {\n    const parser = new IncludeParser(new saxes_1.SaxesParser({ xmlns: true, position: false }));\n    let found = false;\n    try {\n        parser.saxesParser.write(rng).close();\n    }\n    catch (ex) {\n        if (!(ex instanceof Found)) {\n            throw ex;\n        }\n        found = true;\n    }\n    return found;\n}\nexports.dependsOnExternalFile = dependsOnExternalFile;\n//  LocalWords:  MPL NG param RNG\n//# sourceMappingURL=parser.js.map","'use strict';\nvar global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar isForced = require('../internals/is-forced');\nvar path = require('../internals/path');\nvar bind = require('../internals/function-bind-context');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof NativeConstructor) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return NativeConstructor.apply(this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue;\n\n    // bind timers to global for call from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changs in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    target[key] = resultProperty;\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!has(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      path[VIRTUAL_PROTOTYPE][key] = sourceProperty;\n      // export real prototype methods\n      if (options.real && targetPrototype && !targetPrototype[key]) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","\"use strict\";\n/**\n * Validation errors.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChoiceError = exports.ElementNameError = exports.AttributeValueError = exports.AttributeNameError = exports.SingleNameError = exports.ValidationError = void 0;\n/**\n * The ``fireEvent`` methods return an array of objects of this class to\n * notify the caller of errors in the file being validated.\n *\n * Note that these error objects do not record what (element, attribute, text,\n * etc.) in the XML document was responsible for the error. It is the\n * responsibility of the code that uses salve to combine the error message with\n * an object that points into the document being validated.\n *\n * This is particularly important when considering the equality of errors. Two\n * errors are considered equal if their messages (with names) are the\n * same. *They could still be associated with two different locations in the\n * document being validated.* The code calling salve must distinguish such\n * cases.\n */\nclass ValidationError {\n    /**\n     *\n     * @param msg The error message.\n     */\n    constructor(msg) {\n        this.msg = msg;\n        // May be useful for debugging:\n        // this.stack_trace = new Error().stack;\n    }\n    /**\n     * The default implementation is to return the value of calling\n     * ``this.toStringWithNames(this.getNames())``.\n     *\n     * @returns The text representation of the error.\n     */\n    toString() {\n        return this.toStringWithNames(this.getNames());\n    }\n    /**\n     * This method provides the caller with the list of all names that are used in\n     * the error message.\n     *\n     * @returns The list of names used in the error message.\n     */\n    getNames() {\n        return [];\n    }\n    /**\n     * This method transforms this object to a string but uses the names in the\n     * parameter passed to it to format the string.\n     *\n     * Since salve does not work with namespace prefixes, someone using salve\n     * would typically use this method so as to replace the name patterns passed\n     * in error messages with qualified names.\n     *\n     * @param names The array of names to use. This should be an array of the same\n     * length as that returned by [[getNames]] . Each element of the array\n     * corresponds to each name in [[getNames]] and should be something that can\n     * be converted to a meaningful string.\n     *\n     * @returns The object formatted as a string.\n     */\n    toStringWithNames(names) {\n        // We do not have names in ValidationError\n        return this.msg;\n    }\n    /**\n     * Two [[ValidationError]] objects are considered equal if the values returned\n     * by [[toString]] are equal.\n     *\n     * @param other The other validation error to compare against.\n     *\n     * @returns Whether ``this`` and ``other`` are equal.\n     */\n    equals(other) {\n        return (this === other) || (this.toString() === other.toString());\n    }\n}\nexports.ValidationError = ValidationError;\n/**\n * This class serves as a base for all those errors that have only\n * one name involved.\n */\nclass SingleNameError extends ValidationError {\n    /**\n     * @param msg The error message.\n     *\n     * @param name The name of the XML entity at stake.\n     */\n    constructor(msg, name) {\n        super(msg);\n        this.name = name;\n    }\n    getNames() {\n        return [this.name];\n    }\n    toStringWithNames(names) {\n        return `${this.msg}: ${names[0].toString()}`;\n    }\n}\nexports.SingleNameError = SingleNameError;\n/**\n * Error returned when an attribute name is invalid.\n */\nclass AttributeNameError extends SingleNameError {\n}\nexports.AttributeNameError = AttributeNameError;\n/**\n * Error returned when an attribute value is invalid.\n */\nclass AttributeValueError extends SingleNameError {\n}\nexports.AttributeValueError = AttributeValueError;\n/**\n * Error returned when an element is invalid.\n */\nclass ElementNameError extends SingleNameError {\n}\nexports.ElementNameError = ElementNameError;\n/**\n * Error returned when choice was not satisfied.\n */\nclass ChoiceError extends ValidationError {\n    /**\n     * @param namesA The names of the first XML entities at stake.\n     *\n     * @param namesB The names of the second XML entities at stake.\n     */\n    constructor(namesA, namesB) {\n        super(\"\");\n        this.namesA = namesA;\n        this.namesB = namesB;\n    }\n    getNames() {\n        return this.namesA.concat(this.namesB);\n    }\n    toStringWithNames(names) {\n        const first = names.slice(0, this.namesA.length);\n        const second = names.slice(this.namesA.length);\n        return `must choose either ${first.join(\", \")} or ${second.join(\", \")}`;\n    }\n}\nexports.ChoiceError = ChoiceError;\n//  LocalWords:  MPL ValidationError toStringWithNames getNames toString\n//# sourceMappingURL=errors.js.map","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makeValidator = exports.registerValidator = exports.isValidatorAvailable = exports.getAvailableValidators = exports.SchemaValidationError = void 0;\nconst tools_1 = require(\"../tools\");\nclass SchemaValidationError extends Error {\n    constructor(message) {\n        super();\n        const err = new Error(message);\n        this.name = \"SchemaValidationError\";\n        this.stack = err.stack;\n        this.message = err.message;\n        tools_1.fixPrototype(this, SchemaValidationError);\n    }\n}\nexports.SchemaValidationError = SchemaValidationError;\nconst availableValidators = Object.create(null);\nfunction getAvailableValidators() {\n    return Object.keys(availableValidators);\n}\nexports.getAvailableValidators = getAvailableValidators;\nfunction isValidatorAvailable(name) {\n    return availableValidators[name] !== undefined;\n}\nexports.isValidatorAvailable = isValidatorAvailable;\nfunction registerValidator(name, ctor) {\n    availableValidators[name] = ctor;\n}\nexports.registerValidator = registerValidator;\nfunction makeValidator(name, options) {\n    const ctor = availableValidators[name];\n    if (ctor === undefined) {\n        throw new Error(`unknown validator name: ${name}`);\n    }\n    return new ctor(options);\n}\nexports.makeValidator = makeValidator;\n//# sourceMappingURL=schema-validation.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeUnreferencedDefs = exports.getName = exports.groupBy = exports.indexBy = exports.findMultiNames = exports.findMultiDescendantsByLocalName = exports._findDescendantsByLocalName = exports.findDescendantsByLocalName = exports.findChildrenByLocalName = exports.XHTML_URI = exports.ANNOS_URI = exports.RELAXNG_URI = void 0;\n/**\n * Utilities for simplification support for trees produced by the parser module.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\n// tslint:disable-next-line:no-http-string\nexports.RELAXNG_URI = \"http://relaxng.org/ns/structure/1.0\";\n// tslint:disable-next-line:no-http-string\nexports.ANNOS_URI = \"http://relaxng.org/ns/compatibility/annotations/1.0\";\n// tslint:disable-next-line:no-http-string\nexports.XHTML_URI = \"http://www.w3.org/1999/xhtml\";\nfunction findChildrenByLocalName(el, name) {\n    return el\n        .children\n        .filter(child => parser_1.isElement(child) && child.local === name);\n}\nexports.findChildrenByLocalName = findChildrenByLocalName;\nfunction findDescendantsByLocalName(el, name) {\n    const ret = [];\n    _findDescendantsByLocalName(el, name, ret);\n    return ret;\n}\nexports.findDescendantsByLocalName = findDescendantsByLocalName;\nfunction _findDescendantsByLocalName(el, name, ret) {\n    for (const child of el.children) {\n        if (!parser_1.isElement(child)) {\n            continue;\n        }\n        if (child.local === name) {\n            ret.push(child);\n        }\n        _findDescendantsByLocalName(child, name, ret);\n    }\n}\nexports._findDescendantsByLocalName = _findDescendantsByLocalName;\nfunction findMultiDescendantsByLocalName(el, names) {\n    const ret = Object.create(null);\n    for (const name of names) {\n        ret[name] = [];\n    }\n    _findMultiDescendantsByLocalName(el, names, ret);\n    return ret;\n}\nexports.findMultiDescendantsByLocalName = findMultiDescendantsByLocalName;\nfunction _findMultiDescendantsByLocalName(el, names, ret) {\n    for (const child of el.children) {\n        if (!parser_1.isElement(child)) {\n            continue;\n        }\n        const name = child.local;\n        if (names.includes(name)) {\n            ret[name].push(child);\n        }\n        _findMultiDescendantsByLocalName(child, names, ret);\n    }\n}\n/**\n * This is a specialized version of [[findMultiDescendantsByLocalName]] that\n * searches through the first child element and its descendants. ``element`` and\n * ``attribute`` elements during simplification get their name class recorded as\n * their first child element.\n *\n * @param el The element in which to search.\n *\n * @param names The name class elements to look for.\n *\n * @returns A map of name to element list.\n */\nfunction findMultiNames(el, names) {\n    const nameClass = el.children[0];\n    const descendants = findMultiDescendantsByLocalName(nameClass, names);\n    const name = nameClass.local;\n    if (names.includes(name)) {\n        if (!(name in descendants)) {\n            descendants[name] = [nameClass];\n        }\n        else {\n            descendants[name].unshift(nameClass);\n        }\n    }\n    return descendants;\n}\nexports.findMultiNames = findMultiNames;\n/**\n * Index the elements of ``arr`` by the keys obtained through calling\n * ``makeKey``. If two elements resolve to the same key, the later element\n * overwrites the earlier.\n *\n * @param arr The array to index.\n *\n * @param makeKey A function that takes an array element and makes a key by\n * which this element will be indexed.\n *\n * @return The indexed elements.\n */\nfunction indexBy(arr, makeKey) {\n    const ret = new Map();\n    for (const x of arr) {\n        ret.set(makeKey(x), x);\n    }\n    return ret;\n}\nexports.indexBy = indexBy;\n/**\n * Group the elements of ``arr`` by the keys obtained through calling\n * ``makeKey``. Contrarily to [[indexBy]], this function allows for multiple\n * elements with the same key to coexist in the results because the resulting\n * object maps keys to arrays of elements rather than keys to single elements.\n *\n * @param arr The array to index.\n *\n * @param makeKey A function that takes an array element and makes a key by\n * which this element will be indexed.\n *\n * @return The grouped elements.\n */\nfunction groupBy(arr, makeKey) {\n    const ret = new Map();\n    for (const x of arr) {\n        const key = makeKey(x);\n        let list = ret.get(key);\n        if (list === undefined) {\n            list = [];\n            ret.set(key, list);\n        }\n        list.push(x);\n    }\n    return ret;\n}\nexports.groupBy = groupBy;\n/**\n * Get the value of the @name attribute.\n *\n * @param el The element to process.\n */\nfunction getName(el) {\n    return el.mustGetAttribute(\"name\");\n}\nexports.getName = getName;\n/**\n * Removes unreferenced ``define`` elements from a grammar.\n *\n * **Important**: this is a very ad-hoc function, not meant for general\n * consumption. For one thing, this function works only if called with ``el``\n * pointing to a top-level ``grammar`` element **after** all ``grammar``\n * elements have been reduced to a single ``grammar``, all ``define`` elements\n * moved to that single ``grammar``, and ``grammar`` contains ``start`` as the\n * first element, and the rest of the children are all ``define`` elements.\n *\n * This function does no check these constraints!!! You must call it from a\n * stage where these constraints hold.\n *\n * This function does not guard against misuse. It must be called from steps\n * that execute after the above assumption holds.\n *\n * @param el The element that contains the ``define`` elements.\n *\n * @param seen A set of ``define`` names. If the name is in the set, then there\n * was a reference to the name, and the ``define`` is kept. Otherwise, the\n * ``define`` is removed.\n */\nfunction removeUnreferencedDefs(el, seen) {\n    const children = el.children;\n    for (let ix = 1; ix < children.length; ++ix) {\n        if (seen.has(children[ix].mustGetAttribute(\"name\"))) {\n            continue;\n        }\n        el.removeChildAt(ix);\n        --ix;\n    }\n}\nexports.removeUnreferencedDefs = removeUnreferencedDefs;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextEvent = exports.AttributeValueEvent = exports.ValueEvent = exports.AttributeNameEvent = exports.EndTagEvent = exports.LeaveStartTagEvent = exports.EnterStartTagEvent = exports.NamePatternEvent = exports.Event = void 0;\n/**\n * This is the class that events **returned** by salve derive from. This class\n * is entirely abstract but it can still be use for instanceof tests.\n */\nclass Event {\n}\nexports.Event = Event;\n/**\n * A class for events that take a name pattern as parameter.\n */\nclass NamePatternEvent extends Event {\n    constructor(name, namePattern) {\n        super();\n        this.name = name;\n        this.namePattern = namePattern;\n    }\n    get param() {\n        return this.namePattern;\n    }\n    get params() {\n        return [this.name, this.namePattern];\n    }\n    equals(other) {\n        return this.name === other.name && this.namePattern.toString() ===\n            other.namePattern.toString();\n    }\n    toString() {\n        return `Event: ${this.name}, ${this.namePattern}`;\n    }\n}\nexports.NamePatternEvent = NamePatternEvent;\nclass EnterStartTagEvent extends NamePatternEvent {\n    constructor(namePattern) {\n        super(\"enterStartTag\", namePattern);\n        this.isAttributeEvent = false;\n    }\n}\nexports.EnterStartTagEvent = EnterStartTagEvent;\nclass LeaveStartTagEvent extends Event {\n    constructor() {\n        super(...arguments);\n        this.name = \"leaveStartTag\";\n        this.isAttributeEvent = false;\n        this.param = null;\n    }\n    get params() {\n        return [\"leaveStartTag\"];\n    }\n    equals(other) {\n        return this.name === other.name;\n    }\n    toString() {\n        return `Event: ${this.name}`;\n    }\n}\nexports.LeaveStartTagEvent = LeaveStartTagEvent;\nclass EndTagEvent extends NamePatternEvent {\n    constructor(namePattern) {\n        super(\"endTag\", namePattern);\n        this.isAttributeEvent = false;\n    }\n}\nexports.EndTagEvent = EndTagEvent;\nclass AttributeNameEvent extends NamePatternEvent {\n    constructor(namePattern) {\n        super(\"attributeName\", namePattern);\n        this.isAttributeEvent = true;\n    }\n}\nexports.AttributeNameEvent = AttributeNameEvent;\n/**\n * A class for events that take a string or regexp value as parameter.\n */\nclass ValueEvent extends Event {\n    constructor(name, value, documentation) {\n        super();\n        this.name = name;\n        this.value = value;\n        this.documentation = documentation;\n    }\n    get params() {\n        return [this.name, this.value];\n    }\n    get param() {\n        return this.value;\n    }\n    equals(other) {\n        return this.name === other.name && this.value.toString() ===\n            other.value.toString();\n    }\n    toString() {\n        return `Event: ${this.name}, ${this.value}`;\n    }\n}\nexports.ValueEvent = ValueEvent;\nclass AttributeValueEvent extends ValueEvent {\n    constructor(value, documentation) {\n        super(\"attributeValue\", value, documentation);\n        this.isAttributeEvent = true;\n    }\n}\nexports.AttributeValueEvent = AttributeValueEvent;\nclass TextEvent extends ValueEvent {\n    constructor(value, documentation) {\n        super(\"text\", value, documentation);\n        this.isAttributeEvent = false;\n    }\n}\nexports.TextEvent = TextEvent;\n//# sourceMappingURL=events.js.map","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var path = require('../internals/path');\n\nmodule.exports = function (CONSTRUCTOR) {\n  return path[CONSTRUCTOR + 'Prototype'];\n};\n","\"use strict\";\n/**\n * Set utilities.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n * @private\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.map = exports.filter = exports.union = void 0;\n/**\n * Add the elements of another set to this set. This mutates this set.\n *\n * @param me The set to mutate.\n *\n * @param s The set to add.\n */\nfunction union(me, s) {\n    for (const x of s) {\n        me.add(x);\n    }\n}\nexports.union = union;\n/**\n * Selects a subset of values.\n *\n * @param me The set to filter.\n *\n * @param f A function that selects values.\n *\n * @returns An object of the same class as the object on which the method is\n * called. This object contains only the value selected by the function.\n */\nfunction filter(me, f) {\n    const ret = new me.constructor();\n    // The fat arrow is used to prevent a caller from accessing ``this.b``\n    // through the 3rd parameter that would be passed to ``f``.\n    let index = 0;\n    for (const x of me) {\n        if (f(x, index++, me)) {\n            ret.add(x);\n        }\n    }\n    return ret;\n}\nexports.filter = filter;\n/**\n * This method works like Array.map but with a provision for eliminating\n * elements.\n *\n * @param me The set to map.\n *\n * @param f This parameter plays the same role as for ``Array``'s ``map``\n * method.  However, when it returns an undefined value, this return value is\n * not added to set that will be returned.\n *\n * @returns The new set. This set is of the same class as the original set.\n */\nfunction map(me, f) {\n    const ret = new me.constructor();\n    let index = 0;\n    for (const x of me) {\n        const result = f(x, index++, me);\n        if (result !== undefined) {\n            ret.add(result);\n        }\n    }\n    return ret;\n}\nexports.map = map;\n//  LocalWords:  param NaiveSet Mangalam MPL Dubeau HashSet hashstructs\n//# sourceMappingURL=set.js.map","module.exports = {};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Classes that model RNG patterns.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nvar ename_1 = require(\"./ename\");\nObject.defineProperty(exports, \"EName\", { enumerable: true, get: function () { return ename_1.EName; } });\nvar attribute_1 = require(\"./patterns/attribute\");\nObject.defineProperty(exports, \"Attribute\", { enumerable: true, get: function () { return attribute_1.Attribute; } });\nvar choice_1 = require(\"./patterns/choice\");\nObject.defineProperty(exports, \"Choice\", { enumerable: true, get: function () { return choice_1.Choice; } });\nvar data_1 = require(\"./patterns/data\");\nObject.defineProperty(exports, \"Data\", { enumerable: true, get: function () { return data_1.Data; } });\nvar define_1 = require(\"./patterns/define\");\nObject.defineProperty(exports, \"Define\", { enumerable: true, get: function () { return define_1.Define; } });\nvar element_1 = require(\"./patterns/element\");\nObject.defineProperty(exports, \"Element\", { enumerable: true, get: function () { return element_1.Element; } });\nvar empty_1 = require(\"./patterns/empty\");\nObject.defineProperty(exports, \"Empty\", { enumerable: true, get: function () { return empty_1.Empty; } });\nvar group_1 = require(\"./patterns/group\");\nObject.defineProperty(exports, \"Group\", { enumerable: true, get: function () { return group_1.Group; } });\nvar interleave_1 = require(\"./patterns/interleave\");\nObject.defineProperty(exports, \"Interleave\", { enumerable: true, get: function () { return interleave_1.Interleave; } });\nvar list_1 = require(\"./patterns/list\");\nObject.defineProperty(exports, \"List\", { enumerable: true, get: function () { return list_1.List; } });\nvar not_allowed_1 = require(\"./patterns/not_allowed\");\nObject.defineProperty(exports, \"NotAllowed\", { enumerable: true, get: function () { return not_allowed_1.NotAllowed; } });\nvar one_or_more_1 = require(\"./patterns/one_or_more\");\nObject.defineProperty(exports, \"OneOrMore\", { enumerable: true, get: function () { return one_or_more_1.OneOrMore; } });\nvar param_1 = require(\"./patterns/param\");\nObject.defineProperty(exports, \"Param\", { enumerable: true, get: function () { return param_1.Param; } });\nvar text_1 = require(\"./patterns/text\");\nObject.defineProperty(exports, \"Text\", { enumerable: true, get: function () { return text_1.Text; } });\nvar value_1 = require(\"./patterns/value\");\nObject.defineProperty(exports, \"Value\", { enumerable: true, get: function () { return value_1.Value; } });\nvar ref_1 = require(\"./patterns/ref\");\nObject.defineProperty(exports, \"Ref\", { enumerable: true, get: function () { return ref_1.Ref; } });\nvar name_patterns_1 = require(\"./name_patterns\");\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return name_patterns_1.Name; } });\nObject.defineProperty(exports, \"NameChoice\", { enumerable: true, get: function () { return name_patterns_1.NameChoice; } });\nObject.defineProperty(exports, \"NsName\", { enumerable: true, get: function () { return name_patterns_1.NsName; } });\nObject.defineProperty(exports, \"AnyName\", { enumerable: true, get: function () { return name_patterns_1.AnyName; } });\nvar base_1 = require(\"./patterns/base\");\nObject.defineProperty(exports, \"eventsToTreeString\", { enumerable: true, get: function () { return base_1.eventsToTreeString; } });\nObject.defineProperty(exports, \"BasePattern\", { enumerable: true, get: function () { return base_1.BasePattern; } });\nObject.defineProperty(exports, \"Pattern\", { enumerable: true, get: function () { return base_1.Pattern; } });\nvar grammar_1 = require(\"./patterns/grammar\");\nObject.defineProperty(exports, \"Grammar\", { enumerable: true, get: function () { return grammar_1.Grammar; } });\nObject.defineProperty(exports, \"GrammarWalker\", { enumerable: true, get: function () { return grammar_1.GrammarWalker; } });\n//  LocalWords:  EName NotAllowed oneOrMore RNG MPL Dubeau GrammarWalker rng\n//  LocalWords:  notAllowed Mangalam EventSet\n//# sourceMappingURL=patterns.js.map","\"use strict\";\n/**\n * Class for XML Expanded Names.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EName = void 0;\n/**\n * Immutable objects modeling XML Expanded Names.\n */\nclass EName {\n    /**\n     * @param ns The namespace URI.\n     *\n     * @param name The local name of the entity.\n     */\n    constructor(ns, name) {\n        this.ns = ns;\n        this.name = name;\n    }\n    /**\n     * @returns A string representing the expanded name.\n     */\n    toString() {\n        return `{${this.ns}}${this.name}`;\n    }\n    /**\n     * Compares two expanded names.\n     *\n     * @param other The other object to compare this object with.\n     *\n     * @returns  ``true`` if this object equals the other.\n     */\n    equal(other) {\n        return this.ns === other.ns && this.name === other.name;\n    }\n}\nexports.EName = EName;\n//  LocalWords:  MPL ns\n//# sourceMappingURL=ename.js.map","\"use strict\";\n/**\n * Common tools for salve.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fixPrototype = void 0;\n/**\n * This is required to work around a problem when extending built-in classes\n * like ``Error``. Some of the constructors for these classes return a value\n * from the constructor, which is then picked up by the constructors generated\n * by TypeScript (same with ES6 code transpiled through Babel), and this messes\n * up the inheritance chain.\n *\n * See https://github.com/Microsoft/TypeScript/issues/12123.\n */\nfunction fixPrototype(obj, parent) {\n    const oldProto = Object.getPrototypeOf !== undefined ?\n        Object.getPrototypeOf(obj) : obj.__proto__;\n    if (oldProto !== parent) {\n        if (Object.setPrototypeOf !== undefined) {\n            Object.setPrototypeOf(obj, parent.prototype);\n        }\n        else {\n            obj.__proto__ = parent.prototype;\n        }\n    }\n}\nexports.fixPrototype = fixPrototype;\n//  LocalWords:  MPL jQuery Lodash\n//# sourceMappingURL=tools.js.map","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","\"use strict\";\n/**\n * Classes that model datatypes used in RNG schemas.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.registry = exports.Registry = void 0;\nconst builtin_1 = require(\"./datatypes/builtin\");\nconst xmlschema_1 = require(\"./datatypes/xmlschema\");\n/**\n * The registry of types.\n */\nclass Registry {\n    constructor() {\n        this.libraries = Object.create(null);\n    }\n    /**\n     * Adds a library to the registry.\n     *\n     * @param library The library to add to the registry.\n     *\n     * @throws {Error} If the URI is already registered.\n     */\n    add(library) {\n        const uri = library.uri;\n        if (uri in this.libraries) {\n            throw new Error(`URI clash: ${uri}`);\n        }\n        this.libraries[uri] = library;\n    }\n    /**\n     * Searches for a URI in the library.\n     *\n     * @param uri The URI to search for.\n     *\n     * @returns The library that corresponds to the URI or ``undefined`` if no\n     * such library exists.\n     */\n    find(uri) {\n        return this.libraries[uri];\n    }\n    /**\n     * Gets the library corresponding to a URI.\n     *\n     * @param uri The URI.\n     *\n     * @returns The library that corresponds to the URI.\n     *\n     * @throws {Error} If the library does not exist.\n     */\n    // tslint:disable-next-line: no-reserved-keywords\n    get(uri) {\n        const ret = this.find(uri);\n        if (ret === undefined) {\n            throw new Error(`can't get library with URI: ${uri}`);\n        }\n        return ret;\n    }\n}\nexports.Registry = Registry;\nexports.registry = new Registry();\nexports.registry.add(builtin_1.builtin);\nexports.registry.add(xmlschema_1.xmlschema);\nvar errors_1 = require(\"./datatypes/errors\");\nObject.defineProperty(exports, \"ParameterParsingError\", { enumerable: true, get: function () { return errors_1.ParameterParsingError; } });\nObject.defineProperty(exports, \"ValueValidationError\", { enumerable: true, get: function () { return errors_1.ValueValidationError; } });\nObject.defineProperty(exports, \"ValueError\", { enumerable: true, get: function () { return errors_1.ValueError; } });\n//  LocalWords:  datatypes RNG MPL uri\n//# sourceMappingURL=datatypes.js.map","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"core-js-pure/stable/object/define-property\");","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = true;\n","module.exports = {};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineProperty = require('../internals/object-define-property').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar toString = require('../internals/object-to-string');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!has(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","\"use strict\";\n/**\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AnyName = exports.NsName = exports.NameChoice = exports.Name = exports.isAnyName = exports.isNsName = exports.isNameChoice = exports.isName = exports.Base = void 0;\nfunction escapeString(str) {\n    return str.replace(/([\"\\\\])/g, \"\\\\$1\");\n}\n/**\n * Base class for all name patterns.\n */\nclass Base {\n    /**\n     * Gets the list of namespaces used in the pattern. An ``::except`` entry\n     * indicates that there are exceptions in the pattern. A ``*`` entry indicates\n     * that any namespace is allowed.\n     *\n     * This method should be used by client code to help determine how to prompt\n     * the user for a namespace. If the return value is a list without\n     * ``::except`` or ``*``, the client code knows there is a finite list of\n     * namespaces expected, and what the possible values are. So it could present\n     * the user with a choice from the set. If ``::except`` or ``*`` appears in\n     * the list, then a different strategy must be used.\n     *\n     * @returns The list of namespaces.\n     */\n    getNamespaces() {\n        const namespaces = new Set();\n        this._recordNamespaces(namespaces, true);\n        return Array.from(namespaces);\n    }\n    /**\n     * Alias of [[Base.toObject]].\n     *\n     * ``toJSON`` is a misnomer, as the data returned is not JSON but a JavaScript\n     * object. This method exists so that ``JSON.stringify`` can use it.\n     */\n    toJSON() {\n        return this.toObject();\n    }\n    /**\n     * Stringify the pattern to a JSON string.\n     *\n     * @returns The stringified instance.\n     */\n    toString() {\n        // Profiling showed that caching the string representation helps\n        // performance.\n        if (this._asString === undefined) {\n            this._asString = this.asString();\n        }\n        return this._asString;\n    }\n}\nexports.Base = Base;\nfunction isName(name) {\n    return name.kind === \"Name\";\n}\nexports.isName = isName;\nfunction isNameChoice(name) {\n    return name.kind === \"NameChoice\";\n}\nexports.isNameChoice = isNameChoice;\nfunction isNsName(name) {\n    return name.kind === \"NsName\";\n}\nexports.isNsName = isNsName;\nfunction isAnyName(name) {\n    return name.kind === \"AnyName\";\n}\nexports.isAnyName = isAnyName;\n/**\n * Models the Relax NG ``<name>`` element.\n *\n */\nclass Name extends Base {\n    /**\n     * @param ns The namespace URI for this name. Corresponds to the\n     * ``ns`` attribute in the simplified Relax NG syntax.\n     *\n     * @param name The name. Corresponds to the content of ``<name>``\n     * in the simplified Relax NG syntax.\n     *\n     * @param documentation Attached documentation if available.\n     */\n    constructor(ns, name, documentation) {\n        super();\n        this.ns = ns;\n        this.name = name;\n        this.documentation = documentation;\n        this.kind = \"Name\";\n    }\n    match(ns, name) {\n        return this.name === name && this.ns === ns;\n    }\n    intersects(other) {\n        return isName(other) ? this.match(other.ns, other.name) :\n            // Delegate to the other classes.\n            other.intersects(this);\n    }\n    intersection(other) {\n        if (other === 0) {\n            return 0;\n        }\n        if (isName(other)) {\n            return this.match(other.ns, other.name) ? this : 0;\n        }\n        // Delegate to the other classes.\n        return other.intersection(this);\n    }\n    // @ts-ignore\n    wildcardMatch(ns, name) {\n        return false; // This is not a wildcard.\n    }\n    toObject() {\n        return {\n            ns: this.ns,\n            name: this.name,\n            documentation: this.documentation,\n        };\n    }\n    asString() {\n        // We don't need to escape this.name because names cannot contain\n        // things that need escaping.\n        const doc = this.documentation ?\n            `,\"documentation\":\"${this.documentation}\"` : \"\";\n        return `{\"ns\":\"${escapeString(this.ns)}\",\"name\":\"${this.name}\"${doc}}`;\n    }\n    simple() {\n        return true;\n    }\n    toArray() {\n        return [this];\n    }\n    _recordNamespaces(namespaces, recordEmpty) {\n        if (this.ns === \"\" && !recordEmpty) {\n            return;\n        }\n        namespaces.add(this.ns);\n    }\n}\nexports.Name = Name;\n/**\n * Models the Relax NG ``<choice>`` element when it appears in a name\n * class.\n */\nclass NameChoice extends Base {\n    /**\n     * @param a The first choice.\n     *\n     * @param b The second choice.\n     */\n    constructor(a, b) {\n        super();\n        this.a = a;\n        this.b = b;\n        this.kind = \"NameChoice\";\n    }\n    /**\n     * Makes a tree of NameChoice objects out of a list of names.\n     *\n     * @param names The names from which to build a tree.\n     *\n     * @return If the list is a single name, then just that name. Otherwise,\n     * the names from the list in a tree of [[NameChoice]].\n     */\n    static makeTree(names) {\n        if (names.length === 0) {\n            throw new Error(\"trying to make a tree out of nothing\");\n        }\n        let ret;\n        if (names.length > 1) {\n            // More than one name left. Convert them to a tree.\n            let top = new NameChoice(names[0], names[1]);\n            for (let ix = 2; ix < names.length; ix++) {\n                top = new NameChoice(top, names[ix]);\n            }\n            ret = top;\n        }\n        else {\n            // Only one name: we can use it as-is.\n            ret = names[0];\n        }\n        return ret;\n    }\n    match(ns, name) {\n        return this.a.match(ns, name) || this.b.match(ns, name);\n    }\n    intersects(other) {\n        return this.a.intersects(other) || this.b.intersects(other);\n    }\n    intersection(other) {\n        if (other === 0) {\n            return 0;\n        }\n        const a = this.a.intersection(other);\n        const b = this.b.intersection(other);\n        return a === 0 ? b : (b === 0 ? a : new NameChoice(a, b));\n    }\n    /**\n     * Recursively apply a transformation to a NameChoice tree.\n     *\n     * @param fn The transformation to apply. It may return 0 to indicate that the\n     * child has been transformed to the empty set.\n     *\n     * @returns The transformed tree, or 0 if the tree has been transformed to\n     * nothing.\n     */\n    applyRecursively(fn) {\n        const { a, b } = this;\n        const newA = isNameChoice(a) ? a.applyRecursively(fn) : fn(a);\n        const newB = isNameChoice(b) ? b.applyRecursively(fn) : fn(b);\n        return newA === 0 ? newB :\n            (newB === 0 ? newA : new NameChoice(newA, newB));\n    }\n    wildcardMatch(ns, name) {\n        return this.a.wildcardMatch(ns, name) || this.b.wildcardMatch(ns, name);\n    }\n    toObject() {\n        return {\n            a: this.a.toObject(),\n            b: this.b.toObject(),\n        };\n    }\n    asString() {\n        return `{\"a\":${this.a.toString()},\"b\":${this.b.toString()}}`;\n    }\n    simple() {\n        return this.a.simple() && this.b.simple();\n    }\n    toArray() {\n        const aArr = this.a.toArray();\n        if (aArr === null) {\n            return null;\n        }\n        const bArr = this.b.toArray();\n        return bArr === null ? null : aArr.concat(bArr);\n    }\n    _recordNamespaces(namespaces, recordEmpty) {\n        this.a._recordNamespaces(namespaces, recordEmpty);\n        this.b._recordNamespaces(namespaces, recordEmpty);\n    }\n}\nexports.NameChoice = NameChoice;\n/**\n * Models the Relax NG ``<nsName>`` element.\n */\nclass NsName extends Base {\n    /**\n     * @param ns The namespace URI for this name. Corresponds to the ``ns``\n     * attribute in the simplified Relax NG syntax.\n     *\n     * @param except Corresponds to an ``<except>`` element appearing as a child\n     * of the ``<nsName>`` element in the Relax NG schema.\n     */\n    constructor(ns, except) {\n        super();\n        this.ns = ns;\n        this.except = except;\n        this.kind = \"NsName\";\n    }\n    match(ns, name) {\n        return this.ns === ns && !(this.except !== undefined &&\n            this.except.match(ns, name));\n    }\n    intersects(other) {\n        if (isName(other)) {\n            return this.ns === other.ns &&\n                (this.except === undefined || !other.intersects(this.except));\n        }\n        return isNsName(other) ? this.ns === other.ns :\n            // Delegate the logic to the other classes.\n            other.intersects(this);\n    }\n    intersection(other) {\n        if (other === 0) {\n            return 0;\n        }\n        if (isName(other)) {\n            if (this.ns !== other.ns) {\n                return 0;\n            }\n            if (this.except !== undefined) {\n                // We're computing other - other ^ this.except\n                //\n                // Since other is a single name, there are only two possible values for\n                // other ^ this.except: other and 0.\n                //\n                // Consequently the whole equation can also only resolve to other and 0.\n                return other.intersection(this.except) === 0 ? other : 0;\n            }\n            return other;\n        }\n        if (isNsName(other)) {\n            if (this.ns !== other.ns) {\n                return 0;\n            }\n            if (this.except !== undefined && other.except !== undefined) {\n                // We have to create a new except that does not duplicate exceptions.\n                // For instance if this excepts {q}foo and other excepts {q}foo too, we\n                // don't want to have an exception that has {q}foo twice.\n                // Due to Relax NG restrictions on NsName, both excepts necessarily\n                // contain only Name or NameChoice elements.\n                const theseNames = this.except.toArray();\n                const otherNames = other.except.toArray();\n                // And so these cannot be null.\n                if (theseNames === null || otherNames === null) {\n                    throw new Error(\"complex pattern found in NsName except\");\n                }\n                // Find the unique names.\n                const names = Array.from(new Map(theseNames.concat(otherNames)\n                    .map(name => [`{${name.ns}}${name.name}`, name])).values());\n                return new NsName(this.ns, NameChoice.makeTree(names));\n            }\n            return (other.except !== undefined) ? other : this;\n        }\n        // Delegate the logic to the other classes.\n        return other.intersection(this);\n    }\n    /**\n     * Subtract a [[Name]] or [[NsName]] from this one, or a [[NameChoice]] that\n     * contains only a mix of these two. We support subtracting only these two\n     * types because only these two cases are required by Relax NG.\n     *\n     * @param other The object to subtract from this one.\n     *\n     * @returns An object that represents the subtraction. If the result is the\n     * empty set, 0 is returned.\n     */\n    subtract(other) {\n        if (isNameChoice(other)) {\n            // x - (a U b) = x - a U x - b\n            return other.applyRecursively(child => {\n                if (!(isName(child) || isNsName(child))) {\n                    throw new Error(\"child is not Name or NsName\");\n                }\n                return this.subtract(child);\n            });\n        }\n        if (this.ns !== other.ns) {\n            return this;\n        }\n        if (isName(other)) {\n            return new NsName(this.ns, this.except === undefined ?\n                other :\n                new NameChoice(this.except, other));\n        }\n        if (other.except === undefined) {\n            return 0;\n        }\n        if (this.except === undefined) {\n            return other.except;\n        }\n        // Otherwise, return other.except - this.except. Yes, the order is\n        // correct.\n        // Due to Relax NG restrictions on NsName, both excepts may contain only\n        // Name or NameChoice, so only simple patterns that can be converted to\n        // arrays.\n        const theseNames = this.except.toArray();\n        const otherNames = other.except.toArray();\n        if (theseNames === null || otherNames === null) {\n            throw new Error(\"NsName contains an except pattern which is not simple.\");\n        }\n        const result = otherNames\n            .filter(name => !theseNames.some(thisName => name.ns === thisName.ns &&\n            name.name === thisName.name));\n        return result.length === 0 ? 0 : NameChoice.makeTree(result);\n    }\n    wildcardMatch(ns, name) {\n        return this.match(ns, name);\n    }\n    toObject() {\n        const ret = {\n            ns: this.ns,\n        };\n        if (this.except !== undefined) {\n            ret.except = this.except.toObject();\n        }\n        return ret;\n    }\n    asString() {\n        const except = this.except === undefined ? \"\" :\n            `,\"except\":${this.except.toString()}`;\n        return `{\"ns\":\"${escapeString(this.ns)}\"${except}}`;\n    }\n    simple() {\n        return false;\n    }\n    toArray() {\n        return null;\n    }\n    _recordNamespaces(namespaces, recordEmpty) {\n        if (this.ns !== \"\" || recordEmpty) {\n            namespaces.add(this.ns);\n        }\n        if (this.except !== undefined) {\n            namespaces.add(\"::except\");\n        }\n    }\n}\nexports.NsName = NsName;\n/**\n * Models the Relax NG ``<anyName>`` element.\n */\nclass AnyName extends Base {\n    /**\n     * @param except Corresponds to an ``<except>`` element appearing as a child\n     * of the ``<anyName>`` element in the Relax NG schema.\n     */\n    constructor(except) {\n        super();\n        this.except = except;\n        this.kind = \"AnyName\";\n    }\n    match(ns, name) {\n        return (this.except === undefined) || !this.except.match(ns, name);\n    }\n    intersects(other) {\n        if (this.except === undefined || isAnyName(other)) {\n            return true;\n        }\n        if (isName(other)) {\n            return !this.except.intersects(other);\n        }\n        if (isNsName(other)) {\n            // Reminder: the except can only be one of three things: Name, NsName or\n            // NameChoice so negation can only be 0, Name, NsName or NameChoice.\n            const negation = this.except.intersection(other);\n            //\n            // We've commented out this test. The simplification/validation/checking\n            // logic prevents us from failing this test.\n            //\n            // if (!(negation === 0 || isName(negation) || isNsName(negation) ||\n            //       isNameChoice(negation))) {\n            //   throw new Error(\"negation should be 0, Name, NsName or NameChoice\");\n            // }\n            //\n            // In the absence of the test above, we must assert the type of negation\n            // here.\n            return negation === 0 ||\n                other.subtract(negation) !== 0;\n        }\n        throw new Error(\"cannot compute intersection!\");\n    }\n    intersection(other) {\n        if (other === 0) {\n            return 0;\n        }\n        if (this.except === undefined) {\n            return other;\n        }\n        if (isName(other)) {\n            return this.except.intersection(other) === 0 ? other : 0;\n        }\n        if (isNsName(other)) {\n            // Reminder: the except can only be one of three things: Name, NsName or\n            // NameChoice so negation can only be 0, Name, NsName or NameChoice.\n            const negation = this.except.intersection(other);\n            //\n            // We've commented out this test. The simplification/validation/checking\n            // logic prevents us from failing this test.\n            //\n            // if (!(negation === 0 || isName(negation) || isNsName(negation) ||\n            //       isNameChoice(negation))) {\n            //   throw new Error(\"negation should be 0, Name, NsName or NameChoice\");\n            // }\n            //\n            // In the absence of the test above, we must assert the type of negation\n            // here.\n            return negation === 0 ? other :\n                other.subtract(negation);\n        }\n        if (isAnyName(other)) {\n            if (other.except !== undefined && this.except !== undefined) {\n                return new AnyName(new NameChoice(this.except, other.except));\n            }\n            return (other.except !== undefined) ? other : this;\n        }\n        throw new Error(\"cannot compute intersection!\");\n    }\n    wildcardMatch(ns, name) {\n        return this.match(ns, name);\n    }\n    toObject() {\n        const ret = {\n            pattern: \"AnyName\",\n        };\n        if (this.except !== undefined) {\n            ret.except = this.except.toObject();\n        }\n        return ret;\n    }\n    asString() {\n        const except = this.except === undefined ? \"\" :\n            `,\"except\":${this.except.toString()}`;\n        return `{\"pattern\":\"AnyName\"${except}}`;\n    }\n    simple() {\n        return false;\n    }\n    toArray() {\n        return null;\n    }\n    _recordNamespaces(namespaces, _recordEmpty) {\n        namespaces.add(\"*\");\n        if (this.except !== undefined) {\n            namespaces.add(\"::except\");\n        }\n    }\n}\nexports.AnyName = AnyName;\n//  LocalWords:  MPL NG Stringify stringified AnyName\n//# sourceMappingURL=name_patterns.js.map","\"use strict\";\n/**\n * Errors that can be raised during parsing of types.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueValidationError = exports.ParameterParsingError = exports.ValueError = exports.ParamError = void 0;\nconst tools_1 = require(\"../tools\");\n/**\n * Records an error due to an incorrect parameter (``<param>``) value. This is\n * an error in the **schema** used to validate a document. Note that these\n * errors are *returned* by salve's internal code. They are not *thrown*.\n */\nclass ParamError {\n    /**\n     *\n     * @param message The actual error description.\n     */\n    constructor(message) {\n        this.message = message;\n    }\n    toString() {\n        return this.message;\n    }\n}\nexports.ParamError = ParamError;\n/**\n * Records an error due to an incorrect value (``<value>``).  This is an error\n * in the **schema** used to validate a document. Note that these errors are\n * *returned* by salve's internal code. They are not *thrown*.\n */\nclass ValueError {\n    /**\n     * @param message The actual error description.\n     */\n    constructor(message) {\n        this.message = message;\n    }\n    toString() {\n        return this.message;\n    }\n}\nexports.ValueError = ValueError;\n/**\n * Records the failure of parsing a parameter (``<param>``) value. Whereas\n * [[ParamError]] records each individual issue with a parameter's parsing, this\n * object is used to throw a single failure that collects all the individual\n * issues that were encountered.\n */\nclass ParameterParsingError extends Error {\n    /**\n     *\n     * @param location The location of the ``<param>`` in the schema.\n     *\n     * @param errors The errors encountered.\n     */\n    constructor(location, errors) {\n        super();\n        this.errors = errors;\n        // This is crap to work around the fact that Error is a terribly badly\n        // designed class or prototype or whatever. Unfortunately the stack trace is\n        // off...\n        const msg = `${location}: ${errors.map((x) => x.toString()).join(\"\\n\")}`;\n        const err = new Error(msg);\n        this.name = \"ParameterParsingError\";\n        this.stack = err.stack;\n        this.message = err.message;\n        tools_1.fixPrototype(this, ParameterParsingError);\n    }\n}\nexports.ParameterParsingError = ParameterParsingError;\n/**\n * Records the failure of parsing a value (``<value>``). Whereas [[ValueError]]\n * records each individual issue with a value's parsing, this object is used to\n * throw a single failure that collects all the individual issues that were\n * encountered.\n */\nclass ValueValidationError extends Error {\n    /**\n     * @param location The location of the ``<value>`` in the schema.\n     *\n     * @param errors The errors encountered.\n     */\n    constructor(location, errors) {\n        super();\n        this.errors = errors;\n        // This is crap to work around the fact that Error is a terribly badly\n        // designed class or prototype or whatever. Unfortunately the stack trace is\n        // off...\n        const msg = `${location}: ${errors.map((x) => x.toString()).join(\"\\n\")}`;\n        const err = new Error(msg);\n        this.name = \"ValueValidationError\";\n        this.stack = err.stack;\n        this.message = err.message;\n        tools_1.fixPrototype(this, ValueValidationError);\n    }\n}\nexports.ValueValidationError = ValueValidationError;\n//  LocalWords:  MPL ParamError ParameterParsingError ValueValidationError\n//# sourceMappingURL=errors.js.map","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","require('./es.array.iterator');\nvar DOMIterables = require('../internals/dom-iterables');\nvar global = require('../internals/global');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype && classof(CollectionPrototype) !== TO_STRING_TAG) {\n    createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n  }\n  Iterators[COLLECTION_NAME] = Iterators.Array;\n}\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.12.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  return !String(Symbol()) ||\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","module.exports = require(\"core-js-pure/features/get-iterator-method\");","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Data = void 0;\n/**\n * Pattern and walker for RNG's ``data`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst datatypes_1 = require(\"../datatypes\");\nconst errors_1 = require(\"../errors\");\nconst events_1 = require(\"../events\");\nconst base_1 = require(\"./base\");\n/**\n * Data pattern.\n */\nclass Data extends base_1.Pattern {\n    /**\n     *\n     * @param xmlPath This is a string which uniquely identifies the\n     * element from the simplified RNG tree. Used in debugging.\n     *\n     * @param type The type of value.\n     *\n     * @param datatypeLibrary The URI of the datatype library to use.\n     *\n     * @param params The parameters from the RNG file.\n     *\n     * @param except The exception pattern.\n     */\n    // tslint:disable-next-line: no-reserved-keywords\n    constructor(xmlPath, type = \"token\", datatypeLibrary = \"\", params, except) {\n        super(xmlPath);\n        this.type = type;\n        this.datatypeLibrary = datatypeLibrary;\n        this.except = except;\n        const datatype = this.datatype =\n            datatypes_1.registry.get(this.datatypeLibrary).types[this.type];\n        if (datatype === undefined) {\n            throw new Error(`unknown type: ${type}`);\n        }\n        this.rngParams = params;\n    }\n    get params() {\n        let ret = this._params;\n        if (ret !== undefined) {\n            return ret;\n        }\n        ret = this._params = this.datatype.parseParams(this.xmlPath, this.rngParams);\n        return ret;\n    }\n    get allowsEmptyContent() {\n        let ret = this._allowsEmptyContent;\n        if (ret !== undefined) {\n            return ret;\n        }\n        const { except, params, datatype } = this;\n        ret = this._allowsEmptyContent =\n            !(except !== undefined && except.hasEmptyPattern()) &&\n                !datatype.disallows(\"\", params);\n        return ret;\n    }\n    newWalker() {\n        const { allowsEmptyContent } = this;\n        // tslint:disable-next-line:no-use-before-declare\n        return new DataWalker(this, this.datatype, this.params, this.except, false, allowsEmptyContent, allowsEmptyContent);\n    }\n}\nexports.Data = Data;\n/**\n * Walker for [[Data]].\n */\nclass DataWalker {\n    constructor(el, datatype, params, except, matched, canEndAttribute, canEnd) {\n        this.el = el;\n        this.datatype = datatype;\n        this.params = params;\n        this.except = except;\n        this.matched = matched;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new DataWalker(this.el, this.el.datatype, this.el.params, this.el.except, this.matched, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        // We completely ignore the possible exception when producing the\n        // possibilities. There is no clean way to specify such an exception.\n        return new Set(this.matched ? undefined :\n            [new events_1.TextEvent(this.datatype.regexp)]);\n    }\n    possibleAttributes() {\n        return new Set();\n    }\n    fireEvent(name, params, nameResolver) {\n        if (this.matched || name !== \"text\" ||\n            this.datatype.disallows(params[0], this.params, { resolver: nameResolver })) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        if (this.except !== undefined) {\n            const walker = this.except.newWalker();\n            const exceptRet = walker.fireEvent(name, params, nameResolver);\n            // False, so the except does match the text, and so this pattern does\n            // not match it.\n            if (exceptRet.matched) {\n                return new base_1.InternalFireEventResult(false);\n            }\n            // Otherwise, it is undefined, in which case it means the except does\n            // not match the text, and we are fine. Or it would be possible for the\n            // walker to have returned an error but there is nothing we can do with\n            // such errors here.\n        }\n        // If we matched, we are done. salve does not allow text that appears in\n        // an XML element to be passed as two \"text\" events. So there is nothing\n        // to come that could falsify the match. (If a client *does* pass\n        // multiple text events one after the other, it is using salve\n        // incorrectly.)\n        this.matched = true;\n        this.canEnd = true;\n        this.canEndAttribute = true;\n        return new base_1.InternalFireEventResult(true);\n    }\n    end() {\n        return this.canEnd ? false : [new errors_1.ValidationError(\"value required\")];\n    }\n    endAttributes() {\n        return false;\n    }\n}\n//  LocalWords:  RNG's MPL RNG nd possibleCached\n//# sourceMappingURL=data.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","module.exports = require(\"core-js-pure/features/get-iterator\");","module.exports = function () { /* empty */ };\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n};\n","module.exports = require(\"core-js-pure/stable/array/is-array\");","require('../../modules/es.array.is-array');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Array.isArray;\n","module.exports = require(\"core-js-pure/stable/symbol\");","require('../../modules/es.array.concat');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.symbol');\nrequire('../../modules/es.symbol.async-iterator');\nrequire('../../modules/es.symbol.description');\nrequire('../../modules/es.symbol.has-instance');\nrequire('../../modules/es.symbol.is-concat-spreadable');\nrequire('../../modules/es.symbol.iterator');\nrequire('../../modules/es.symbol.match');\nrequire('../../modules/es.symbol.match-all');\nrequire('../../modules/es.symbol.replace');\nrequire('../../modules/es.symbol.search');\nrequire('../../modules/es.symbol.species');\nrequire('../../modules/es.symbol.split');\nrequire('../../modules/es.symbol.to-primitive');\nrequire('../../modules/es.symbol.to-string-tag');\nrequire('../../modules/es.symbol.unscopables');\nrequire('../../modules/es.json.to-string-tag');\nrequire('../../modules/es.math.to-string-tag');\nrequire('../../modules/es.reflect.to-string-tag');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Symbol;\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","module.exports = require(\"core-js-pure/stable/array/from\");","require('../../modules/es.string.iterator');\nrequire('../../modules/es.array.from');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Array.from;\n","module.exports = require(\"core-js-pure/stable/instance/slice\");","var slice = require('../array/virtual/slice');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.slice;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.slice) ? slice : own;\n};\n","module.exports = require(\"core-js-pure/stable/instance/includes\");","module.exports = require(\"core-js-pure/stable/instance/concat\");","module.exports = require(\"core-js-pure/stable/instance/for-each\");","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","\"use strict\";\n/**\n * Collection of constants that model the way XML refers to various\n * characters and groups of characters. This module is essentially private to\n * salve.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.xmlNcnameRe = exports.xmlNcname = exports.xmlNameRe = exports.xmlNameChar = exports.xmlLetter = void 0;\n// The constants here are just representations in JavaScript of the character\n// classes that the XML standard uses. So we don't document them.  See the XML\n// standard and read salve's code to figure out what they are for.\n/* tslint:disable max-line-length */\nconst xmlBaseChar = \"A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0100-\\u0131\\u0134-\\u013E\\u0141-\\u0148\\u014A-\\u017E\\u0180-\\u01C3\\u01CD-\\u01F0\\u01F4-\\u01F5\\u01FA-\\u0217\\u0250-\\u02A8\\u02BB-\\u02C1\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03CE\\u03D0-\\u03D6\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2-\\u03F3\\u0401-\\u040C\\u040E-\\u044F\\u0451-\\u045C\\u045E-\\u0481\\u0490-\\u04C4\\u04C7-\\u04C8\\u04CB-\\u04CC\\u04D0-\\u04EB\\u04EE-\\u04F5\\u04F8-\\u04F9\\u0531-\\u0556\\u0559\\u0561-\\u0586\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u063A\\u0641-\\u064A\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D3\\u06D5\\u06E5-\\u06E6\\u0905-\\u0939\\u093D\\u0958-\\u0961\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8B\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AE0\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B36-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB5\\u0BB7-\\u0BB9\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CDE\\u0CE0-\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D60-\\u0D61\\u0E01-\\u0E2E\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EAE\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0F40-\\u0F47\\u0F49-\\u0F69\\u10A0-\\u10C5\\u10D0-\\u10F6\\u1100\\u1102-\\u1103\\u1105-\\u1107\\u1109\\u110B-\\u110C\\u110E-\\u1112\\u113C\\u113E\\u1140\\u114C\\u114E\\u1150\\u1154-\\u1155\\u1159\\u115F-\\u1161\\u1163\\u1165\\u1167\\u1169\\u116D-\\u116E\\u1172-\\u1173\\u1175\\u119E\\u11A8\\u11AB\\u11AE-\\u11AF\\u11B7-\\u11B8\\u11BA\\u11BC-\\u11C2\\u11EB\\u11F0\\u11F9\\u1E00-\\u1E9B\\u1EA0-\\u1EF9\\u1F00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2126\\u212A-\\u212B\\u212E\\u2180-\\u2182\\u3041-\\u3094\\u30A1-\\u30FA\\u3105-\\u312C\\uAC00-\\uD7A3\";\nconst xmlIdeographic = \"\\u4E00-\\u9FA5\\u3007\\u3021-\\u3029\";\nexports.xmlLetter = xmlBaseChar + xmlIdeographic;\nconst xmlDigit = \"\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE7-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\";\nconst xmlCombiningChar = \"\\u0300-\\u0345\\u0360-\\u0361\\u0483-\\u0486\\u0591-\\u05A1\\u05A3-\\u05B9\\u05BB-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4\\u064B-\\u0652\\u0670\\u06D6-\\u06DC\\u06DD-\\u06DF\\u06E0-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0901-\\u0903\\u093C\\u093E-\\u094C\\u094D\\u0951-\\u0954\\u0962-\\u0963\\u0981-\\u0983\\u09BC\\u09BE\\u09BF\\u09C0-\\u09C4\\u09C7-\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2-\\u09E3\\u0A02\\u0A3C\\u0A3E\\u0A3F\\u0A40-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A70-\\u0A71\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B43\\u0B47-\\u0B48\\u0B4B-\\u0B4D\\u0B56-\\u0B57\\u0B82-\\u0B83\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C01-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C82-\\u0C83\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D43\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86-\\u0F8B\\u0F90-\\u0F95\\u0F97\\u0F99-\\u0FAD\\u0FB1-\\u0FB7\\u0FB9\\u20D0-\\u20DC\\u20E1\\u302A-\\u302F\\u3099\\u309A\";\nconst xmlExtender = \"\\u00B7\\u02D0\\u02D1\\u0387\\u0640\\u0E46\\u0EC6\\u3005\\u3031-\\u3035\\u309D-\\u309E\\u30FC-\\u30FE\";\n// It is important to have the dash first to avoid issues with ranges in\n// regexps. Also, the following contain periods. However, they are doing to\n// appear inside square bracket in the regexps.\nexports.xmlNameChar = `-${exports.xmlLetter}${xmlDigit}._:${xmlCombiningChar}${xmlExtender}`;\nconst xmlName = `[${exports.xmlLetter}_:](?:[${exports.xmlNameChar}])*`;\nexports.xmlNameRe = new RegExp(`^\\\\s*${xmlName}\\\\s*$`);\nexports.xmlNcname = `[${exports.xmlLetter}_](?:[-${exports.xmlLetter}${xmlDigit}._${xmlCombiningChar}` +\n    `${xmlExtender}])*`;\nexports.xmlNcnameRe = new RegExp(`^\\\\s*${exports.xmlNcname}\\\\s*$`);\n//  LocalWords:  MPL\n//# sourceMappingURL=xmlcharacters.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Text = void 0;\n/**\n * Pattern and walker for RNG's ``text`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst events_1 = require(\"../events\");\nconst base_1 = require(\"./base\");\n/**\n * Pattern for ``<text/>``.\n */\nclass Text extends base_1.Pattern {\n    hasEmptyPattern() {\n        // A text node may always be a zero-length node, which mean that we\n        // effectively allow the container to be empty.\n        return true;\n    }\n    newWalker() {\n        // tslint:disable-next-line:no-use-before-declare\n        return singleton;\n    }\n}\nexports.Text = Text;\n/**\n *\n * Walker for [[Text]]\n *\n */\nclass TextWalker {\n    /**\n     * @param el The pattern for which this walker was constructed.\n     */\n    constructor(el) {\n        this.el = el;\n        this.canEnd = true;\n        this.canEndAttribute = true;\n    }\n    // Since TextWalker is a singleton, the cloning operation just\n    // returns the original walker.\n    clone() {\n        return this;\n    }\n    possible() {\n        return new Set([TextWalker._textEvent]);\n    }\n    possibleAttributes() {\n        return new Set();\n    }\n    fireEvent(name) {\n        return new base_1.InternalFireEventResult(name === \"text\");\n    }\n    end() {\n        return false;\n    }\n    endAttributes() {\n        return false;\n    }\n}\nTextWalker._textEvent = new events_1.TextEvent(/^[^]*$/);\nconst singleton = new TextWalker(new Text(\"FAKE ELEMENT\"));\n//  LocalWords:  RNG's MPL possibleCached\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Empty = void 0;\n/**\n * Pattern and walker for RNG's ``empty`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst base_1 = require(\"./base\");\n/**\n * Pattern for ``<empty/>``.\n */\nclass Empty extends base_1.Pattern {\n    hasEmptyPattern() {\n        return true;\n    }\n    newWalker() {\n        // tslint:disable-next-line:no-use-before-declare\n        return singleton;\n    }\n}\nexports.Empty = Empty;\n/**\n * Walker for [[Empty]].\n *\n * @param el The pattern for which this walker was created.\n *\n * @param resolver Ignored by this walker.\n */\nclass EmptyWalker {\n    constructor(el) {\n        this.el = el;\n        this.canEnd = true;\n        this.canEndAttribute = true;\n    }\n    // Since the Empty walker is a singleton, the cloning operation just\n    // returns the original walker.\n    clone() {\n        return this;\n    }\n    possible() {\n        return new Set();\n    }\n    possibleAttributes() {\n        return new Set();\n    }\n    fireEvent(name, params) {\n        return new base_1.InternalFireEventResult((name === \"text\") &&\n            !/\\S/.test(params[0]));\n    }\n    end() {\n        return false;\n    }\n    endAttributes() {\n        return false;\n    }\n}\nconst singleton = new EmptyWalker(new Empty(\"FAKE ELEMENT\"));\n//  LocalWords:  RNG's MPL possibleCached\n//# sourceMappingURL=empty.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotAllowedWalker = exports.NotAllowed = void 0;\n/**\n * Pattern and walker for RNG's ``notAllowed`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst base_1 = require(\"./base\");\n/**\n * Pattern for ``<notAllowed/>``.\n */\nclass NotAllowed extends base_1.Pattern {\n    newWalker() {\n        // tslint:disable-next-line:no-use-before-declare\n        return singleton;\n    }\n}\nexports.NotAllowed = NotAllowed;\n/**\n * Walker for [[NotAllowed]];\n */\nclass NotAllowedWalker {\n    /**\n     * @param el The pattern for which this walker was created.\n     */\n    constructor(el) {\n        this.el = el;\n        this.canEnd = true;\n        this.canEndAttribute = true;\n    }\n    // Since NotAllowedWalker is a singleton, the cloning operation just\n    // returns the original walker.\n    clone() {\n        return this;\n    }\n    possible() {\n        return new Set();\n    }\n    possibleAttributes() {\n        return new Set();\n    }\n    fireEvent() {\n        return new base_1.InternalFireEventResult(false); // we never match!\n    }\n    end() {\n        return false;\n    }\n    endAttributes() {\n        return false;\n    }\n}\nexports.NotAllowedWalker = NotAllowedWalker;\nconst singleton = new NotAllowedWalker(new NotAllowed(\"FAKE ELEMENT\"));\n//  LocalWords:  RNG's MPL possibleCached\n//# sourceMappingURL=not_allowed.js.map","\"use strict\";\n/**\n * Facilities for loading resources.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makeResourceLoader = void 0;\n// tslint:disable-next-line:no-typeof-undefined\nif (typeof fetch === \"undefined\") {\n    throw new Error(\"all resource loaders require fetch to be available\");\n}\nfunction makeResourceLoader() {\n    // tslint:disable-next-line:no-typeof-undefined\n    if (typeof window === \"undefined\") {\n        // tslint:disable-next-line:no-require-imports\n        const node = require(\"./resource-loaders/node\");\n        return new node.NodeResourceLoader();\n    }\n    // tslint:disable-next-line:no-require-imports\n    const fetch = require(\"./resource-loaders/fetch\");\n    return new fetch.FetchResourceLoader();\n}\nexports.makeResourceLoader = makeResourceLoader;\n//# sourceMappingURL=resource-loader.js.map","\"use strict\";\n\nconst {\n  isS, isChar: isChar10, isNameStartChar, isNameChar, S_LIST, NAME_RE,\n} = require(\"xmlchars/xml/1.0/ed5\");\nconst { isChar: isChar11 } = require(\"xmlchars/xml/1.1/ed2\");\nconst { isNCNameStartChar, isNCNameChar, NC_NAME_RE } =\n      require(\"xmlchars/xmlns/1.0/ed3\");\n\nconst XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\";\nconst XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\";\n\nconst rootNS = {\n  __proto__: null,\n  xml: XML_NAMESPACE,\n  xmlns: XMLNS_NAMESPACE,\n};\n\nconst XML_ENTITIES = {\n  __proto__: null,\n  amp: \"&\",\n  gt: \">\",\n  lt: \"<\",\n  quot: \"\\\"\",\n  apos: \"'\",\n};\n\n// EOC: end-of-chunk\nconst EOC = -1;\nconst NL_LIKE = -2;\n\nconst S_BEGIN_WHITESPACE = \"sBeginWhitespace\"; // leading whitespace\nconst S_DOCTYPE = \"sDoctype\"; // <!DOCTYPE\nconst S_DOCTYPE_QUOTE = \"sDoctypeQuote\"; // <!DOCTYPE \"//blah\nconst S_DTD = \"sDTD\"; // <!DOCTYPE \"//blah\" [ ...\nconst S_DTD_QUOTED = \"sDTDQuoted\"; // <!DOCTYPE \"//blah\" [ \"foo\nconst S_DTD_OPEN_WAKA = \"sDTDOpenWaka\";\nconst S_DTD_OPEN_WAKA_BANG = \"sDTDOpenWakaBang\";\nconst S_DTD_COMMENT = \"sDTDComment\"; // <!--\nconst S_DTD_COMMENT_ENDING = \"sDTDCommentEnding\"; // <!-- blah -\nconst S_DTD_COMMENT_ENDED = \"sDTDCommentEnded\"; // <!-- blah --\nconst S_DTD_PI = \"sDTDPI\"; // <?\nconst S_DTD_PI_ENDING = \"sDTDPIEnding\"; // <?hi \"there\" ?\nconst S_TEXT = \"sText\"; // general stuff\nconst S_ENTITY = \"sEntity\"; // &amp and such\nconst S_OPEN_WAKA = \"sOpenWaka\"; // <\nconst S_OPEN_WAKA_BANG = \"sOpenWakaBang\"; // <!...\nconst S_COMMENT = \"sComment\"; // <!--\nconst S_COMMENT_ENDING = \"sCommentEnding\"; // <!-- blah -\nconst S_COMMENT_ENDED = \"sCommentEnded\"; // <!-- blah --\nconst S_CDATA = \"sCData\"; // <![CDATA[ something\nconst S_CDATA_ENDING = \"sCDataEnding\"; // ]\nconst S_CDATA_ENDING_2 = \"sCDataEnding2\"; // ]]\nconst S_PI_FIRST_CHAR = \"sPIFirstChar\"; // <?hi, first char\nconst S_PI_REST = \"sPIRest\"; // <?hi, rest of the name\nconst S_PI_BODY = \"sPIBody\"; // <?hi there\nconst S_PI_ENDING = \"sPIEnding\"; // <?hi \"there\" ?\nconst S_OPEN_TAG = \"sOpenTag\"; // <strong\nconst S_OPEN_TAG_SLASH = \"sOpenTagSlash\"; // <strong /\nconst S_ATTRIB = \"sAttrib\"; // <a\nconst S_ATTRIB_NAME = \"sAttribName\"; // <a foo\nconst S_ATTRIB_NAME_SAW_WHITE = \"sAttribNameSawWhite\"; // <a foo _\nconst S_ATTRIB_VALUE = \"sAttribValue\"; // <a foo=\nconst S_ATTRIB_VALUE_QUOTED = \"sAttribValueQuoted\"; // <a foo=\"bar\nconst S_ATTRIB_VALUE_CLOSED = \"sAttribValueClosed\"; // <a foo=\"bar\"\nconst S_ATTRIB_VALUE_UNQUOTED = \"sAttribValueUnquoted\"; // <a foo=bar\nconst S_CLOSE_TAG = \"sCloseTag\"; // </a\nconst S_CLOSE_TAG_SAW_WHITE = \"sCloseTagSawWhite\"; // </a   >\n\n// These states are internal to sPIBody\nconst S_XML_DECL_NAME_START = 1; // <?xml\nconst S_XML_DECL_NAME = 2; // <?xml foo\nconst S_XML_DECL_EQ = 3; // <?xml foo=\nconst S_XML_DECL_VALUE_START = 4; // <?xml foo=\nconst S_XML_DECL_VALUE = 5; // <?xml foo=\"bar\"\n\n/**\n * The list of supported events.\n */\nexports.EVENTS = [\n  \"text\",\n  \"processinginstruction\",\n  \"doctype\",\n  \"comment\",\n  \"opentagstart\",\n  \"opentag\",\n  \"closetag\",\n  \"cdata\",\n  \"error\",\n  \"end\",\n  \"ready\",\n];\n\nconst TAB = 9;\nconst NL = 0xA;\nconst CR = 0xD;\nconst SPACE = 0x20;\nconst BANG = 0x21;\nconst DQUOTE = 0x22;\nconst AMP = 0x26;\nconst SQUOTE = 0x27;\nconst MINUS = 0x2D;\nconst FORWARD_SLASH = 0x2F;\nconst SEMICOLON = 0x3B;\nconst LESS = 0x3C;\nconst EQUAL = 0x3D;\nconst GREATER = 0x3E;\nconst QUESTION = 0x3F;\nconst OPEN_BRACKET = 0x5B;\nconst CLOSE_BRACKET = 0x5D;\nconst NEL = 0x85;\nconst LS = 0x2028; // Line Separator\n\nfunction isQuote(c) {\n  return c === DQUOTE || c === SQUOTE;\n}\n\nconst QUOTES = [DQUOTE, SQUOTE];\n\nconst DOCTYPE_TERMINATOR = [...QUOTES, OPEN_BRACKET, GREATER];\nconst DTD_TERMINATOR = [...QUOTES, LESS, CLOSE_BRACKET];\nconst XML_DECL_NAME_TERMINATOR = [EQUAL, QUESTION, ...S_LIST];\nconst ATTRIB_VALUE_UNQUOTED_TERMINATOR = [...S_LIST, GREATER, AMP, LESS];\n\nfunction nsPairCheck(parser, prefix, uri) {\n  switch (prefix) {\n  case \"xml\":\n    if (uri !== XML_NAMESPACE) {\n      parser.fail(`xml prefix must be bound to ${XML_NAMESPACE}.`);\n    }\n    break;\n  case \"xmlns\":\n    if (uri !== XMLNS_NAMESPACE) {\n      parser.fail(`xmlns prefix must be bound to ${XMLNS_NAMESPACE}.`);\n    }\n    break;\n  default:\n  }\n\n  switch (uri) {\n  case XMLNS_NAMESPACE:\n    parser.fail(prefix === \"\" ?\n                `the default namespace may not be set to ${uri}.` :\n                `may not assign a prefix (even \"xmlns\") to the URI \\\n${XMLNS_NAMESPACE}.`);\n    break;\n  case XML_NAMESPACE:\n    switch (prefix) {\n    case \"xml\":\n      // Assinging the XML namespace to \"xml\" is fine.\n      break;\n    case \"\":\n      parser.fail(`the default namespace may not be set to ${uri}.`);\n      break;\n    default:\n      parser.fail(\"may not assign the xml namespace to another prefix.\");\n    }\n    break;\n  default:\n  }\n}\n\n\nfunction nsMappingCheck(parser, mapping) {\n  for (const local of Object.keys(mapping)) {\n    nsPairCheck(parser, local, mapping[local]);\n  }\n}\n\nfunction isNCName(name) {\n  return NC_NAME_RE.test(name);\n}\n\nfunction isName(name) {\n  return NAME_RE.test(name);\n}\n\nconst FORBIDDEN_START = 0;\nconst FORBIDDEN_BRACKET = 1;\nconst FORBIDDEN_BRACKET_BRACKET = 2;\n\n/**\n * Data structure for an XML tag.\n *\n * @typedef {object} SaxesTag\n *\n * @property {string} name The tag's name. This is the combination of prefix and\n * global name. For instance ``<a:b>`` would have ``\"a:b\"`` for ``name``.\n *\n * @property {string} prefix The tag's prefix. For instance ``<a:b>`` would have\n * ``\"a\"`` for ``prefix``. Undefined if we do not track namespaces.\n *\n * @property {string} local The tag's local name. For instance ``<a:b>`` would\n * have ``\"b\"`` for ``local``. Undefined if we do not track namespaces.\n *\n * @property {string} uri The namespace URI of this tag. Undefined if we do not\n * track namespaces.\n *\n * @property {Object.<string, SaxesAttribute> | Object.<string, string>}\n * attributes A map of attribute name to attributes. If namespaces are tracked,\n * the values in the map are {@link SaxesAttribute SaxesAttribute}\n * objects. Otherwise, they are strings.\n *\n * @property {Object.<string, string>} ns The namespace bindings in effect.\n *\n * @property {boolean} isSelfClosing Whether the tag is\n * self-closing (e.g. ``<foo/>``).\n *\n */\n\n/**\n * Data structure for an XML attribute\n *\n * @typedef {object} SaxesAttribute\n *\n * @property {string} name The attribute's name. This is the combination of\n * prefix and local name. For instance ``a:b=\"c\"`` would have ``a:b`` for name.\n *\n * @property {string} prefix The attribute's prefix. For instance ``a:b=\"c\"``\n * would have ``\"a\"`` for ``prefix``.\n *\n * @property {string} local The attribute's local name. For instance ``a:b=\"c\"``\n * would have ``\"b\"`` for ``local``.\n *\n * @property {string} uri The namespace URI of this attribute.\n *\n * @property {string} value The attribute's value.\n */\n\n/**\n * @typedef XMLDecl\n *\n * @property {string} [version] The version specified by the XML declaration.\n *\n * @property {string} [encoding] The encoding specified by the XML declaration.\n *\n * @property {string} [standalone] The value of the standalone parameter\n * specified by the XML declaration.\n */\n\n/**\n * @callback ResolvePrefix\n *\n * @param {string} prefix The prefix to check.\n *\n * @returns {string|undefined} The URI corresponding to the prefix, if any.\n */\n\n/**\n * @typedef SaxesOptions\n *\n * @property {boolean} [xmlns] Whether to track namespaces. Unset means\n * ``false``.\n *\n * @property {boolean} [fragment] Whether to accept XML fragments. Unset means\n * ``false``.\n *\n * @property {boolean} [additionalNamespaces] A plain object whose key, value\n * pairs define namespaces known before parsing the XML file. It is not legal\n * to pass bindings for the namespaces ``\"xml\"`` or ``\"xmlns\"``.\n *\n * @property {ResolvePrefix} [resolvePrefix] A function that will be used if the\n * parser cannot resolve a namespace prefix on its own.\n *\n * @property {boolean} [position] Whether to track positions. Unset means\n * ``true``.\n *\n * @property {string} [fileName] A file name to use for error reporting. \"File\n * name\" is a loose concept. You could use a URL to some resource, or any\n * descriptive name you like.\n *\n * @property {\"1.0\" | \"1.1\"} [defaultXMLVersion] The default XML version to\n * use. If unspecified, and there is no XML encoding declaration, the default\n * version is \"1.0\".\n *\n * @property {boolean} [forceXMLVersion] A flag indicating whether to force the\n * XML version used for parsing to the value of ``defaultXMLVersion``. When this\n * flag is ``true``, ``defaultXMLVersion`` must be specified. If unspecified,\n * the default value of this flag is ``false``.\n */\n\nclass SaxesParser {\n  /**\n   * @param {SaxesOptions} opt The parser options.\n   */\n  constructor(opt) {\n    this._init(opt);\n  }\n\n  /**\n   * Reset the parser state.\n   *\n   * @private\n   */\n  _init(opt) {\n    this.openWakaBang = \"\";\n    this.text = \"\";\n    this.name = \"\";\n    this.piTarget = \"\";\n    this.entity = \"\";\n    this.xmlDeclName = \"\";\n\n    /**\n     * The options passed to the constructor of this parser.\n     *\n     * @type {SaxesOptions}\n     */\n    this.opt = opt || {};\n\n    /**\n     * Indicates whether or not the parser is closed. If ``true``, wait for\n     * the ``ready`` event to write again.\n     *\n     * @type {boolean}\n     */\n    this.closed = false;\n\n    /**\n     * The XML declaration for this document.\n     *\n     * @type {XMLDecl}\n     */\n    this.xmlDecl = {\n      version: undefined,\n      encoding: undefined,\n      standalone: undefined,\n    };\n\n    this.q = null;\n    this.tags = [];\n    this.tag = null;\n    this.chunk = \"\";\n    this.chunkPosition = 0;\n    this.i = 0;\n    //\n    // We use prevI to allow \"ungetting\" the previously read code point. Note\n    // however, that it is not safe to unget everything and anything. In\n    // particular ungetting EOL characters will screw positioning up.\n    //\n    // Practically, you must not unget a code which has any side effect beyond\n    // updating ``this.i`` and ``this.prevI``. Only EOL codes have such side\n    // effects.\n    //\n    this.prevI = 0;\n    this.carriedFromPrevious = undefined;\n    this.forbiddenState = FORBIDDEN_START;\n    /**\n     * A map of entity name to expansion.\n     *\n     * @type {Object.<string, string>}\n     */\n    this.ENTITIES = Object.create(XML_ENTITIES);\n    this.attribList = [];\n\n    // The logic is organized so as to minimize the need to check\n    // this.opt.fragment while parsing.\n\n    const fragmentOpt = this.fragmentOpt = !!this.opt.fragment;\n    this.state = fragmentOpt ? S_TEXT : S_BEGIN_WHITESPACE;\n    // We want these to be all true if we are dealing with a fragment.\n    this.reportedTextBeforeRoot = this.reportedTextAfterRoot = this.closedRoot =\n      this.sawRoot = fragmentOpt;\n    // An XML declaration is intially possible only when parsing whole\n    // documents.\n    this.xmlDeclPossible = !fragmentOpt;\n\n    this.piIsXMLDecl = false;\n    this.xmlDeclState = S_XML_DECL_NAME_START;\n    this.xmlDeclExpects = [\"version\"];\n    this.requiredSeparator = false;\n    this.entityReturnState = undefined;\n    const xmlnsOpt = this.xmlnsOpt = !!this.opt.xmlns;\n\n    if (xmlnsOpt) {\n      // This is the function we use to perform name checks on PIs and entities.\n      // When namespaces are used, colons are not allowed in PI target names or\n      // entity names. So the check depends on whether namespaces are used. See:\n      //\n      // https://www.w3.org/XML/xml-names-19990114-errata.html\n      // NE08\n      //\n      this.nameStartCheck = isNCNameStartChar;\n      this.nameCheck = isNCNameChar;\n      this.isName = isNCName;\n      this.processAttribs = this.processAttribsNS;\n\n      this.ns = { __proto__: null, ...rootNS };\n      const additional = this.opt.additionalNamespaces;\n      if (additional) {\n        nsMappingCheck(this, additional);\n        Object.assign(this.ns, additional);\n      }\n    }\n    else {\n      this.nameStartCheck = isNameStartChar;\n      this.nameCheck = isNameChar;\n      this.isName = isName;\n      this.processAttribs = this.processAttribsPlain;\n    }\n\n    let { defaultXMLVersion } = this.opt;\n    const { forceXMLVersion } = this.opt;\n    if (defaultXMLVersion === undefined) {\n      if (forceXMLVersion) {\n        throw new Error(\"forceXMLVersion set but defaultXMLVersion is not set\");\n      }\n      defaultXMLVersion = \"1.0\";\n    }\n    this.setXMLVersion(defaultXMLVersion);\n\n    this.trackPosition = this.opt.position !== false;\n    /** The line number the parser is  currently looking at. */\n    this.line = 1;\n\n    /** The column the parser is currently looking at. */\n    this.positionAtNewLine = 0;\n\n    this.fileName = this.opt.fileName;\n    this.onready();\n  }\n\n  /** The stream position the parser is currently looking at. */\n  get position() {\n    return this.chunkPosition + this.i;\n  }\n\n  get column() {\n    return this.position - this.positionAtNewLine;\n  }\n\n  /* eslint-disable class-methods-use-this */\n  /**\n   * Event handler for text data. The default implementation is a no-op.\n   *\n   * @param {string} text The text data encountered by the parser.\n   *\n   */\n  ontext() {}\n\n  /**\n   * Event handler for processing instructions. The default implementation is a\n   * no-op.\n   *\n   * @param {{target: string, body: string}} data The target and body of\n   * the processing instruction.\n   */\n  onprocessinginstruction() {}\n\n  /**\n   * Event handler for doctype. The default implementation is a no-op.\n   *\n   * @param {string} doctype The doctype contents.\n   */\n  ondoctype() {}\n\n  /**\n   * Event handler for comments. The default implementation is a no-op.\n   *\n   * @param {string} comment The comment contents.\n   */\n  oncomment() {}\n\n  /**\n   * Event handler for the start of an open tag. This is called as soon as we\n   * have a tag name. The default implementation is a no-op.\n   *\n   * @param {SaxesTag} tag The tag.\n   */\n  onopentagstart() {}\n\n  /**\n   * Event handler for an open tag. This is called when the open tag is\n   * complete. (We've encountered the \">\" that ends the open tag.) The default\n   * implementation is a no-op.\n   *\n   * @param {SaxesTag} tag The tag.\n   */\n  onopentag() {}\n\n  /**\n   * Event handler for a close tag. Note that for self-closing tags, this is\n   * called right after ``onopentag``. The default implementation is a no-op.\n   *\n   * @param {SaxesTag} tag The tag.\n   */\n  onclosetag() {}\n\n  /**\n   * Event handler for a CDATA section. This is called when ending the\n   * CDATA section. The default implementation is a no-op.\n   *\n   * @param {string} cdata The contents of the CDATA section.\n   */\n  oncdata() {}\n\n  /**\n   * Event handler for the stream end. This is called when the stream has been\n   * closed with ``close`` or by passing ``null`` to ``write``. The default\n   * implementation is a no-op.\n   */\n  onend() {}\n\n  /**\n   * Event handler indicating parser readiness . This is called when the parser\n   * is ready to parse a new document.  The default implementation is a no-op.\n   */\n  onready() {}\n\n  /**\n   * Event handler indicating an error. The default implementation throws the\n   * error. Override with a no-op handler if you don't want this.\n   *\n   * @param {Error} err The error that occurred.\n   */\n  onerror(err) {\n    throw new Error(err);\n  }\n  /* eslint-enable class-methods-use-this */\n\n  /**\n   * Report a parsing error. This method is made public so that client code may\n   * check for issues that are outside the scope of this project and can report\n   * errors.\n   *\n   * @param {string} er The error to report.\n   *\n   * @returns this\n   */\n  fail(er) {\n    let message = this.fileName || \"\";\n    if (this.trackPosition) {\n      if (message.length > 0) {\n        message += \":\";\n      }\n      message += `${this.line}:${this.column}`;\n    }\n    if (message.length > 0) {\n      message += \": \";\n    }\n    message += er;\n    this.onerror(new Error(message));\n    return this;\n  }\n\n  /**\n   * Write a XML data to the parser.\n   *\n   * @param {string} chunk The XML data to write.\n   *\n   * @returns this\n   */\n  write(chunk) {\n    if (this.closed) {\n      return this.fail(\"cannot write after close; assign an onready handler.\");\n    }\n\n    let end = false;\n    if (chunk === null) {\n      end = true;\n      chunk = \"\";\n    }\n\n    if (typeof chunk === \"object\") {\n      chunk = chunk.toString();\n    }\n\n    // We checked if performing a pre-decomposition of the string into an array\n    // of single complete characters (``Array.from(chunk)``) would be faster\n    // than the current repeated calls to ``charCodeAt``. As of August 2018, it\n    // isn't. (There may be Node-specific code that would perform faster than\n    // ``Array.from`` but don't want to be dependent on Node.)\n\n    if (this.carriedFromPrevious !== undefined) {\n      // The previous chunk had char we must carry over.\n      chunk = `${this.carriedFromPrevious}${chunk}`;\n      this.carriedFromPrevious = undefined;\n    }\n\n    let limit = chunk.length;\n    const lastCode = chunk.charCodeAt(limit - 1);\n    if (!end &&\n        // A trailing CR or surrogate must be carried over to the next\n        // chunk.\n        (lastCode === CR || (lastCode >= 0xD800 && lastCode <= 0xDBFF))) {\n      // The chunk ends with a character that must be carried over. We cannot\n      // know how to handle it until we get the next chunk or the end of the\n      // stream. So save it for later.\n      this.carriedFromPrevious = chunk[limit - 1];\n      limit--;\n      chunk = chunk.slice(0, limit);\n    }\n\n    this.chunk = chunk;\n    this.i = 0;\n    while (this.i < limit) {\n      this[this.state]();\n    }\n    this.chunkPosition += limit;\n\n    return end ? this.end() : this;\n  }\n\n  /**\n   * Close the current stream. Perform final well-formedness checks and reset\n   * the parser tstate.\n   *\n   * @returns this\n   */\n  close() {\n    return this.write(null);\n  }\n\n  /**\n   * Get a single code point out of the current chunk. This updates the current\n   * position if we do position tracking.\n   *\n   * This is the algorithm to use for XML 1.0.\n   *\n   * @private\n   *\n   * @returns {number} The character read.\n   */\n  getCode10() {\n    const { chunk, i } = this;\n    this.prevI = i;\n    // Yes, we do this instead of doing this.i++. Doing it this way, we do not\n    // read this.i again, which is a bit faster.\n    this.i = i + 1;\n\n    if (i >= chunk.length) {\n      return EOC;\n    }\n\n    // Using charCodeAt and handling the surrogates ourselves is faster\n    // than using codePointAt.\n    const code = chunk.charCodeAt(i);\n\n    if (code < 0xD800) {\n      if (code >= SPACE || code === TAB) {\n        return code;\n      }\n\n      switch (code) {\n      case NL:\n        this.line++;\n        this.positionAtNewLine = this.position;\n        return NL;\n      case CR:\n        // We may get NaN if we read past the end of the chunk, which is fine.\n        if (chunk.charCodeAt(i + 1) === NL) {\n          // A \\r\\n sequence is converted to \\n so we have to skip over the next\n          // character. We already know it has a size of 1 so ++ is fine here.\n          this.i = i + 2;\n        }\n        // Otherwise, a \\r is just converted to \\n, so we don't have to skip\n        // ahead.\n\n        // In either case, \\r becomes \\n.\n        this.line++;\n        this.positionAtNewLine = this.position;\n        return NL_LIKE;\n      default:\n        // If we get here, then code < SPACE and it is not NL CR or TAB.\n        this.fail(\"disallowed character.\");\n        return code;\n      }\n    }\n\n    if (code > 0xDBFF) {\n      // This is a specialized version of isChar10 that takes into account\n      // that in this context code > 0xDBFF and code <= 0xFFFF. So it does not\n      // test cases that don't need testing.\n      if (!(code >= 0xE000 && code <= 0xFFFD)) {\n        this.fail(\"disallowed character.\");\n      }\n\n      return code;\n    }\n\n    const final = 0x10000 + ((code - 0xD800) * 0x400) +\n          (chunk.charCodeAt(i + 1) - 0xDC00);\n    this.i = i + 2;\n\n    // This is a specialized version of isChar10 that takes into account that in\n    // this context necessarily final >= 0x10000.\n    if (final > 0x10FFFF) {\n      this.fail(\"disallowed character.\");\n    }\n\n    return final;\n  }\n\n\n  /**\n   * Get a single code point out of the current chunk. This updates the current\n   * position if we do position tracking.\n   *\n   * This is the algorithm to use for XML 1.1.\n   *\n   * @private\n   *\n   * @returns {number} The character read.\n   */\n  getCode11() {\n    const { chunk, i } = this;\n    this.prevI = i;\n    // Yes, we do this instead of doing this.i++. Doing it this way, we do not\n    // read this.i again, which is a bit faster.\n    this.i = i + 1;\n\n    if (i >= chunk.length) {\n      return EOC;\n    }\n\n    // Using charCodeAt and handling the surrogates ourselves is faster\n    // than using codePointAt.\n    const code = chunk.charCodeAt(i);\n\n    if (code < 0xD800) {\n      if ((code > 0x1F && code < 0x7F) || (code > 0x9F && code !== LS) ||\n          code === TAB) {\n        return code;\n      }\n\n      switch (code) {\n      case NL: // 0xA\n        this.line++;\n        this.positionAtNewLine = this.position;\n        return NL;\n      case CR: { // 0xD\n        // We may get NaN if we read past the end of the chunk, which is\n        // fine.\n        const next = chunk.charCodeAt(i + 1);\n        if (next === NL || next === NEL) {\n          // A CR NL or CR NEL sequence is converted to NL so we have to skip over\n          // the next character. We already know it has a size of 1.\n          this.i = i + 2;\n        }\n        // Otherwise, a CR is just converted to NL, no skip.\n      }\n        /* yes, fall through */\n      case NEL: // 0x85\n      case LS: // Ox2028\n        this.line++;\n        this.positionAtNewLine = this.position;\n        return NL_LIKE;\n      default:\n        this.fail(\"disallowed character.\");\n        return code;\n      }\n    }\n\n    if (code > 0xDBFF) {\n      // This is a specialized version of isCharAndNotRestricted that takes into\n      // account that in this context code > 0xDBFF and code <= 0xFFFF. So it\n      // does not test cases that don't need testing.\n      if (!(code >= 0xE000 && code <= 0xFFFD)) {\n        this.fail(\"disallowed character.\");\n      }\n\n      return code;\n    }\n\n    const final = 0x10000 + ((code - 0xD800) * 0x400) +\n          (chunk.charCodeAt(i + 1) - 0xDC00);\n    this.i = i + 2;\n\n    // This is a specialized version of isCharAndNotRestricted that takes into\n    // account that in this context necessarily final >= 0x10000.\n    if (final > 0x10FFFF) {\n      this.fail(\"disallowed character.\");\n    }\n\n    return final;\n  }\n\n  /**\n   * Like ``getCode`` but with the return value normalized so that ``NL`` is\n   * returned for ``NL_LIKE``.\n   *\n   * @private\n   */\n  getCodeNorm() {\n    const c = this.getCode();\n    return c === NL_LIKE ? NL : c;\n  }\n\n  /**\n   * @callback CharacterTest\n   *\n   * @private\n   *\n   * @param {string} c The character to test.\n   *\n   * @returns {boolean} ``true`` if the method should continue capturing text,\n   * ``false`` otherwise.\n   */\n\n  /**\n   * Capture characters into a buffer until encountering one of a set of\n   * characters.\n   *\n   * @private\n   *\n   * @param {number[]} chars An array of codepoints. Encountering a character in\n   * the array ends the capture. (``chars`` may safely contain ``NL``.)\n   *\n   * @return {number} The character code that made the capture end, or ``EOC``\n   * if we hit the end of the chunk. The return value cannot be NL_LIKE: NL is\n   * returned instead.\n   */\n  captureTo(chars) {\n    let { i: start } = this;\n    const { chunk } = this;\n    while (true) {\n      const c = this.getCode();\n      const isNLLike = c === NL_LIKE;\n      const final = isNLLike ? NL : c;\n      if (final === EOC || chars.includes(final)) {\n        this.text += chunk.slice(start, this.prevI);\n        return final;\n      }\n\n      if (isNLLike) {\n        this.text += `${chunk.slice(start, this.prevI)}\\n`;\n        start = this.i;\n      }\n    }\n  }\n\n  /**\n   * Capture characters into a buffer until encountering a character.\n   *\n   * @private\n   *\n   * @param {number} char The codepoint that ends the capture. **NOTE ``char``\n   * MAY NOT CONTAIN ``NL``.** Passing ``NL`` will result in buggy behavior.\n   *\n   * @return {boolean} ``true`` if we ran into the character. Otherwise, we ran\n   * into the end of the current chunk.\n   */\n  captureToChar(char) {\n    let { i: start } = this;\n    const { chunk } = this;\n    while (true) {\n      let c = this.getCode();\n      switch (c) {\n      case NL_LIKE:\n        this.text += `${chunk.slice(start, this.prevI)}\\n`;\n        start = this.i;\n        c = NL;\n        break;\n      case EOC:\n        this.text += chunk.slice(start);\n        return false;\n      default:\n      }\n\n      if (c === char) {\n        this.text += chunk.slice(start, this.prevI);\n        return true;\n      }\n    }\n  }\n\n  /**\n   * Capture characters that satisfy ``isNameChar`` into the ``name`` field of\n   * this parser.\n   *\n   * @private\n   *\n   * @return {number} The character code that made the test fail, or ``EOC`` if\n   * we hit the end of the chunk. The return value cannot be NL_LIKE: NL is\n   * returned instead.\n   */\n  captureNameChars() {\n    const { chunk, i: start } = this;\n    while (true) {\n      const c = this.getCode();\n      if (c === EOC) {\n        this.name += chunk.slice(start);\n        return EOC;\n      }\n\n      // NL is not a name char so we don't have to test specifically for it.\n      if (!isNameChar(c)) {\n        this.name += chunk.slice(start, this.prevI);\n        return c === NL_LIKE ? NL : c;\n      }\n    }\n  }\n\n  /**\n   * Capture characters into a buffer while ``this.nameCheck`` run on the\n   * character read returns true.\n   *\n   * @private\n   *\n   * @param {string} buffer The name of the buffer to save into.\n   *\n   * @return {number} The character code that made the test fail, or ``EOC`` if\n   * we hit the end of the chunk.  The return value cannot be NL_LIKE: NL is\n   * returned instead.\n   */\n  captureWhileNameCheck(buffer) {\n    const { chunk, i: start } = this;\n    while (true) {\n      const c = this.getCode();\n      if (c === EOC) {\n        this[buffer] += chunk.slice(start);\n        return EOC;\n      }\n\n      // NL cannot satisfy this.nameCheck so we don't have to test\n      // specifically for it.\n      if (!this.nameCheck(c)) {\n        this[buffer] += chunk.slice(start, this.prevI);\n        return c === NL_LIKE ? NL : c;\n      }\n    }\n  }\n\n  /**\n   * Skip white spaces.\n   *\n   * @private\n   *\n   * @return {number} The character that ended the skip, or ``EOC`` if we hit\n   * the end of the chunk. The return value cannot be NL_LIKE: NL is returned\n   * instead.\n   */\n  skipSpaces() {\n    while (true) {\n      const c = this.getCodeNorm();\n      if (c === EOC || !isS(c)) {\n        return c;\n      }\n    }\n  }\n\n  /** @private */\n  setXMLVersion(version) {\n    if (version === \"1.0\") {\n      this.isChar = isChar10;\n      this.getCode = this.getCode10;\n      this.pushAttrib =\n        this.xmlnsOpt ? this.pushAttribNS10 : this.pushAttribPlain;\n    }\n    else {\n      this.isChar = isChar11;\n      this.getCode = this.getCode11;\n      this.pushAttrib =\n        this.xmlnsOpt ? this.pushAttribNS11 : this.pushAttribPlain;\n    }\n  }\n\n  // STATE HANDLERS\n\n  /** @private */\n  sBeginWhitespace() {\n    // We are essentially peeking at the first character of the chunk. Since\n    // S_BEGIN_WHITESPACE can be in effect only when we start working on the\n    // first chunk, the index at which we must look is necessarily 0. Note also\n    // that the following test does not depend on decoding surrogates.\n\n    // If the initial character is 0xFEFF, ignore it.\n    if (this.chunk.charCodeAt(0) === 0xFEFF) {\n      this.i++;\n    }\n\n    // This initial loop is a specialized version of skipSpaces. We need to know\n    // whether we've encountered spaces or not because as soon as we run into a\n    // space, an XML declaration is no longer possible. Rather than slow down\n    // skipSpaces even in places where we don't care whether it skipped anything\n    // or not, we use a specialized loop here.\n    let c;\n    let sawSpace = false;\n    while (true) {\n      c = this.getCodeNorm();\n      if (c === EOC || !isS(c)) {\n        break;\n      }\n\n      sawSpace = true;\n    }\n\n    if (sawSpace) {\n      this.xmlDeclPossible = false;\n    }\n\n    switch (c) {\n    case LESS:\n      this.state = S_OPEN_WAKA;\n      // We could naively call closeText but in this state, it is not normal\n      // to have text be filled with any data.\n      if (this.text.length !== 0) {\n        throw new Error(\"no-empty text at start\");\n      }\n      break;\n    case EOC:\n      break;\n    default:\n      // have to process this as a text node.\n      // weird, but happens.\n      if (!this.reportedTextBeforeRoot) {\n        this.fail(\"text data outside of root node.\");\n        this.reportedTextBeforeRoot = true;\n      }\n      this.i = this.prevI;\n      this.state = S_TEXT;\n      this.xmlDeclPossible = false;\n    }\n  }\n\n  /** @private */\n  sText() {\n    //\n    // We did try a version of saxes where the S_TEXT state was split in two\n    // states: one for text inside the root element, and one for text\n    // outside. This was avoiding having to test this.tags.length to decide what\n    // implementation to actually use.\n    //\n    // Peformance testing on gigabyte-size files did not show any advantage to\n    // using the two states solution instead of the current one. Conversely, it\n    // made the code a bit more complicated elsewhere. For instance, a comment\n    // can appear before the root element so when a comment ended it was\n    // necessary to determine whether to return to the S_TEXT state or to the\n    // new text-outside-root state.\n    //\n    if (this.tags.length !== 0) {\n      this.handleTextInRoot();\n    }\n    else {\n      this.handleTextOutsideRoot();\n    }\n  }\n\n  /** @private */\n  handleTextInRoot() {\n    // This is essentially a specialized version of captureTo which is optimized\n    // for performing the ]]> check. A previous version of this code, checked\n    // ``this.text`` for the presence of ]]>. It simplified the code but was\n    // very costly when character data contained a lot of entities to be parsed.\n    //\n    // Since we are using a specialized loop, we also keep track of the presence\n    // of ]]> in text data. The sequence ]]> is forbidden to appear as-is.\n    //\n    let { i: start, forbiddenState } = this;\n    const { chunk } = this;\n    // eslint-disable-next-line no-labels, no-restricted-syntax\n    scanLoop:\n    while (true) {\n      switch (this.getCode()) {\n      case LESS: {\n        this.state = S_OPEN_WAKA;\n        const { text } = this;\n        const slice = chunk.slice(start, this.prevI);\n        if (text.length !== 0) {\n          this.ontext(text + slice);\n          this.text = \"\";\n        }\n        else if (slice.length !== 0) {\n          this.ontext(slice);\n        }\n        forbiddenState = FORBIDDEN_START;\n        // eslint-disable-next-line no-labels\n        break scanLoop;\n      }\n      case AMP:\n        this.state = S_ENTITY;\n        this.entityReturnState = S_TEXT;\n        this.text += chunk.slice(start, this.prevI);\n        forbiddenState = FORBIDDEN_START;\n        // eslint-disable-next-line no-labels\n        break scanLoop;\n      case CLOSE_BRACKET:\n        switch (forbiddenState) {\n        case FORBIDDEN_START:\n          forbiddenState = FORBIDDEN_BRACKET;\n          break;\n        case FORBIDDEN_BRACKET:\n          forbiddenState = FORBIDDEN_BRACKET_BRACKET;\n          break;\n        case FORBIDDEN_BRACKET_BRACKET:\n          break;\n        default:\n          throw new Error(\"impossible state\");\n        }\n        break;\n      case GREATER:\n        if (forbiddenState === FORBIDDEN_BRACKET_BRACKET) {\n          this.fail(\"the string \\\"]]>\\\" is disallowed in char data.\");\n        }\n        forbiddenState = FORBIDDEN_START;\n        break;\n      case NL_LIKE:\n        this.text += `${chunk.slice(start, this.prevI)}\\n`;\n        start = this.i;\n        forbiddenState = FORBIDDEN_START;\n        break;\n      case EOC:\n        this.text += chunk.slice(start);\n        // eslint-disable-next-line no-labels\n        break scanLoop;\n      default:\n        forbiddenState = FORBIDDEN_START;\n      }\n    }\n    this.forbiddenState = forbiddenState;\n  }\n\n  /** @private */\n  handleTextOutsideRoot() {\n    // This is essentially a specialized version of captureTo which is optimized\n    // for a specialized task. We keep track of the presence of non-space\n    // characters in the text since these are errors when appearing outside the\n    // document root element.\n    let { i: start } = this;\n    const { chunk } = this;\n    let nonSpace = false;\n    // eslint-disable-next-line no-labels, no-restricted-syntax\n    outRootLoop:\n    while (true) {\n      const code = this.getCode();\n      switch (code) {\n      case LESS: {\n        this.state = S_OPEN_WAKA;\n        const { text } = this;\n        const slice = chunk.slice(start, this.prevI);\n        if (text.length !== 0) {\n          this.ontext(text + slice);\n          this.text = \"\";\n        }\n        else if (slice.length !== 0) {\n          this.ontext(slice);\n        }\n        // eslint-disable-next-line no-labels\n        break outRootLoop;\n      }\n      case AMP:\n        this.state = S_ENTITY;\n        this.entityReturnState = S_TEXT;\n        this.text += chunk.slice(start, this.prevI);\n        nonSpace = true;\n        // eslint-disable-next-line no-labels\n        break outRootLoop;\n      case NL_LIKE:\n        this.text += `${chunk.slice(start, this.prevI)}\\n`;\n        start = this.i;\n        break;\n      case EOC:\n        this.text += chunk.slice(start);\n        // eslint-disable-next-line no-labels\n        break outRootLoop;\n      default:\n        if (!isS(code)) {\n          nonSpace = true;\n        }\n      }\n    }\n\n    if (!nonSpace) {\n      return;\n    }\n\n    // We use the reportedTextBeforeRoot and reportedTextAfterRoot flags\n    // to avoid reporting errors for every single character that is out of\n    // place.\n    if (!this.sawRoot && !this.reportedTextBeforeRoot) {\n      this.fail(\"text data outside of root node.\");\n      this.reportedTextBeforeRoot = true;\n    }\n\n    if (this.closedRoot && !this.reportedTextAfterRoot) {\n      this.fail(\"text data outside of root node.\");\n      this.reportedTextAfterRoot = true;\n    }\n  }\n\n  /** @private */\n  sOpenWaka() {\n    // Reminder: a state handler is called with at least one character\n    // available in the current chunk. So the first call to get code inside of\n    // a state handler cannot return ``EOC``. That's why we don't test\n    // for it.\n    const c = this.getCode();\n    // either a /, ?, !, or text is coming next.\n    if (isNameStartChar(c)) {\n      this.state = S_OPEN_TAG;\n      this.i = this.prevI;\n      this.xmlDeclPossible = false;\n    }\n    else {\n      switch (c) {\n      case FORWARD_SLASH:\n        this.state = S_CLOSE_TAG;\n        this.xmlDeclPossible = false;\n        break;\n      case BANG:\n        this.state = S_OPEN_WAKA_BANG;\n        this.openWakaBang = \"\";\n        this.xmlDeclPossible = false;\n        break;\n      case QUESTION:\n        this.state = S_PI_FIRST_CHAR;\n        break;\n      default:\n        this.fail(\"disallowed character in tag name\");\n        this.state = S_TEXT;\n        this.xmlDeclPossible = false;\n      }\n    }\n  }\n\n  /** @private */\n  sOpenWakaBang() {\n    this.openWakaBang += String.fromCodePoint(this.getCodeNorm());\n    switch (this.openWakaBang) {\n    case \"[CDATA[\":\n      if (!this.sawRoot && !this.reportedTextBeforeRoot) {\n        this.fail(\"text data outside of root node.\");\n        this.reportedTextBeforeRoot = true;\n      }\n\n      if (this.closedRoot && !this.reportedTextAfterRoot) {\n        this.fail(\"text data outside of root node.\");\n        this.reportedTextAfterRoot = true;\n      }\n      this.state = S_CDATA;\n      this.openWakaBang = \"\";\n      break;\n    case \"--\":\n      this.state = S_COMMENT;\n      this.openWakaBang = \"\";\n      break;\n    case \"DOCTYPE\":\n      this.state = S_DOCTYPE;\n      if (this.doctype || this.sawRoot) {\n        this.fail(\"inappropriately located doctype declaration.\");\n      }\n      this.openWakaBang = \"\";\n      break;\n    default:\n      // 7 happens to be the maximum length of the string that can possibly\n      // match one of the cases above.\n      if (this.openWakaBang.length >= 7) {\n        this.fail(\"incorrect syntax.\");\n      }\n    }\n  }\n\n  /** @private */\n  sDoctype() {\n    const c = this.captureTo(DOCTYPE_TERMINATOR);\n    switch (c) {\n    case GREATER:\n      this.ondoctype(this.text);\n      this.text = \"\";\n      this.state = S_TEXT;\n      this.doctype = true; // just remember that we saw it.\n      break;\n    case EOC:\n      break;\n    default:\n      this.text += String.fromCodePoint(c);\n      if (c === OPEN_BRACKET) {\n        this.state = S_DTD;\n      }\n      else if (isQuote(c)) {\n        this.state = S_DOCTYPE_QUOTE;\n        this.q = c;\n      }\n    }\n  }\n\n  /** @private */\n  sDoctypeQuote() {\n    const { q } = this;\n    if (this.captureToChar(q)) {\n      this.text += String.fromCodePoint(q);\n      this.q = null;\n      this.state = S_DOCTYPE;\n    }\n  }\n\n  /** @private */\n  sDTD() {\n    const c = this.captureTo(DTD_TERMINATOR);\n    if (c === EOC) {\n      return;\n    }\n\n    this.text += String.fromCodePoint(c);\n    if (c === CLOSE_BRACKET) {\n      this.state = S_DOCTYPE;\n    }\n    else if (c === LESS) {\n      this.state = S_DTD_OPEN_WAKA;\n    }\n    else if (isQuote(c)) {\n      this.state = S_DTD_QUOTED;\n      this.q = c;\n    }\n  }\n\n  /** @private */\n  sDTDQuoted() {\n    const { q } = this;\n    if (this.captureToChar(q)) {\n      this.text += String.fromCodePoint(q);\n      this.state = S_DTD;\n      this.q = null;\n    }\n  }\n\n  /** @private */\n  sDTDOpenWaka() {\n    const c = this.getCodeNorm();\n    this.text += String.fromCodePoint(c);\n    switch (c) {\n    case BANG:\n      this.state = S_DTD_OPEN_WAKA_BANG;\n      this.openWakaBang = \"\";\n      break;\n    case QUESTION:\n      this.state = S_DTD_PI;\n      break;\n    default:\n      this.state = S_DTD;\n    }\n  }\n\n  /** @private */\n  sDTDOpenWakaBang() {\n    const char = String.fromCodePoint(this.getCodeNorm());\n    const owb = this.openWakaBang += char;\n    this.text += char;\n    if (owb !== \"-\") {\n      this.state = owb === \"--\" ? S_DTD_COMMENT : S_DTD;\n      this.openWakaBang = \"\";\n    }\n  }\n\n  /** @private */\n  sDTDComment() {\n    if (this.captureToChar(MINUS)) {\n      this.text += \"-\";\n      this.state = S_DTD_COMMENT_ENDING;\n    }\n  }\n\n  /** @private */\n  sDTDCommentEnding() {\n    const c = this.getCodeNorm();\n    this.text += String.fromCodePoint(c);\n    this.state = c === MINUS ? S_DTD_COMMENT_ENDED : S_DTD_COMMENT;\n  }\n\n  /** @private */\n  sDTDCommentEnded() {\n    const c = this.getCodeNorm();\n    this.text += String.fromCodePoint(c);\n    if (c === GREATER) {\n      this.state = S_DTD;\n    }\n    else {\n      this.fail(\"malformed comment.\");\n      // <!-- blah -- bloo --> will be recorded as\n      // a comment of \" blah -- bloo \"\n      this.state = S_DTD_COMMENT;\n    }\n  }\n\n  /** @private */\n  sDTDPI() {\n    if (this.captureToChar(QUESTION)) {\n      this.text += \"?\";\n      this.state = S_DTD_PI_ENDING;\n    }\n  }\n\n  /** @private */\n  sDTDPIEnding() {\n    const c = this.getCodeNorm();\n    this.text += String.fromCodePoint(c);\n    if (c === GREATER) {\n      this.state = S_DTD;\n    }\n  }\n\n  /** @private */\n  sComment() {\n    if (this.captureToChar(MINUS)) {\n      this.state = S_COMMENT_ENDING;\n    }\n  }\n\n  /** @private */\n  sCommentEnding() {\n    const c = this.getCodeNorm();\n    if (c === MINUS) {\n      this.state = S_COMMENT_ENDED;\n      this.oncomment(this.text);\n      this.text = \"\";\n    }\n    else {\n      this.text += `-${String.fromCodePoint(c)}`;\n      this.state = S_COMMENT;\n    }\n  }\n\n  /** @private */\n  sCommentEnded() {\n    const c = this.getCodeNorm();\n    if (c !== GREATER) {\n      this.fail(\"malformed comment.\");\n      // <!-- blah -- bloo --> will be recorded as\n      // a comment of \" blah -- bloo \"\n      this.text += `--${String.fromCodePoint(c)}`;\n      this.state = S_COMMENT;\n    }\n    else {\n      this.state = S_TEXT;\n    }\n  }\n\n  /** @private */\n  sCData() {\n    if (this.captureToChar(CLOSE_BRACKET)) {\n      this.state = S_CDATA_ENDING;\n    }\n  }\n\n  /** @private */\n  sCDataEnding() {\n    const c = this.getCodeNorm();\n    if (c === CLOSE_BRACKET) {\n      this.state = S_CDATA_ENDING_2;\n    }\n    else {\n      this.text += `]${String.fromCodePoint(c)}`;\n      this.state = S_CDATA;\n    }\n  }\n\n  /** @private */\n  sCDataEnding2() {\n    const c = this.getCodeNorm();\n    switch (c) {\n    case GREATER:\n      this.oncdata(this.text);\n      this.text = \"\";\n      this.state = S_TEXT;\n      break;\n    case CLOSE_BRACKET:\n      this.text += \"]\";\n      break;\n    default:\n      this.text += `]]${String.fromCodePoint(c)}`;\n      this.state = S_CDATA;\n    }\n  }\n\n  /** @private */\n  sPIFirstChar() {\n    const c = this.getCodeNorm();\n    if (this.nameStartCheck(c)) {\n      this.piTarget += String.fromCodePoint(c);\n      this.state = S_PI_REST;\n    }\n    else if (c === QUESTION || isS(c)) {\n      this.fail(\"processing instruction without a target.\");\n      this.state = c === QUESTION ? S_PI_ENDING : S_PI_BODY;\n    }\n    else {\n      this.fail(\"disallowed character in processing instruction name.\");\n      this.piTarget += String.fromCodePoint(c);\n      this.state = S_PI_REST;\n    }\n  }\n\n  /** @private */\n  sPIRest() {\n    const c = this.captureWhileNameCheck(\"piTarget\");\n    if (c === QUESTION || isS(c)) {\n      this.piIsXMLDecl = this.piTarget === \"xml\";\n      if (this.piIsXMLDecl && !this.xmlDeclPossible) {\n        this.fail(\"an XML declaration must be at the start of the document.\");\n      }\n      this.state = c === QUESTION ? S_PI_ENDING : S_PI_BODY;\n    }\n    else if (c !== EOC) {\n      this.fail(\"disallowed character in processing instruction name.\");\n      this.piTarget += String.fromCodePoint(c);\n    }\n  }\n\n  /** @private */\n  sPIBody() {\n    let c;\n    if (this.piIsXMLDecl) {\n      switch (this.xmlDeclState) {\n      case S_XML_DECL_NAME_START: {\n        c = this.getCodeNorm();\n        if (isS(c)) {\n          c = this.skipSpaces();\n        }\n        else if (this.requiredSeparator && c !== QUESTION) {\n          this.fail(\"whitespace required.\");\n        }\n        this.requiredSeparator = false;\n\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n          this.state = S_PI_ENDING;\n          return;\n        }\n\n        if (c !== EOC) {\n          this.xmlDeclState = S_XML_DECL_NAME;\n          this.xmlDeclName = String.fromCodePoint(c);\n        }\n        break;\n      }\n      case S_XML_DECL_NAME:\n        c = this.captureTo(XML_DECL_NAME_TERMINATOR);\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n          this.state = S_PI_ENDING;\n          this.text = \"\";\n          return;\n        }\n        if (isS(c) || c === EQUAL) {\n          this.xmlDeclName += this.text;\n          this.text = \"\";\n          if (!this.xmlDeclExpects.includes(this.xmlDeclName)) {\n            switch (this.xmlDeclName.length) {\n            case 0:\n              this.fail(\"did not expect any more name/value pairs.\");\n              break;\n            case 1:\n              this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);\n              break;\n            default:\n              this.fail(`expected one of ${this.xmlDeclExpects.join(\", \")}`);\n            }\n          }\n\n          this.xmlDeclState = (c === EQUAL) ? S_XML_DECL_VALUE_START :\n            S_XML_DECL_EQ;\n        }\n        break;\n      case S_XML_DECL_EQ:\n        c = this.getCodeNorm();\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n          this.state = S_PI_ENDING;\n          return;\n        }\n\n        if (!isS(c)) {\n          if (c !== EQUAL) {\n            this.fail(\"value required.\");\n          }\n          this.xmlDeclState = S_XML_DECL_VALUE_START;\n        }\n        break;\n      case S_XML_DECL_VALUE_START:\n        c = this.getCodeNorm();\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n          this.state = S_PI_ENDING;\n          return;\n        }\n\n        if (!isS(c)) {\n          if (!isQuote(c)) {\n            this.fail(\"value must be quoted.\");\n            this.q = SPACE;\n          }\n          else {\n            this.q = c;\n          }\n          this.xmlDeclState = S_XML_DECL_VALUE;\n        }\n        break;\n      case S_XML_DECL_VALUE:\n        c = this.captureTo([this.q, QUESTION]);\n\n        // The question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        if (c === QUESTION) {\n          this.state = S_PI_ENDING;\n          this.text = \"\";\n          return;\n        }\n\n        if (c !== EOC) {\n          const value = this.text;\n          this.text = \"\";\n          switch (this.xmlDeclName) {\n          case \"version\": {\n            this.xmlDeclExpects = [\"encoding\", \"standalone\"];\n            const version = value;\n            this.xmlDecl.version = version;\n            // This is the test specified by XML 1.0 but it is fine for XML 1.1.\n            if (!/^1\\.[0-9]+$/.test(version)) {\n              this.fail(\"version number must match /^1\\\\.[0-9]+$/.\");\n            }\n            // When forceXMLVersion is set, the XML declaration is ignored.\n            else if (!this.opt.forceXMLVersion) {\n              this.setXMLVersion(version);\n            }\n            break;\n          }\n          case \"encoding\":\n            if (!/^[A-Za-z][A-Za-z0-9._-]*$/.test(value)) {\n              this.fail(\"encoding value must match \\\n/^[A-Za-z0-9][A-Za-z0-9._-]*$/.\");\n            }\n            this.xmlDeclExpects = [\"standalone\"];\n            this.xmlDecl.encoding = value;\n            break;\n          case \"standalone\":\n            if (value !== \"yes\" && value !== \"no\") {\n              this.fail(\"standalone value must match \\\"yes\\\" or \\\"no\\\".\");\n            }\n            this.xmlDeclExpects = [];\n            this.xmlDecl.standalone = value;\n            break;\n          default:\n            // We don't need to raise an error here since we've already\n            // raised one when checking what name was expected.\n          }\n          this.xmlDeclName = \"\";\n          this.xmlDeclState = S_XML_DECL_NAME_START;\n          this.requiredSeparator = true;\n        }\n        break;\n      default:\n        throw new Error(this,\n                        `Unknown XML declaration state: ${this.xmlDeclState}`);\n      }\n    }\n    else if (this.text.length === 0) {\n      c = this.getCodeNorm();\n      if (c === QUESTION) {\n        this.state = S_PI_ENDING;\n      }\n      else if (!isS(c)) {\n        this.text = String.fromCodePoint(c);\n      }\n    }\n    // The question mark character is not valid inside any of the XML\n    // declaration name/value pairs.\n    else if (this.captureToChar(QUESTION)) {\n      this.state = S_PI_ENDING;\n    }\n  }\n\n  /** @private */\n  sPIEnding() {\n    const c = this.getCodeNorm();\n    if (this.piIsXMLDecl) {\n      if (c === GREATER) {\n        if (this.piTarget !== \"xml\") {\n          this.fail(\"processing instructions are not allowed before root.\");\n        }\n        else if (this.xmlDeclState !== S_XML_DECL_NAME_START) {\n          this.fail(\"XML declaration is incomplete.\");\n        }\n        else if (this.xmlDeclExpects.includes(\"version\")) {\n          this.fail(\"XML declaration must contain a version.\");\n        }\n        this.xmlDeclName = \"\";\n        this.requiredSeparator = false;\n        this.piTarget = this.text = \"\";\n        this.state = S_TEXT;\n      }\n      else {\n        // We got here because the previous character was a ?, but the\n        // question mark character is not valid inside any of the XML\n        // declaration name/value pairs.\n        this.fail(\n          \"The character ? is disallowed anywhere in XML declarations.\");\n      }\n    }\n    else if (c === GREATER) {\n      if (this.piTarget.trim().toLowerCase() === \"xml\") {\n        this.fail(\"the XML declaration must appear at the start of the document.\");\n      }\n      this.onprocessinginstruction({\n        target: this.piTarget,\n        body: this.text,\n      });\n      this.piTarget = this.text = \"\";\n      this.state = S_TEXT;\n    }\n    else if (c === QUESTION) {\n      // We ran into ?? as part of a processing instruction. We initially\n      // took the first ? as a sign that the PI was ending, but it is\n      // not. So we have to add it to the body but we take the new ? as a\n      // sign that the PI is ending.\n      this.text += \"?\";\n    }\n    else {\n      this.text += `?${String.fromCodePoint(c)}`;\n      this.state = S_PI_BODY;\n    }\n    this.xmlDeclPossible = false;\n  }\n\n  /** @private */\n  sOpenTag() {\n    const c = this.captureNameChars();\n    if (c === EOC) {\n      return;\n    }\n\n    const tag = this.tag = {\n      name: this.name,\n      attributes: Object.create(null),\n    };\n    this.name = \"\";\n\n    if (this.xmlnsOpt) {\n      tag.ns = Object.create(null);\n    }\n\n    this.onopentagstart(tag);\n    this.sawRoot = true;\n    if (!this.fragmentOpt && this.closedRoot) {\n      this.fail(\"documents may contain only one root.\");\n    }\n\n    switch (c) {\n    case GREATER:\n      this.openTag();\n      break;\n    case FORWARD_SLASH:\n      this.state = S_OPEN_TAG_SLASH;\n      break;\n    default:\n      if (!isS(c)) {\n        this.fail(\"disallowed character in tag name.\");\n      }\n      this.state = S_ATTRIB;\n    }\n  }\n\n  /** @private */\n  sOpenTagSlash() {\n    const c = this.getCode();\n    if (c === GREATER) {\n      this.openSelfClosingTag();\n    }\n    else {\n      this.fail(\"forward-slash in opening tag not followed by >.\");\n      this.state = S_ATTRIB;\n    }\n  }\n\n  /** @private */\n  sAttrib() {\n    const c = this.skipSpaces();\n    if (c === EOC) {\n      return;\n    }\n    if (isNameStartChar(c)) {\n      this.i = this.prevI;\n      this.state = S_ATTRIB_NAME;\n    }\n    else if (c === GREATER) {\n      this.openTag();\n    }\n    else if (c === FORWARD_SLASH) {\n      this.state = S_OPEN_TAG_SLASH;\n    }\n    else {\n      this.fail(\"disallowed character in attribute name.\");\n    }\n  }\n\n  /** @private */\n  pushAttribNS10(name, value) {\n    const { prefix, local } = this.qname(name);\n    this.attribList.push({ name, prefix, local, value, uri: undefined });\n    if (prefix === \"xmlns\") {\n      const trimmed = value.trim();\n      if (trimmed === \"\") {\n        this.fail(\"invalid attempt to undefine prefix in XML 1.0\");\n      }\n      this.tag.ns[local] = trimmed;\n      nsPairCheck(this, local, trimmed);\n    }\n    else if (name === \"xmlns\") {\n      const trimmed = value.trim();\n      this.tag.ns[\"\"] = trimmed;\n      nsPairCheck(this, \"\", trimmed);\n    }\n  }\n\n  pushAttribNS11(name, value) {\n    const { prefix, local } = this.qname(name);\n    this.attribList.push({ name, prefix, local, value, uri: undefined });\n    if (prefix === \"xmlns\") {\n      const trimmed = value.trim();\n      this.tag.ns[local] = trimmed;\n      nsPairCheck(this, local, trimmed);\n    }\n    else if (name === \"xmlns\") {\n      const trimmed = value.trim();\n      this.tag.ns[\"\"] = trimmed;\n      nsPairCheck(this, \"\", trimmed);\n    }\n  }\n\n  /** @private */\n  pushAttribPlain(name, value) {\n    this.attribList.push({ name, value });\n  }\n\n  /** @private */\n  sAttribName() {\n    const c = this.captureNameChars();\n    if (c === EQUAL) {\n      this.state = S_ATTRIB_VALUE;\n    }\n    else if (isS(c)) {\n      this.state = S_ATTRIB_NAME_SAW_WHITE;\n    }\n    else if (c === GREATER) {\n      this.fail(\"attribute without value.\");\n      this.pushAttrib(this.name, this.name);\n      this.name = this.text = \"\";\n      this.openTag();\n    }\n    else if (c !== EOC) {\n      this.fail(\"disallowed character in attribute name.\");\n    }\n  }\n\n  /** @private */\n  sAttribNameSawWhite() {\n    const c = this.skipSpaces();\n    switch (c) {\n    case EOC:\n      return;\n    case EQUAL:\n      this.state = S_ATTRIB_VALUE;\n      break;\n    default:\n      this.fail(\"attribute without value.\");\n      this.tag.attributes[this.name] = \"\";\n      this.text = \"\";\n      this.name = \"\";\n      if (c === GREATER) {\n        this.openTag();\n      }\n      else if (isNameStartChar(c)) {\n        this.i = this.prevI;\n        this.state = S_ATTRIB_NAME;\n      }\n      else {\n        this.fail(\"disallowed character in attribute name.\");\n        this.state = S_ATTRIB;\n      }\n    }\n  }\n\n  /** @private */\n  sAttribValue() {\n    const c = this.getCodeNorm();\n    if (isQuote(c)) {\n      this.q = c;\n      this.state = S_ATTRIB_VALUE_QUOTED;\n    }\n    else if (!isS(c)) {\n      this.fail(\"unquoted attribute value.\");\n      this.state = S_ATTRIB_VALUE_UNQUOTED;\n      this.i = this.prevI;\n    }\n  }\n\n  /** @private */\n  sAttribValueQuoted() {\n    // We deliberately do not use captureTo here. The specialized code we use\n    // here is faster than using captureTo.\n    const { q } = this;\n    let { i: start } = this;\n    const { chunk } = this;\n    while (true) {\n      const code = this.getCode();\n      switch (code) {\n      case q:\n        this.pushAttrib(this.name, this.text + chunk.slice(start, this.prevI));\n        this.name = this.text = \"\";\n        this.q = null;\n        this.state = S_ATTRIB_VALUE_CLOSED;\n        return;\n      case AMP:\n        this.text += chunk.slice(start, this.prevI);\n        this.state = S_ENTITY;\n        this.entityReturnState = S_ATTRIB_VALUE_QUOTED;\n        return;\n      case NL:\n      case NL_LIKE:\n      case TAB:\n        this.text += `${chunk.slice(start, this.prevI)} `;\n        start = this.i;\n        break;\n      case LESS:\n        this.text += chunk.slice(start, this.prevI);\n        this.fail(\"disallowed character.\");\n        return;\n      case EOC:\n        this.text += chunk.slice(start);\n        return;\n      default:\n      }\n    }\n  }\n\n  /** @private */\n  sAttribValueClosed() {\n    const c = this.getCodeNorm();\n    if (isS(c)) {\n      this.state = S_ATTRIB;\n    }\n    else if (c === GREATER) {\n      this.openTag();\n    }\n    else if (c === FORWARD_SLASH) {\n      this.state = S_OPEN_TAG_SLASH;\n    }\n    else if (isNameStartChar(c)) {\n      this.fail(\"no whitespace between attributes.\");\n      this.i = this.prevI;\n      this.state = S_ATTRIB_NAME;\n    }\n    else {\n      this.fail(\"disallowed character in attribute name.\");\n    }\n  }\n\n  /** @private */\n  sAttribValueUnquoted() {\n    // We don't do anything regarding EOL or space handling for unquoted\n    // attributes. We already have failed by the time we get here, and the\n    // contract that saxes upholds states that upon failure, it is not safe to\n    // rely on the data passed to event handlers (other than\n    // ``onerror``). Passing \"bad\" data is not a problem.\n    const c = this.captureTo(ATTRIB_VALUE_UNQUOTED_TERMINATOR);\n    switch (c) {\n    case AMP:\n      this.state = S_ENTITY;\n      this.entityReturnState = S_ATTRIB_VALUE_UNQUOTED;\n      break;\n    case LESS:\n      this.fail(\"disallowed character.\");\n      break;\n    case EOC:\n      break;\n    default:\n      if (this.text.includes(\"]]>\")) {\n        this.fail(\"the string \\\"]]>\\\" is disallowed in char data.\");\n      }\n      this.pushAttrib(this.name, this.text);\n      this.name = this.text = \"\";\n      if (c === GREATER) {\n        this.openTag();\n      }\n      else {\n        this.state = S_ATTRIB;\n      }\n    }\n  }\n\n  /** @private */\n  sCloseTag() {\n    const c = this.captureNameChars();\n    if (c === GREATER) {\n      this.closeTag();\n    }\n    else if (isS(c)) {\n      this.state = S_CLOSE_TAG_SAW_WHITE;\n    }\n    else if (c !== EOC) {\n      this.fail(\"disallowed character in closing tag.\");\n    }\n  }\n\n  /** @private */\n  sCloseTagSawWhite() {\n    switch (this.skipSpaces()) {\n    case GREATER:\n      this.closeTag();\n      break;\n    case EOC:\n      break;\n    default:\n      this.fail(\"disallowed character in closing tag.\");\n    }\n  }\n\n  /** @private */\n  sEntity() {\n    // This is essentially a specialized version of captureToChar(SEMICOLON...)\n    let { i: start } = this;\n    const { chunk } = this;\n    // eslint-disable-next-line no-labels, no-restricted-syntax\n    loop:\n    while (true) {\n      switch (this.getCode()) {\n      case NL_LIKE:\n        this.entity += `${chunk.slice(start, this.prevI)}\\n`;\n        start = this.i;\n        break;\n      case SEMICOLON:\n        this.entity += chunk.slice(start, this.prevI);\n        this.state = this.entityReturnState;\n        if (this.entity === \"\") {\n          this.fail(\"empty entity name.\");\n          this.text += \"&;\";\n          return;\n        }\n        this.text += this.parseEntity(this.entity);\n        this.entity = \"\";\n        // eslint-disable-next-line no-labels\n        break loop;\n      case EOC:\n        this.entity += chunk.slice(start);\n        // eslint-disable-next-line no-labels\n        break loop;\n      default:\n      }\n    }\n  }\n\n  // END OF STATE HANDLERS\n\n  /**\n   * End parsing. This performs final well-formedness checks and resets the\n   * parser to a clean state.\n   *\n   * @private\n   *\n   * @returns this\n   */\n  end() {\n    if (!this.sawRoot) {\n      this.fail(\"document must contain a root element.\");\n    }\n    const { tags } = this;\n    while (tags.length > 0) {\n      const tag = tags.pop();\n      this.fail(`unclosed tag: ${tag.name}`);\n    }\n    if ((this.state !== S_BEGIN_WHITESPACE) &&\n        (this.state !== S_TEXT)) {\n      this.fail(\"unexpected end.\");\n    }\n    const { text } = this;\n    if (text.length !== 0) {\n      this.ontext(text);\n      this.text = \"\";\n    }\n    this.closed = true;\n    this.onend();\n    this._init(this.opt);\n    return this;\n  }\n\n  /**\n   * Resolve a namespace prefix.\n   *\n   * @param {string} prefix The prefix to resolve.\n   *\n   * @returns {string|undefined} The namespace URI or ``undefined`` if the\n   * prefix is not defined.\n   */\n  resolve(prefix) {\n    let uri = this.tag.ns[prefix];\n    if (uri !== undefined) {\n      return uri;\n    }\n\n    const { tags } = this;\n    for (let index = tags.length - 1; index >= 0; index--) {\n      uri = tags[index].ns[prefix];\n      if (uri !== undefined) {\n        return uri;\n      }\n    }\n\n    uri = this.ns[prefix];\n    if (uri) {\n      return uri;\n    }\n\n    const { resolvePrefix } = this.opt;\n    return resolvePrefix ? resolvePrefix(prefix) : undefined;\n  }\n\n  /**\n   * Parse a qname into its prefix and local name parts.\n   *\n   * @private\n   *\n   * @param {string} name The name to parse\n   *\n   * @returns {{prefix: string, local: string}}\n   */\n  qname(name) {\n    // This is faster than using name.split(\":\").\n    const colon = name.indexOf(\":\");\n    if (colon === -1) {\n      return { prefix: \"\", local: name };\n    }\n\n    const local = name.slice(colon + 1);\n    const prefix = name.slice(0, colon);\n    if (prefix === \"\" || local === \"\" || local.includes(\":\")) {\n      this.fail(`malformed name: ${name}.`);\n    }\n\n    return { prefix, local };\n  }\n\n  /** @private */\n  processAttribsNS() {\n    const { tag, attribList } = this;\n\n    {\n      // add namespace info to tag\n      const { prefix, local } = this.qname(tag.name);\n      tag.prefix = prefix;\n      tag.local = local;\n      const uri = tag.uri = this.resolve(prefix) || \"\";\n\n      if (prefix) {\n        if (prefix === \"xmlns\") {\n          this.fail(\"tags may not have \\\"xmlns\\\" as prefix.\");\n        }\n\n        if (!uri) {\n          this.fail(`unbound namespace prefix: ${JSON.stringify(prefix)}.`);\n          tag.uri = prefix;\n        }\n      }\n    }\n\n    if (attribList.length === 0) {\n      return;\n    }\n\n    const { attributes } = tag;\n    const seen = new Set();\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (const attr of attribList) {\n      const { name, prefix, local } = attr;\n      let uri;\n      let eqname;\n      if (prefix === \"\") {\n        uri = name === \"xmlns\" ? XMLNS_NAMESPACE : \"\";\n        eqname = name;\n      }\n      else {\n        uri = this.resolve(prefix);\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (!uri) {\n          this.fail(`unbound namespace prefix: ${JSON.stringify(prefix)}.`);\n          uri = prefix;\n        }\n        eqname = `{${uri}}${local}`;\n      }\n\n      if (seen.has(eqname)) {\n        this.fail(`duplicate attribute: ${eqname}.`);\n      }\n      seen.add(eqname);\n\n      attr.uri = uri;\n      attributes[name] = attr;\n    }\n\n    this.attribList = [];\n  }\n\n  /** @private */\n  processAttribsPlain() {\n    const { attribList, tag: { attributes } } = this;\n    for (const { name, value } of attribList) {\n      if (attributes[name]) {\n        this.fail(`duplicate attribute: ${name}.`);\n      }\n      attributes[name] = value;\n    }\n\n    this.attribList = [];\n  }\n\n  /**\n   * Handle a complete open tag. This parser code calls this once it has seen\n   * the whole tag. This method checks for well-formeness and then emits\n   * ``onopentag``.\n   *\n   * @private\n   */\n  openTag() {\n    this.processAttribs();\n\n    const { tag, tags } = this;\n    tag.isSelfClosing = false;\n\n    // There cannot be any pending text here due to the onopentagstart that was\n    // necessarily emitted before we get here. So we do not check text.\n    this.onopentag(tag);\n    tags.push(tag);\n    this.state = S_TEXT;\n    this.name = \"\";\n  }\n\n  /**\n   * Handle a complete self-closing tag. This parser code calls this once it has\n   * seen the whole tag. This method checks for well-formeness and then emits\n   * ``onopentag`` and ``onclosetag``.\n   *\n   * @private\n   */\n  openSelfClosingTag() {\n    this.processAttribs();\n\n    const { tag, tags } = this;\n    tag.isSelfClosing = true;\n\n    // There cannot be any pending text here due to the onopentagstart that was\n    // necessarily emitted before we get here. So we do not check text.\n    this.onopentag(tag);\n    this.onclosetag(tag);\n    const top = this.tag = tags[tags.length - 1];\n    if (!top) {\n      this.closedRoot = true;\n    }\n    this.state = S_TEXT;\n    this.name = \"\";\n  }\n\n  /**\n   * Handle a complete close tag. This parser code calls this once it has seen\n   * the whole tag. This method checks for well-formeness and then emits\n   * ``onclosetag``.\n   *\n   * @private\n   */\n  closeTag() {\n    const { tags, name } = this;\n\n    // Our state after this will be S_TEXT, no matter what, and we can clear\n    // tagName now.\n    this.state = S_TEXT;\n    this.name = \"\";\n\n    if (!name) {\n      this.fail(\"weird empty close tag.\");\n      this.text += \"</>\";\n      return;\n    }\n\n    let l = tags.length;\n    while (l-- > 0) {\n      const tag = this.tag = tags.pop();\n      this.onclosetag(tag);\n      if (tag.name === name) {\n        break;\n      }\n      this.fail(\"unexpected close tag.\");\n    }\n\n    if (l === 0) {\n      this.closedRoot = true;\n    }\n    else if (l < 0) {\n      this.fail(`unmatched closing tag: ${name}.`);\n      this.text += `</${name}>`;\n    }\n  }\n\n  /**\n   * Resolves an entity. Makes any necessary well-formedness checks.\n   *\n   * @private\n   *\n   * @param {string} entity The entity to resolve.\n   *\n   * @returns {string} The parsed entity.\n   */\n  parseEntity(entity) {\n    if (entity[0] !== \"#\") {\n      const defined = this.ENTITIES[entity];\n      if (defined) {\n        return defined;\n      }\n\n      this.fail(this.isName(entity) ? \"undefined entity.\" :\n               \"disallowed character in entity name.\");\n      return `&${entity};`;\n    }\n\n    let num = NaN;\n    if (entity[1] === \"x\" && /^#x[0-9a-f]+$/i.test(entity)) {\n      num = parseInt(entity.slice(2), 16);\n    }\n    else if (/^#[0-9]+$/.test(entity)) {\n      num = parseInt(entity.slice(1), 10);\n    }\n\n    // The character reference is required to match the CHAR production.\n    if (!this.isChar(num)) {\n      this.fail(\"malformed character entity.\");\n      return `&${entity};`;\n    }\n\n    return String.fromCodePoint(num);\n  }\n}\n\nexports.SaxesParser = SaxesParser;\n","\"use strict\";\n/**\n * Implements a name resolver for handling namespace changes in XML.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultNameResolver = void 0;\nconst ename_1 = require(\"./ename\");\nconst name_resolver_1 = require(\"./name_resolver\");\n/**\n * A name resolver for handling namespace changes in XML. This name\n * resolver maintains mappings from namespace prefix to namespace URI.\n */\nclass DefaultNameResolver {\n    constructor(other) {\n        if (other !== undefined) {\n            this._contextStack = other._contextStack.slice();\n        }\n        else {\n            // Both namespaces defined at:\n            // http://www.w3.org/TR/REC-xml-names/#ns-decl\n            // Skip definePrefix for these initial values.\n            this._contextStack = [{\n                    forward: new Map([[\"xml\", name_resolver_1.XML1_NAMESPACE],\n                        [\"xmlns\", name_resolver_1.XMLNS_NAMESPACE]]),\n                    backwards: new Map([[name_resolver_1.XML1_NAMESPACE, [\"xml\"]],\n                        [name_resolver_1.XMLNS_NAMESPACE, [\"xmlns\"]]]),\n                }];\n        }\n    }\n    /**\n     * Makes a deep copy.\n     *\n     * @returns A deep copy of the resolver.\n     */\n    clone() {\n        return new DefaultNameResolver(this);\n    }\n    /**\n     * Defines a (prefix, URI) mapping.\n     *\n     * @param prefix The namespace prefix to associate with the URI.\n     *\n     * @param uri The namespace URI associated with the prefix.\n     */\n    definePrefix(prefix, uri) {\n        // http://www.w3.org/TR/REC-xml-names/#ns-decl\n        if (prefix === \"xmlns\") {\n            throw new Error(\"trying to define 'xmlns' but the XML Namespaces \" +\n                \"standard stipulates that 'xmlns' cannot be \" +\n                \"declared (= \\\"defined\\\")\");\n        }\n        if (prefix === \"xml\" && uri !== name_resolver_1.XML1_NAMESPACE) {\n            throw new Error(\"trying to define 'xml' to an incorrect URI\");\n        }\n        const top = this._contextStack[this._contextStack.length - 1];\n        top.forward.set(prefix, uri);\n        let prefixes = top.backwards.get(uri);\n        if (prefixes === undefined) {\n            prefixes = [prefix];\n            top.backwards.set(uri, prefixes);\n        }\n        // This ensure that the default namespace is given priority when\n        // unresolving names.\n        else if (prefix === \"\") {\n            prefixes.unshift(\"\");\n        }\n        else {\n            prefixes.push(prefix);\n        }\n    }\n    /**\n     * This method is called to indicate the start of a new context.  Contexts\n     * enable this class to support namespace redeclarations. In XML, each start\n     * tag can potentially redefine a prefix that was already defined by an\n     * ancestor. When using this class, such redefinition must appear in a new\n     * context, otherwise it would merely overwrite the old definition.\n     *\n     * See also [[enterContextWithMapping]], which is preferable if you already\n     * know the bindings you need to initialize the context with.\n     *\n     * At creation, a [[NameResolver]] has a default context already\n     * created. There is no need to create it and it is not possible to leave it.\n     */\n    enterContext() {\n        this._contextStack.push({\n            forward: new Map(),\n            backwards: new Map(),\n        });\n    }\n    /**\n     * Enter a new context, and immediately populate it with bindings. If you\n     * already have a binding map, then using this method is preferable to using\n     * [[enterContext]] because it is faster than doing [[enterContext]] followed\n     * by a series of calls to [[definePrefix]].\n     *\n     * @param mapping The mapping with which to initialize the context.\n     */\n    enterContextWithMapping(mapping) {\n        // http://www.w3.org/TR/REC-xml-names/#ns-decl\n        if (mapping.xmlns !== undefined) {\n            throw new Error(\"trying to define 'xmlns' but the XML Namespaces \" +\n                \"standard stipulates that 'xmlns' cannot be \" +\n                \"declared (= \\\"defined\\\")\");\n        }\n        const xmlMapping = mapping.xml;\n        if (xmlMapping !== undefined && xmlMapping !== name_resolver_1.XML1_NAMESPACE) {\n            throw new Error(\"trying to define 'xml' to an incorrect URI\");\n        }\n        const forward = new Map();\n        const backwards = new Map();\n        for (const prefix of Object.keys(mapping)) {\n            const uri = mapping[prefix];\n            forward.set(prefix, uri);\n            let prefixes = backwards.get(uri);\n            if (prefixes === undefined) {\n                prefixes = [prefix];\n                backwards.set(uri, prefixes);\n            }\n            // This ensure that the default namespace is given priority when\n            // unresolving names.\n            else if (prefix === \"\") {\n                prefixes.unshift(\"\");\n            }\n            else {\n                prefixes.push(prefix);\n            }\n        }\n        this._contextStack.push({ forward, backwards });\n    }\n    /**\n     * This method is called to indicate the end of a context. Whatever context\n     * was in effect when the current context ends becomes effective.\n     *\n     * @throws {Error} If this method is called when there is no context created\n     * by [[enterContext]].\n     */\n    leaveContext() {\n        if (this._contextStack.length > 1) {\n            this._contextStack.pop();\n        }\n        else {\n            throw new Error(\"trying to leave the default context\");\n        }\n    }\n    /**\n     * Resolves a qualified name to an expanded name. A qualified name is an XML\n     * name optionally prefixed by a namespace prefix. For instance, in ``<html\n     * xml:lang=\"en\">``, \"html\" is a name without a prefix, and \"xml:lang\" is a\n     * name with the \"xml\" prefix. An expanded name is a (URI, name) pair.\n     *\n     * @param name The name to resolve.\n     *\n     * @param attribute Whether this name appears as an attribute.\n     *\n     * @throws {Error} If the name is malformed. For instance, a name with two\n     * colons would be malformed.\n     *\n     * @returns The expanded name, or ``undefined`` if the name cannot be\n     * resolved.\n     */\n    resolveName(name, attribute = false) {\n        const colon = name.indexOf(\":\");\n        let prefix;\n        let local;\n        if (colon === -1) {\n            if (attribute) { // Attribute in undefined namespace\n                return new ename_1.EName(\"\", name);\n            }\n            // We are searching for the default namespace currently in effect.\n            prefix = \"\";\n            local = name;\n        }\n        else {\n            prefix = name.substr(0, colon);\n            local = name.substr(colon + 1);\n            if (local.includes(\":\")) {\n                throw new Error(\"invalid name passed to resolveName\");\n            }\n        }\n        // Search through the contexts.\n        for (let ix = this._contextStack.length - 1; ix >= 0; --ix) {\n            const context = this._contextStack[ix];\n            const uri = context.forward.get(prefix);\n            if (uri !== undefined) {\n                return new ename_1.EName(uri, local);\n            }\n        }\n        // If we get here uri is necessarily undefined.\n        return (prefix === \"\") ? new ename_1.EName(\"\", local) : undefined;\n    }\n    /**\n     * Unresolves an expanded name to a qualified name. An expanded name is a\n     * (URI, name) pair. Note that if we execute:\n     *\n     * <pre>\n     *   var nameResolver = new NameResolver();\n     *   var ename = nameResolver.resolveName(qname);\n     *   var qname2 = nameResolver.unresolveName(ename.ns, ename.name);\n     * </pre>\n     *\n     * then ``qname === qname2`` is not necessarily true. This would happen if two\n     * prefixes map to the same URI. In such case the prefix provided in the\n     * return value is arbitrarily chosen.\n     *\n     * @param uri The URI part of the expanded name. An empty string is\n     * valid, and basically means \"no namespace\". This occurs for unprefixed\n     * attributes but could also happen if the default namespace is undeclared.\n     *\n     * @param  name The name part.\n     *\n     * @returns The qualified name that corresponds to the expanded name, or\n     * ``undefined`` if it cannot be resolved.\n     */\n    unresolveName(uri, name) {\n        if (uri === \"\") {\n            return name;\n        }\n        // Search through the contexts.\n        let prefixes;\n        for (let cIx = this._contextStack.length - 1; (prefixes === undefined) && (cIx >= 0); --cIx) {\n            prefixes = this._contextStack[cIx].backwards.get(uri);\n        }\n        if (prefixes === undefined) {\n            return undefined;\n        }\n        const pre = prefixes[0];\n        return (pre !== \"\") ? `${pre}:${name}` : name;\n    }\n    /**\n     * Returns a prefix that, in the current context, is mapped to the URI\n     * specified. Note that this function will return the first prefix that\n     * satisfies the requirement, starting from the innermost context.\n     *\n     * @param uri A URI for which to get a prefix.\n     *\n     * @returns A prefix that maps to this URI. Undefined if there is no prefix\n     * available.\n     */\n    prefixFromURI(uri) {\n        let prefixes;\n        for (let cIx = this._contextStack.length - 1; (prefixes === undefined) && (cIx >= 0); --cIx) {\n            prefixes = this._contextStack[cIx].backwards.get(uri);\n        }\n        if (prefixes === undefined) {\n            return undefined;\n        }\n        return prefixes[0];\n    }\n}\nexports.DefaultNameResolver = DefaultNameResolver;\n//  LocalWords:  unprefixed nameResolver pre definePrefix Unresolves qname vm\n//  LocalWords:  redeclarations newID ename lang html NameResolver Mangalam uri\n//  LocalWords:  xmlns URI Dubeau resolveName xml MPL unresolving namespace\n//# sourceMappingURL=default_name_resolver.js.map","\"use strict\";\n/**\n * Implements a name resolver for handling namespace changes in XML.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.XMLNS_NAMESPACE = exports.XML1_NAMESPACE = void 0;\n//\n// Both defined at:\n// http://www.w3.org/TR/REC-xml-names/#ns-decl\n//\n/**\n * The namespace URI for the \"xml\" prefix. This is part of the [XML\n * spec](http://www.w3.org/TR/REC-xml-names/#ns-decl).\n */\n// tslint:disable-next-line: no-http-string\nexports.XML1_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\";\n/**\n * The namespace URI for the \"xmlns\" prefix. This is part of the [XML\n * spec](http://www.w3.org/TR/REC-xml-names/#ns-decl).\n */\n// tslint:disable-next-line: no-http-string\nexports.XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\";\n//  LocalWords:  unprefixed nameResolver pre definePrefix Unresolves qname vm\n//  LocalWords:  redeclarations newID ename lang html NameResolver Mangalam uri\n//  LocalWords:  xmlns URI Dubeau resolveName xml MPL unresolving namespace\n//# sourceMappingURL=name_resolver.js.map","\"use strict\";\n/**\n * This module contains utilities for reading salve's internal schema format.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readTreeFromJSON = void 0;\nconst tools_1 = require(\"../tools\");\nconst common_1 = require(\"./common\");\nclass OldFormatError extends Error {\n    constructor() {\n        super(\"your schema file must be recreated with a newer \" +\n            \"version of salve-convert\");\n        tools_1.fixPrototype(this, OldFormatError);\n    }\n}\n/**\n * A class for walking the JSON object representing a schema.\n */\nclass V2JSONWalker {\n    /**\n     *\n     * @param options The options object from the file that contains the\n     * schema.\n     */\n    constructor(options) {\n        this.options = options;\n        // tslint:disable-next-line:no-bitwise\n        this.addPath = (this.options & common_1.OPTION_NO_PATHS) !== 0;\n    }\n    /**\n     * Walks a V2 representation of a JavaScript object.\n     *\n     * @param array The array representing the object.\n     *\n     * @throws {Error} If the object is malformed.\n     *\n     * @returns The return value of [[V2JSONWalker._processObject]].\n     */\n    walkObject(array) {\n        const kind = array[0];\n        const ctor = common_1.codeToConstructor[kind];\n        if (ctor === undefined) {\n            if (array.length < 1) {\n                throw new Error(\"array too small to contain object\");\n            }\n            throw new Error(`undefined type: ${kind}`);\n        }\n        if (ctor === Array) {\n            throw new Error(\"trying to build array with walkObject\");\n        }\n        // This can happen for Empty, Text, notAllowed when the JSON was generated\n        // without path information.\n        if (array.length === 1) {\n            return this._processObject(kind, ctor, [\"\"]);\n        }\n        const args = array.slice(1);\n        this._transformArray(args);\n        return this._processObject(kind, ctor, this.addPath ? [\"\", ...args] :\n            args);\n    }\n    /**\n     * Processes an object. Derived classes will want to override this method to\n     * perform their work.\n     *\n     * @param kind The object \"kind\". A numeric code.\n     *\n     * @param ctor The object's constructor.\n     *\n     * @param args The arguments that should be passed to the constructor.\n     *\n     * @returns If the ``V2JSONWalker`` instance is meant to convert the JSON\n     * data, then this method should return an Object. If the ``V2JSONWalker``\n     * instance is meant to check the JSON data, then it should return\n     * ``undefined``.\n     */\n    _processObject(kind, ctor, args) {\n        return undefined; // Do nothing\n    }\n    _transformArray(arr) {\n        const limit = arr.length;\n        for (let elIx = 0; elIx < limit; elIx++) {\n            let el = arr[elIx];\n            if (el instanceof Array) {\n                if (el[0] !== 0) {\n                    arr[elIx] = this.walkObject(el);\n                }\n                else {\n                    arr[elIx] = el = el.slice(1);\n                    this._transformArray(el);\n                }\n            }\n        }\n    }\n}\nfunction namedOnePatternFilter(args) {\n    // Same thing as for OneOrMore, but for these elements the array of patterns\n    // is at index 2 rather than index 1 because index 1 contains a name.\n    if (args[2].length !== 1) {\n        throw new Error(\"PatternOnePattern with an array of patterns that \" +\n            \"contains other than 1 pattern\");\n    }\n    return [args[0], args[1], args[2][0]];\n}\nfunction twoPatternFilter(args) {\n    if (args[1].length !== 2) {\n        throw new Error(\"PatternTwoPatterns with an array of patterns that \" +\n            \"contains other than 2 pattern\");\n    }\n    return [args[0], args[1][0], args[1][1]];\n}\nconst kindToArgFilter = [\n    undefined,\n    undefined,\n    // Data\n    (args) => {\n        if (args.length >= 4) {\n            // Parameters are represented as an array of strings in the file.\n            // Transform this array of strings into an array of objects.\n            const params = args[3];\n            if (params.length % 2 !== 0) {\n                throw new Error(\"parameter array length not a multiple of 2\");\n            }\n            // tslint:disable-next-line: prefer-array-literal\n            const newParams = new Array(params.length / 2);\n            const limit = params.length;\n            for (let i = 0; i < limit; i += 2) {\n                newParams[i / 2] = { name: params[i], value: params[i + 1] };\n            }\n            args[3] = newParams;\n        }\n        return args;\n    },\n    undefined,\n    undefined,\n    undefined,\n    undefined,\n    undefined,\n    undefined,\n    // OneOrMore\n    (args) => {\n        //\n        // In the file we have two arguments: the XML path, an array of length 1\n        // that contains the one subpattern.\n        //\n        // Here we ditch the array and replace it with its lone subpattern.\n        //\n        if (args[1].length !== 1) {\n            throw new Error(\"OneOrMore with an array of patterns that \" +\n                \"contains other than 1 pattern\");\n        }\n        return [args[0], args[1][0]];\n    },\n    twoPatternFilter,\n    twoPatternFilter,\n    namedOnePatternFilter,\n    namedOnePatternFilter,\n    namedOnePatternFilter,\n    undefined,\n    undefined,\n    twoPatternFilter,\n    //\n    // The name pattern filters all drop the path information.\n    //\n    // Name,\n    (args) => args.slice(1),\n    // NameChoice,\n    (args) => {\n        if (args[1].length !== 2) {\n            throw new Error(\"NameChoice with an array of patterns that \" +\n                \"contains other than 2 pattern\");\n        }\n        return args[1];\n    },\n    // NsName,\n    (args) => args.slice(1),\n    // AnyName,\n    (args) => args.slice(1),\n];\n/**\n * A JSON walker that constructs a pattern tree as it walks the JSON object.\n *\n * @private\n */\nclass V2Constructor extends V2JSONWalker {\n    _processObject(kind, ctor, args) {\n        const filter = kindToArgFilter[kind];\n        return new ctor(...(filter === undefined ? args : filter(args)));\n    }\n}\n/**\n * Constructs a tree of patterns from the data structure produced by running\n * ``salve-convert`` on an RNG file.\n *\n * @param code The JSON representation (a string) or the deserialized JSON.\n *\n * @throws {Error} When the version of the data is not supported.\n *\n * @returns The tree.\n */\nfunction readTreeFromJSON(code) {\n    const parsed = (typeof code === \"string\" ? JSON.parse(code) : code);\n    if (typeof parsed === \"object\" && parsed.v === undefined) {\n        throw new OldFormatError(); // version 0\n    }\n    const { v: version, o: options, d: data } = parsed;\n    if (version === 3) {\n        return new V2Constructor(options).walkObject(data);\n    }\n    throw new Error(`unknown version: ${version}`);\n}\nexports.readTreeFromJSON = readTreeFromJSON;\n//  LocalWords:  deserialized PatternTwoPatterns PatternOnePattern OneOrMore js\n//  LocalWords:  codeToConstructor nameToConstructor RNG subpattern JSON xsl\n//  LocalWords:  rng MPL\n//# sourceMappingURL=read.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OPTION_NO_PATHS = exports.nameToCode = exports.codeToConstructor = void 0;\n/**\n * This module contains constants common to both reading and writing schemas in\n * the JSON format internal to salve.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst patterns_1 = require(\"../patterns\");\n//\n// MODIFICATIONS TO THIS TABLE MUST BE REFLECTED IN ALL OTHER TABLES IN THIS\n// MODULE.\n//\nexports.codeToConstructor = [\n    Array,\n    patterns_1.Empty,\n    patterns_1.Data,\n    patterns_1.List,\n    patterns_1.Param,\n    patterns_1.Value,\n    patterns_1.NotAllowed,\n    patterns_1.Text,\n    patterns_1.Ref,\n    patterns_1.OneOrMore,\n    patterns_1.Choice,\n    patterns_1.Group,\n    patterns_1.Attribute,\n    patterns_1.Element,\n    patterns_1.Define,\n    patterns_1.Grammar,\n    // EName used to be in this slot. Yes, we cheat with a cast. salve will\n    // crash hard if this slot is accessed, which is what we want.\n    undefined,\n    patterns_1.Interleave,\n    patterns_1.Name,\n    patterns_1.NameChoice,\n    patterns_1.NsName,\n    patterns_1.AnyName,\n];\n//\n// MODIFICATIONS TO THIS MAP MUST BE REFLECTED IN ALL OTHER TABLES IN THIS\n// MODULE.\n//\n// Element name to code mapping\nexports.nameToCode = Object.create(null);\nexports.nameToCode.array = 0;\nexports.nameToCode.empty = 1;\nexports.nameToCode.data = 2;\nexports.nameToCode.list = 3;\nexports.nameToCode.param = 4;\nexports.nameToCode.value = 5;\nexports.nameToCode.notAllowed = 6;\nexports.nameToCode.text = 7;\nexports.nameToCode.ref = 8;\nexports.nameToCode.oneOrMore = 9;\nexports.nameToCode.choice = 10;\nexports.nameToCode.group = 11;\nexports.nameToCode.attribute = 12;\nexports.nameToCode.element = 13;\nexports.nameToCode.define = 14;\nexports.nameToCode.grammar = 15;\n// Historical value.\n// nameToCode.EName = 16;\nexports.nameToCode.interleave = 17;\nexports.nameToCode.name = 18;\nexports.nameToCode.nameChoice = 19;\nexports.nameToCode.nsName = 20;\nexports.nameToCode.anyName = 21;\n// This is a bit field\nexports.OPTION_NO_PATHS = 1;\n// var OPTION_WHATEVER = 2;\n// var OPTION_WHATEVER_PLUS_1 = 4;\n// etc...\n//# sourceMappingURL=common.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makeSimplifier = exports.registerSimplifier = exports.isAvailable = exports.getAvailableSimplifiers = void 0;\nconst availableSimplifiers = Object.create(null);\nfunction getAvailableSimplifiers() {\n    return Object.keys(availableSimplifiers);\n}\nexports.getAvailableSimplifiers = getAvailableSimplifiers;\nfunction isAvailable(name) {\n    return availableSimplifiers[name] !== undefined;\n}\nexports.isAvailable = isAvailable;\nfunction registerSimplifier(name, ctor) {\n    availableSimplifiers[name] = ctor;\n}\nexports.registerSimplifier = registerSimplifier;\nfunction makeSimplifier(name, options) {\n    const ctor = availableSimplifiers[name];\n    if (ctor === undefined) {\n        throw new Error(`unknown simplifier name: ${name}`);\n    }\n    return new ctor(options);\n}\nexports.makeSimplifier = makeSimplifier;\n//# sourceMappingURL=schema-simplification.js.map","\"use strict\";\n/**\n * RNG-based validator.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.version = void 0;\nconst tslib_1 = require(\"tslib\");\nexports.version = \"1.2.0\";\nvar patterns_1 = require(\"./patterns\");\nObject.defineProperty(exports, \"eventsToTreeString\", { enumerable: true, get: function () { return patterns_1.eventsToTreeString; } });\nObject.defineProperty(exports, \"Grammar\", { enumerable: true, get: function () { return patterns_1.Grammar; } });\nObject.defineProperty(exports, \"GrammarWalker\", { enumerable: true, get: function () { return patterns_1.GrammarWalker; } });\nObject.defineProperty(exports, \"BasePattern\", { enumerable: true, get: function () { return patterns_1.BasePattern; } });\nvar conversion_1 = require(\"./conversion\");\nObject.defineProperty(exports, \"convertRNGToPattern\", { enumerable: true, get: function () { return conversion_1.convertRNGToPattern; } });\nObject.defineProperty(exports, \"makeResourceLoader\", { enumerable: true, get: function () { return conversion_1.makeResourceLoader; } });\nvar write_1 = require(\"./json-format/write\");\nObject.defineProperty(exports, \"writeTreeToJSON\", { enumerable: true, get: function () { return write_1.writeTreeToJSON; } });\nvar read_1 = require(\"./json-format/read\");\nObject.defineProperty(exports, \"readTreeFromJSON\", { enumerable: true, get: function () { return read_1.readTreeFromJSON; } });\nvar ename_1 = require(\"./ename\");\nObject.defineProperty(exports, \"EName\", { enumerable: true, get: function () { return ename_1.EName; } });\ntslib_1.__exportStar(require(\"./events\"), exports);\nvar errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"AttributeNameError\", { enumerable: true, get: function () { return errors_1.AttributeNameError; } });\nObject.defineProperty(exports, \"AttributeValueError\", { enumerable: true, get: function () { return errors_1.AttributeValueError; } });\nObject.defineProperty(exports, \"ChoiceError\", { enumerable: true, get: function () { return errors_1.ChoiceError; } });\nObject.defineProperty(exports, \"ElementNameError\", { enumerable: true, get: function () { return errors_1.ElementNameError; } });\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return errors_1.ValidationError; } });\nvar default_name_resolver_1 = require(\"./default_name_resolver\");\nObject.defineProperty(exports, \"DefaultNameResolver\", { enumerable: true, get: function () { return default_name_resolver_1.DefaultNameResolver; } });\nvar name_patterns_1 = require(\"./name_patterns\");\nObject.defineProperty(exports, \"BaseName\", { enumerable: true, get: function () { return name_patterns_1.Base; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return name_patterns_1.Name; } });\nObject.defineProperty(exports, \"NameChoice\", { enumerable: true, get: function () { return name_patterns_1.NameChoice; } });\nObject.defineProperty(exports, \"NsName\", { enumerable: true, get: function () { return name_patterns_1.NsName; } });\nObject.defineProperty(exports, \"AnyName\", { enumerable: true, get: function () { return name_patterns_1.AnyName; } });\n//  LocalWords:  rng Mangalam Dubeau MPL RNG constructTree validator\n//# sourceMappingURL=validate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Attribute = void 0;\nconst errors_1 = require(\"../errors\");\nconst events_1 = require(\"../events\");\nconst set_1 = require(\"../set\");\nconst base_1 = require(\"./base\");\nconst data_1 = require(\"./data\");\nconst text_1 = require(\"./text\");\n/**\n * A pattern for attributes.\n */\nclass Attribute extends base_1.Pattern {\n    /**\n     * @param xmlPath This is a string which uniquely identifies the\n     * element from the simplified RNG tree. Used in debugging.\n     *\n     * @param name The qualified name of the attribute.\n     *\n     * @param pat The pattern contained by this one.\n     */\n    constructor(xmlPath, name, pat) {\n        super(xmlPath);\n        this.name = name;\n        this.pat = pat;\n        if (pat instanceof text_1.Text) {\n            this.kind = 1 /* TEXT */;\n        }\n        else if (pat instanceof data_1.Data) {\n            this.kind = 2 /* DATA */;\n        }\n        else {\n            this.kind = 0 /* DEFAULT */;\n        }\n    }\n    _prepare(definitions, namespaces) {\n        this.pat._prepare(definitions, namespaces);\n        this.name._recordNamespaces(namespaces, false);\n    }\n    hasAttrs() {\n        return true;\n    }\n    hasEmptyPattern() {\n        return false;\n    }\n    newWalker() {\n        switch (this.kind) {\n            case 1 /* TEXT */:\n                return new AttributeTextWalker(this, this.name, false, false, false);\n            case 2 /* DATA */:\n                const pat = this.pat;\n                return new AttributeDataWalker(this, this.name, pat.datatype, pat.params, pat.except, false, false, false);\n            default:\n                // tslint:disable-next-line:no-use-before-declare\n                return new AttributeWalker(this, this.name, this.pat.newWalker(), false, /* seenName */ false, false);\n        }\n    }\n}\nexports.Attribute = Attribute;\n/**\n * Walker for [[Attribute]].\n */\nclass AttributeWalker {\n    /**\n     * @param el The pattern for which this walker was created.\n     */\n    constructor(el, name, subwalker, seenName, canEndAttribute, canEnd) {\n        this.el = el;\n        this.name = name;\n        this.subwalker = subwalker;\n        this.seenName = seenName;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new AttributeWalker(this.el, this.name, this.subwalker.clone(), this.seenName, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        return new Set();\n    }\n    possibleAttributes() {\n        if (this.canEnd) {\n            return new Set();\n        }\n        if (!this.seenName) {\n            return new Set([new events_1.AttributeNameEvent(this.name)]);\n        }\n        // Convert text events to attributeValue events.\n        return set_1.map(this.subwalker.possible(), ev => {\n            if (ev.name !== \"text\") {\n                throw new Error(`unexpected event type: ${ev.name}`);\n            }\n            return new events_1.AttributeValueEvent(ev.value, ev.documentation);\n        });\n    }\n    fireEvent(name, params, nameResolver) {\n        // If canEnd is true, we've done everything we could. So we don't\n        // want to match again.\n        if (this.canEnd) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        let value;\n        if (this.seenName) {\n            if (name !== \"attributeValue\") {\n                return new base_1.InternalFireEventResult(false);\n            }\n            value = params[0];\n        }\n        else if ((name === \"attributeNameAndValue\" || name === \"attributeName\") &&\n            this.name.match(params[0], params[1])) {\n            this.seenName = true;\n            if (name === \"attributeName\") {\n                return new base_1.InternalFireEventResult(true);\n            }\n            value = params[2];\n        }\n        else {\n            return new base_1.InternalFireEventResult(false);\n        }\n        this.canEnd = true;\n        this.canEndAttribute = true;\n        if (value !== \"\" &&\n            !this.subwalker.fireEvent(\"text\", [value], nameResolver).matched) {\n            return new base_1.InternalFireEventResult(false, [new errors_1.AttributeValueError(\"invalid attribute value\", this.name)]);\n        }\n        return base_1.InternalFireEventResult.fromEndResult(this.subwalker.end());\n    }\n    endAttributes() {\n        if (this.canEnd) {\n            return false;\n        }\n        // We set the canEnd flags true even though we did not end properly. This\n        // prevents producing errors about the same attribute multiple times,\n        // because end is called by element walkers when leaveStartTag is\n        // encountered, and again when the element closes.\n        this.canEnd = true;\n        this.canEndAttribute = true;\n        return [this.seenName ?\n                new errors_1.AttributeValueError(\"attribute value missing\", this.name) :\n                new errors_1.AttributeNameError(\"attribute missing\", this.name)];\n    }\n    end() {\n        return false;\n    }\n}\n/**\n * This is a specialized walker for attributes that contain <text/> (which is\n * the default when an attribute does not have a more specific content\n * specified).\n */\nclass AttributeTextWalker {\n    /**\n     * @param el The pattern for which this walker was created.\n     */\n    constructor(el, name, seenName, canEndAttribute, canEnd) {\n        this.el = el;\n        this.name = name;\n        this.seenName = seenName;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new AttributeTextWalker(this.el, this.name, this.seenName, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        return new Set();\n    }\n    possibleAttributes() {\n        return this.canEnd ?\n            new Set() :\n            new Set([this.seenName ?\n                    new events_1.AttributeValueEvent(/^[^]*$/) :\n                    new events_1.AttributeNameEvent(this.name)]);\n    }\n    fireEvent(name, params, nameResolver) {\n        // If canEnd is true, we've done everything we could. So we don't\n        // want to match again.\n        if (this.canEnd) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        if (this.seenName) {\n            if (name !== \"attributeValue\") {\n                return new base_1.InternalFireEventResult(false);\n            }\n        }\n        else if ((name === \"attributeNameAndValue\" || name === \"attributeName\") &&\n            this.name.match(params[0], params[1])) {\n            this.seenName = true;\n            if (name === \"attributeName\") {\n                return new base_1.InternalFireEventResult(true);\n            }\n        }\n        else {\n            return new base_1.InternalFireEventResult(false);\n        }\n        this.canEnd = true;\n        this.canEndAttribute = true;\n        return new base_1.InternalFireEventResult(true);\n    }\n    endAttributes() {\n        if (this.canEnd) {\n            return false;\n        }\n        // We set the canEnd flags true even though we did not end properly. This\n        // prevents producing errors about the same attribute multiple times,\n        // because end is called by element walkers when leaveStartTag is\n        // encountered, and again when the element closes.\n        this.canEnd = true;\n        this.canEndAttribute = true;\n        return [this.seenName ?\n                new errors_1.AttributeValueError(\"attribute value missing\", this.name) :\n                new errors_1.AttributeNameError(\"attribute missing\", this.name)];\n    }\n    end() {\n        return false;\n    }\n}\n/**\n * This is a specialized walker for attributes that contain <data> (which is\n * rather common).\n */\nclass AttributeDataWalker {\n    /**\n     * @param el The pattern for which this walker was created.\n     */\n    constructor(el, name, datatype, params, except, seenName, canEndAttribute, canEnd) {\n        this.el = el;\n        this.name = name;\n        this.datatype = datatype;\n        this.params = params;\n        this.except = except;\n        this.seenName = seenName;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new AttributeDataWalker(this.el, this.name, this.datatype, this.params, this.except, this.seenName, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        return new Set();\n    }\n    possibleAttributes() {\n        return this.canEnd ?\n            new Set() :\n            new Set([this.seenName ?\n                    new events_1.AttributeValueEvent(this.datatype.regexp) :\n                    new events_1.AttributeNameEvent(this.name)]);\n    }\n    fireEvent(name, params, nameResolver) {\n        // If canEnd is true, we've done everything we could. So we don't\n        // want to match again.\n        if (this.canEnd) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        let value;\n        if (this.seenName) {\n            if (name !== \"attributeValue\") {\n                return new base_1.InternalFireEventResult(false);\n            }\n            value = params[0];\n        }\n        else if ((name === \"attributeNameAndValue\" || name === \"attributeName\") &&\n            this.name.match(params[0], params[1])) {\n            this.seenName = true;\n            if (name === \"attributeName\") {\n                return new base_1.InternalFireEventResult(true);\n            }\n            value = params[2];\n        }\n        else {\n            return new base_1.InternalFireEventResult(false);\n        }\n        this.canEnd = true;\n        this.canEndAttribute = true;\n        if (this.datatype.disallows(value, this.params, this.datatype.needsContext ?\n            { resolver: nameResolver } : undefined)) {\n            return new base_1.InternalFireEventResult(false, [new errors_1.AttributeValueError(\"invalid attribute value\", this.name)]);\n        }\n        if (this.except !== undefined) {\n            const walker = this.except.newWalker();\n            const exceptRet = walker.fireEvent(name, params, nameResolver);\n            // False, so the except does match the text, and so this pattern does\n            // not match it.\n            if (exceptRet.matched) {\n                return new base_1.InternalFireEventResult(false);\n            }\n            // Otherwise, it is undefined, in which case it means the except does\n            // not match the text, and we are fine. Or it would be possible for the\n            // walker to have returned an error but there is nothing we can do with\n            // such errors here.\n        }\n        return new base_1.InternalFireEventResult(true);\n    }\n    endAttributes() {\n        if (this.canEnd) {\n            return false;\n        }\n        // We set the canEnd flags true even though we did not end properly. This\n        // prevents producing errors about the same attribute multiple times,\n        // because end is called by element walkers when leaveStartTag is\n        // encountered, and again when the element closes.\n        this.canEnd = true;\n        this.canEndAttribute = true;\n        return [this.seenName ?\n                new errors_1.AttributeValueError(\"attribute value missing\", this.name) :\n                new errors_1.AttributeNameError(\"attribute missing\", this.name)];\n    }\n    end() {\n        return false;\n    }\n}\n//  LocalWords:  RNG's MPL RNG attributeName attributeValue ev params\n//  LocalWords:  neutralizeAttribute\n//# sourceMappingURL=attribute.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.builtin = void 0;\n/**\n * Implementation of the builtin Relax NG datatype library.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst errors_1 = require(\"./errors\");\n/**\n * Strips leading and trailing space. Normalize all internal spaces to a single\n * space.\n *\n * @private\n *\n * @param value The value whose space we want to normalize.\n *\n * @returns The normalized value.\n */\nfunction normalizeSpace(value) {\n    // It is generally faster to trim first.\n    return value.trim().replace(/\\s+/g, \" \");\n}\n//\n// TypeScript does not automatically treat unimplemented interface bits as\n// abstract. :-(\n//\n// See https://github.com/Microsoft/TypeScript/issues/4670\n//\nclass Base {\n    parseParams(location, params) {\n        if (params !== undefined && params.length > 0) {\n            throw new errors_1.ParameterParsingError(location, [new errors_1.ParamError(\"this type does not accept parameters\")]);\n        }\n        return Object.create(null);\n    }\n}\nclass StringT extends Base {\n    constructor() {\n        super(...arguments);\n        this.regexp = /^[^]*$/;\n        this.needsContext = false;\n    }\n    parseValue(location, value) {\n        // The builtins do not disallow anything so we don't call disallows to check\n        // whether the value is disallowed.\n        return { value };\n    }\n    equal(value, schemaValue) {\n        return value === schemaValue.value;\n    }\n    disallows(value) {\n        return false;\n    }\n}\nconst stringT = new StringT();\nclass Token extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"token\";\n        this.needsContext = false;\n        this.regexp = /^[^]*$/;\n    }\n    parseValue(location, value) {\n        // The builtins do not disallow anything so we don't call disallows to check\n        // whether the value is disallowed.\n        return { value: normalizeSpace(value) };\n    }\n    equal(value, schemaValue) {\n        return normalizeSpace(value) === schemaValue.value;\n    }\n    disallows(value) {\n        // Yep, token allows anything, just like string.\n        return false;\n    }\n}\nconst token = new Token();\n/**\n * The builtin datatype library.\n */\nexports.builtin = {\n    uri: \"\",\n    types: {\n        string: stringT,\n        token,\n    },\n};\n//  LocalWords:  NG MPL unparsed\n//# sourceMappingURL=builtin.js.map","\"use strict\";\n/**\n * Implementation of the XMLSchema datatypes.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.xmlschema = void 0;\nconst tslib_1 = require(\"tslib\");\nconst errors_1 = require(\"./errors\");\nconst regexp = tslib_1.__importStar(require(\"./regexp\"));\nconst xmlcharacters_1 = require(\"./xmlcharacters\");\n// tslint:disable: no-reserved-keywords\n/**\n * Convert a number to an internal representation. This takes care of the\n * differences between JavaScript and XML Schema (e.g. \"Infinity\" vs \"INF\").\n *\n * @param value The value as expressed in an XML file or schema.\n *\n * @returns The number, in its internal representation.\n */\nfunction convertToInternalNumber(value) {\n    if (value === \"INF\") {\n        return Infinity;\n    }\n    if (value === \"-INF\") {\n        return -Infinity;\n    }\n    return Number(value);\n}\n/**\n * Convert an internal representation of a number to a string. This takes care\n * of the differences between JavaScript and XML Schema. For instance, a value\n * of ``Infinity`` will be represented as the string ``\"INF\"``.\n *\n * @param number The internal representation.\n *\n * @returns The string representation.\n */\nfunction convertInternalNumberToString(value) {\n    if (value === Infinity) {\n        return \"INF\";\n    }\n    if (value === -Infinity) {\n        return \"-INF\";\n    }\n    return value.toString();\n}\nclass NumericParameter {\n    convert(value) {\n        return convertToInternalNumber(value);\n    }\n}\nclass NonNegativeIntegerParameter extends NumericParameter {\n    isInvalidParam(value, name) {\n        const asNum = Number(value);\n        if (Number.isInteger(asNum) && asNum >= 0) {\n            return false;\n        }\n        return new errors_1.ParamError(`${name} must have a non-negative integer value`);\n    }\n}\nclass LengthP extends NonNegativeIntegerParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"length\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param, type) {\n        if (type.valueLength(value) === param) {\n            return false;\n        }\n        return new errors_1.ValueError(`length of value should be ${param}`);\n    }\n}\nconst lengthP = new LengthP();\nclass MinLengthP extends NonNegativeIntegerParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"minLength\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param, type) {\n        if (type.valueLength(value) >= param) {\n            return false;\n        }\n        return new errors_1.ValueError(\"length of value should be greater than \" +\n            `or equal to ${param}`);\n    }\n}\nconst minLengthP = new MinLengthP();\nclass MaxLengthP extends NonNegativeIntegerParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"maxLength\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param, type) {\n        if (type.valueLength(value) <= param) {\n            return false;\n        }\n        return new errors_1.ValueError(\"length of value should be less than \" +\n            `or equal to ${param}`);\n    }\n}\nconst maxLengthP = new MaxLengthP();\n//\n// pattern is special. It converts the param value found in the RNG file into an\n// object with two fields: ``rng`` and ``internal``. RNG is the string value\n// from the RNG file, and ``internal`` is a representation internal to salve. We\n// use ``internal`` for performing the validation but present ``rng`` to the\n// user. Note that if pattern appears multiple times as a parameter, the two\n// values are the result of the concatenation of all the instance of the pattern\n// parameter. (Why this? Because it would be confusing to show the internal\n// value in error messages to the user.)\n//\n/**\n * A mapping of raw schema values to the corresponding ``RegExp`` object.\n */\nconst reCache = Object.create(null);\nclass PatternP {\n    constructor() {\n        this.name = \"pattern\";\n        this.repeatable = true;\n    }\n    convert(value) {\n        let internal = reCache[value];\n        if (internal === undefined) {\n            internal = reCache[value] = regexp.parse(value);\n        }\n        return {\n            rng: value,\n            internal,\n        };\n    }\n    isInvalidParam(value) {\n        try {\n            this.convert(value);\n        }\n        catch (ex) {\n            // Convert the error into something that makes sense for salve.\n            if (ex instanceof regexp.SalveParsingError) {\n                return new errors_1.ParamError(ex.message);\n            }\n            // Rethrow\n            throw ex;\n        }\n        return false;\n    }\n    isInvalidValue(value, param) {\n        if (param instanceof Array) {\n            let failedOn;\n            for (const p of param) {\n                if (!p.internal.test(value)) {\n                    failedOn = p;\n                    break;\n                }\n            }\n            if (failedOn === undefined) {\n                return false;\n            }\n            return new errors_1.ValueError(`value does not match the pattern ${failedOn.rng}`);\n        }\n        if (param.internal.test(value)) {\n            return false;\n        }\n        return new errors_1.ValueError(`value does not match the pattern ${param.rng}`);\n    }\n}\nconst patternP = new PatternP();\nclass TotalDigitsP extends NumericParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"totalDigits\";\n        this.repeatable = false;\n    }\n    isInvalidParam(value, name) {\n        const asNum = Number(value);\n        if (Number.isInteger(asNum) && asNum > 0) {\n            return false;\n        }\n        return new errors_1.ParamError(`${name} must have a positive value`);\n    }\n    isInvalidValue(value, param) {\n        const str = String(Number(value)).replace(/[-+.]/g, \"\");\n        if (str.length > param) {\n            return new errors_1.ValueError(`value must have at most ${param} digits`);\n        }\n        return false;\n    }\n}\nconst totalDigitsP = new TotalDigitsP();\nclass FractionDigitsP extends NonNegativeIntegerParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"fractionDigits\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param) {\n        const str = String(Number(value)).replace(/^.*\\./, \"\");\n        if (str.length > param) {\n            return new errors_1.ValueError(`value must have at most ${param} fraction digits`);\n        }\n        return false;\n    }\n}\nclass NumericTypeDependentParameter extends NumericParameter {\n    isInvalidParam(value, name, type) {\n        const errors = type.disallows(value, type.defaultParams);\n        if (!errors) {\n            return false;\n        }\n        // Support for multiple value errors is mainly so that we can report if a\n        // value violates multiple param specifications. When we check a param in\n        // isolation, it is unlikely that we'd get multiple errors. If we do, we\n        // narrow it to the first error and convert the ValueError to a ParamError.\n        return new errors_1.ParamError(errors[0].message);\n    }\n}\nconst fractionDigitsP = new FractionDigitsP();\nclass MaxInclusiveP extends NumericTypeDependentParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"maxInclusive\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param) {\n        if ((isNaN(value) !== isNaN(param)) || value > param) {\n            const repr = convertInternalNumberToString(param);\n            return new errors_1.ValueError(`value must be less than or equal to ${repr}`);\n        }\n        return false;\n    }\n}\nconst maxInclusiveP = new MaxInclusiveP();\nclass MaxExclusiveP extends NumericTypeDependentParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"maxExclusive\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param) {\n        // The negation of a less-than test allows handling a parameter value of NaN\n        // automatically.\n        if (!(value < param)) {\n            const repr = convertInternalNumberToString(param);\n            return new errors_1.ValueError(`value must be less than ${repr}`);\n        }\n        return false;\n    }\n}\nconst maxExclusiveP = new MaxExclusiveP();\nclass MinInclusiveP extends NumericTypeDependentParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"minInclusive\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param) {\n        if ((isNaN(value) !== isNaN(param)) || value < param) {\n            const repr = convertInternalNumberToString(param);\n            return new errors_1.ValueError(`value must be greater than or equal to ${repr}`);\n        }\n        return false;\n    }\n}\nconst minInclusiveP = new MinInclusiveP();\nclass MinExclusiveP extends NumericTypeDependentParameter {\n    constructor() {\n        super(...arguments);\n        this.name = \"minExclusive\";\n        this.repeatable = false;\n    }\n    isInvalidValue(value, param) {\n        // The negation of a greater-than test allows handling a parameter value of\n        // NaN automatically.\n        if (!(value > param)) {\n            const repr = convertInternalNumberToString(param);\n            return new errors_1.ValueError(`value must be greater than ${repr}`);\n        }\n        return false;\n    }\n}\nconst minExclusiveP = new MinExclusiveP();\n/**\n * A mapping of parameter names to parameter objects.\n */\nconst PARAM_NAME_TO_OBJ = Object.create(null);\nfor (const param of [lengthP, minLengthP, maxLengthP, patternP, totalDigitsP,\n    fractionDigitsP, minExclusiveP, minInclusiveP,\n    maxExclusiveP, maxInclusiveP]) {\n    PARAM_NAME_TO_OBJ[param.name] = param;\n}\nconst EMPTY_PARAMS = Object.create(null);\n/**\n * The structure that all datatype implementations in this module share.\n *\n * @private\n *\n */\nclass Base {\n    /**\n     * The default parameters if none are specified.\n     */\n    get defaultParams() {\n        return EMPTY_PARAMS;\n    }\n    /**\n     * Computes the value's length. This may differ from the value's length, as it\n     * appears in the XML document it comes from.\n     *\n     * @param value The value from the XML document.\n     *\n     * @returns The length.\n     */\n    valueLength(value) {\n        return value.length;\n    }\n    parseValue(location, value, context) {\n        const errors = this.disallows(value, this.defaultParams, context);\n        if (errors) {\n            throw new errors_1.ValueValidationError(location, errors);\n        }\n        const result = this.convertValue(value, context);\n        if (result instanceof Array) {\n            throw new errors_1.ValueValidationError(location, result);\n        }\n        return { value: result };\n    }\n    // tslint:disable-next-line: max-func-body-length\n    parseParams(location, params) {\n        const ret = Object.create(null);\n        if (params === undefined) {\n            return ret;\n        }\n        const errors = [];\n        for (const x of params) {\n            const { name, value } = x;\n            const prop = PARAM_NAME_TO_OBJ[name];\n            // Do we know this parameter?\n            if (prop === undefined || !this.validParams.includes(prop)) {\n                errors.push(new errors_1.ParamError(`unexpected parameter: ${name}`));\n                continue;\n            }\n            // Is the value valid at all?\n            const invalid = prop.isInvalidParam(value, name, this);\n            if (invalid) {\n                errors.push(invalid);\n            }\n            else {\n                const converted = prop.convert(value);\n                const values = ret[name];\n                // We gather all the values in a map of name to value.\n                if (values === undefined) {\n                    ret[name] = converted;\n                }\n                else {\n                    if (!prop.repeatable) {\n                        errors.push(new errors_1.ParamError(`cannot repeat parameter ${name}`));\n                    }\n                    if (Array.isArray(values)) {\n                        values.push(converted);\n                    }\n                    else {\n                        ret[name] = [values, converted];\n                    }\n                }\n            }\n        }\n        if (errors.length !== 0) {\n            throw new errors_1.ParameterParsingError(location, errors);\n        }\n        // Inter-parameter checks. There's no point in trying to generalize\n        // this.\n        const { minLength, maxLength, maxInclusive, maxExclusive, minInclusive, minExclusive } = ret;\n        if (minLength > maxLength) {\n            errors.push(new errors_1.ParamError(\"minLength must be less than or equal to maxLength\"));\n        }\n        if (ret.length !== undefined) {\n            if (minLength !== undefined) {\n                errors.push(new errors_1.ParamError(\"length and minLength cannot appear together\"));\n            }\n            if (maxLength !== undefined) {\n                errors.push(new errors_1.ParamError(\"length and maxLength cannot appear together\"));\n            }\n        }\n        if (maxInclusive !== undefined) {\n            if (maxExclusive !== undefined) {\n                errors.push(new errors_1.ParamError(\"maxInclusive and maxExclusive cannot appear together\"));\n            }\n            // maxInclusive, minExclusive\n            if (minExclusive >= maxInclusive) {\n                errors.push(new errors_1.ParamError(\"minExclusive must be less than maxInclusive\"));\n            }\n        }\n        if (minInclusive !== undefined) {\n            if (minExclusive !== undefined) {\n                errors.push(new errors_1.ParamError(\"minInclusive and minExclusive cannot appear together\"));\n            }\n            // maxInclusive, minInclusive\n            if (minInclusive > maxInclusive) {\n                errors.push(new errors_1.ParamError(\"minInclusive must be less than or equal to maxInclusive\"));\n            }\n            // maxExclusive, minInclusive\n            if (minInclusive >= maxExclusive) {\n                errors.push(new errors_1.ParamError(\"minInclusive must be less than maxExclusive\"));\n            }\n        }\n        // maxExclusive, minExclusive\n        if (minExclusive > maxExclusive) {\n            errors.push(new errors_1.ParamError(\"minExclusive must be less than or equal to maxExclusive\"));\n        }\n        if (errors.length !== 0) {\n            throw new errors_1.ParameterParsingError(location, errors);\n        }\n        return ret;\n    }\n    equal(value, schemaValue, context) {\n        const converted = this.convertValue(value, context);\n        return converted instanceof Array ? false :\n            converted === schemaValue.value;\n    }\n    disallows(value, params, context) {\n        if (!this.regexp.test(value)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        const paramNames = Object.keys(params);\n        if (paramNames.length === 0) {\n            return false;\n        }\n        const converted = this.convertValue(value, context);\n        if (converted instanceof Array) {\n            return converted;\n        }\n        const errors = [];\n        for (const name of paramNames) {\n            const param = PARAM_NAME_TO_OBJ[name];\n            const err = param.isInvalidValue(converted, params[name], this);\n            if (err) {\n                errors.push(err);\n            }\n        }\n        return (errors.length !== 0) ? errors : false;\n    }\n}\n//\n// String family\n//\nclass CommonStringBased extends Base {\n    convertValue(value) {\n        return value.trim().replace(/\\s+/g, \" \");\n    }\n}\n/* tslint:disable:class-name */\nclass string_ extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"string\";\n        this.typeErrorMsg = \"value is not a string\";\n        this.validParams = [lengthP, minLengthP, maxLengthP,\n            patternP];\n        this.needsContext = false;\n        // [^] means \"any character\". The dot would exclude line terminators (\\r\\n,\n        // etc.).\n        this.regexp = /^[^]*$/;\n    }\n    convertValue(value) {\n        return value;\n    }\n    // This is a specialized version of disallows that avoids bothering with tests\n    // that don't affect the results. string and some of its immediate derivates\n    // are not affected by their regexp, nor do they have default parameters that\n    // affect what values are allowed.\n    disallows(value, params) {\n        if (Object.keys(params).length === 0) {\n            // The default params don't disallow anything.\n            return false;\n        }\n        const converted = this.convertValue(value);\n        const errors = [];\n        // We use Object.keys because we don't know the precise type of params.\n        for (const name of Object.keys(params)) {\n            const param = PARAM_NAME_TO_OBJ[name];\n            const err = param.isInvalidValue(converted, params[name], this);\n            if (err) {\n                errors.push(err);\n            }\n        }\n        return (errors.length !== 0) ? errors : false;\n    }\n}\nclass normalizedString extends string_ {\n    constructor() {\n        super(...arguments);\n        this.name = \"normalizedString\";\n        this.typeErrorMsg = \"string contains a tab, carriage return or newline\";\n    }\n    convertValue(value) {\n        return value.replace(/\\s+/g, \" \");\n    }\n}\nclass token extends normalizedString {\n    constructor() {\n        super(...arguments);\n        this.name = \"token\";\n        this.typeErrorMsg = \"not a valid token\";\n    }\n    convertValue(value) {\n        return value.trim().replace(/\\s+/g, \" \");\n    }\n}\nclass tokenInternal extends token {\n    disallows(value, params) {\n        if (!this.regexp.test(value)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return super.disallows(value, params);\n    }\n}\nclass language extends tokenInternal {\n    constructor() {\n        super(...arguments);\n        this.name = \"language\";\n        this.typeErrorMsg = \"not a valid language identifier\";\n        this.regexp = /^\\s*[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*\\s*$/;\n    }\n}\nclass Name extends tokenInternal {\n    constructor() {\n        super(...arguments);\n        this.name = \"Name\";\n        this.typeErrorMsg = \"not a valid Name\";\n        this.regexp = xmlcharacters_1.xmlNameRe;\n    }\n}\nclass NCName extends Name {\n    constructor() {\n        super(...arguments);\n        this.name = \"NCName\";\n        this.typeErrorMsg = \"not a valid NCName\";\n        this.regexp = xmlcharacters_1.xmlNcnameRe;\n    }\n}\nclass NMTOKEN extends tokenInternal {\n    constructor() {\n        super(...arguments);\n        this.name = \"NMTOKEN\";\n        this.typeErrorMsg = \"not a valid NMTOKEN\";\n        this.regexp = new RegExp(`^\\\\s*[${xmlcharacters_1.xmlNameChar}]+\\\\s*$`);\n    }\n}\nclass NMTOKENS extends NMTOKEN {\n    constructor() {\n        super(...arguments);\n        this.name = \"NMTOKENS\";\n        this.typeErrorMsg = \"not a valid NMTOKENS\";\n        this.regexp = new RegExp(`^\\\\s*[${xmlcharacters_1.xmlNameChar}]+(?:\\\\s+[${xmlcharacters_1.xmlNameChar}]+)*\\\\s*$`);\n    }\n}\nclass ID extends NCName {\n    constructor() {\n        super(...arguments);\n        this.name = \"ID\";\n        this.typeErrorMsg = \"not a valid ID\";\n    }\n}\nclass IDREF extends NCName {\n    constructor() {\n        super(...arguments);\n        this.name = \"IDREF\";\n        this.typeErrorMsg = \"not a valid IDREF\";\n    }\n}\nclass IDREFS extends IDREF {\n    constructor() {\n        super(...arguments);\n        this.name = \"IDREFS\";\n        this.typeErrorMsg = \"not a valid IDREFS\";\n        this.regexp = new RegExp(`^\\\\s*${xmlcharacters_1.xmlNcname}(?:\\\\s+${xmlcharacters_1.xmlNcname})*\\\\s*$`);\n    }\n}\nclass ENTITY extends NCName {\n    constructor() {\n        super(...arguments);\n        this.name = \"ENTITY\";\n        this.typeErrorMsg = \"not a valid ENTITY\";\n    }\n}\nclass ENTITIES extends ENTITY {\n    constructor() {\n        super(...arguments);\n        this.name = \"ENTITIES\";\n        this.typeErrorMsg = \"not a valid ENTITIES\";\n        this.regexp = new RegExp(`^\\\\s*${xmlcharacters_1.xmlNcname}(?:\\\\s+${xmlcharacters_1.xmlNcname})*\\\\s*$`);\n    }\n}\n//\n// Decimal family\n//\nconst decimalPattern = \"[-+]?(?!$)\\\\d*(\\\\.\\\\d*)?\";\nclass decimal extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"decimal\";\n        this.typeErrorMsg = \"value not a decimal number\";\n        this.regexp = new RegExp(`^\\\\s*${decimalPattern}\\\\s*$`);\n        this.needsContext = false;\n        this.validParams = [\n            totalDigitsP, fractionDigitsP, patternP, minExclusiveP, minInclusiveP,\n            maxExclusiveP, maxInclusiveP,\n        ];\n    }\n    convertValue(value) {\n        // We don't need to do white-space processing on the value.\n        return Number(value);\n    }\n}\nconst integerPattern = \"[-+]?\\\\d+\";\nclass integer extends decimal {\n    constructor() {\n        super(...arguments);\n        this.name = \"integer\";\n        this.typeErrorMsg = \"value is not an integer\";\n        this.regexp = new RegExp(`^\\\\s*${integerPattern}\\\\s*$`);\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n    get defaultParams() {\n        if (this._defaultParams === undefined) {\n            const params = this._defaultParams = Object.create(null);\n            const { highestVal, lowestVal } = this;\n            if (highestVal !== undefined) {\n                params.maxInclusive = highestVal;\n            }\n            if (lowestVal !== undefined) {\n                params.minInclusive = lowestVal;\n            }\n            return params;\n        }\n        return this._defaultParams;\n    }\n    parseParams(location, params) {\n        const ret = super.parseParams(location, params);\n        function fail(message) {\n            throw new errors_1.ParameterParsingError(location, [new errors_1.ParamError(message)]);\n        }\n        const { highestVal, lowestVal } = this;\n        if (highestVal !== undefined) {\n            const me = ret.maxExclusive;\n            if (me !== undefined) {\n                if (me > highestVal) {\n                    fail(`maxExclusive cannot be greater than ${highestVal}`);\n                }\n            }\n            else {\n                const mi = ret.maxInclusive;\n                if (mi !== undefined) {\n                    if (mi > highestVal) {\n                        fail(`maxInclusive cannot be greater than ${highestVal}`);\n                    }\n                }\n                else {\n                    ret.maxInclusive = highestVal;\n                }\n            }\n        }\n        if (lowestVal !== undefined) {\n            const me = ret.minExclusive;\n            if (me !== undefined) {\n                if (me < lowestVal) {\n                    fail(`minExclusive cannot be lower than ${this.lowestVal}`);\n                }\n            }\n            else {\n                const mi = ret.minInclusive;\n                if (mi !== undefined) {\n                    if (mi < lowestVal) {\n                        fail(`minInclusive cannot be lower than ${this.lowestVal}`);\n                    }\n                }\n                else {\n                    ret.minInclusive = lowestVal;\n                }\n            }\n        }\n        return ret;\n    }\n}\nclass nonPositiveInteger extends integer {\n    constructor() {\n        super(...arguments);\n        this.name = \"nonPositiveInteger\";\n        this.typeErrorMsg = \"value is not a nonPositiveInteger\";\n        this.regexp = /^\\s*\\+?0+|-\\d+\\s*$/;\n        this.highestVal = 0;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass negativeInteger extends nonPositiveInteger {\n    constructor() {\n        super(...arguments);\n        this.name = \"negativeInteger\";\n        this.typeErrorMsg = \"value is not a negativeInteger\";\n        this.regexp = /^\\s*-\\d+\\s*$/;\n        this.highestVal = -1;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass nonNegativeInteger extends integer {\n    constructor() {\n        super(...arguments);\n        this.name = \"nonNegativeInteger\";\n        this.typeErrorMsg = \"value is not a nonNegativeInteger\";\n        this.regexp = /^\\s*(\\+?\\d+|-0)\\s*$/;\n        this.lowestVal = 0;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass positiveInteger extends nonNegativeInteger {\n    constructor() {\n        super(...arguments);\n        this.name = \"positiveInteger\";\n        this.typeErrorMsg = \"value is not a positiveInteger\";\n        this.regexp = /^\\s*\\+?\\d+\\s*$/;\n        this.lowestVal = 1;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass long_ extends integer {\n    constructor() {\n        super(...arguments);\n        this.name = \"long\";\n        this.typeErrorMsg = \"value is not a long\";\n        this.highestVal = 9223372036854775807;\n        this.lowestVal = -9223372036854775808;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass int_ extends long_ {\n    constructor() {\n        super(...arguments);\n        this.name = \"int\";\n        this.typeErrorMsg = \"value is not an int\";\n        this.highestVal = 2147483647;\n        this.lowestVal = -2147483648;\n    }\n}\nclass short_ extends int_ {\n    constructor() {\n        super(...arguments);\n        this.name = \"short\";\n        this.typeErrorMsg = \"value is not a short\";\n        this.highestVal = 32767;\n        this.lowestVal = -32768;\n    }\n}\nclass byte_ extends short_ {\n    constructor() {\n        super(...arguments);\n        this.name = \"byte\";\n        this.typeErrorMsg = \"value is not a byte\";\n        this.highestVal = 127;\n        this.lowestVal = -128;\n    }\n}\nclass unsignedLong extends nonNegativeInteger {\n    constructor() {\n        super(...arguments);\n        this.name = \"unsignedLong\";\n        this.typeErrorMsg = \"value is not an unsignedLong\";\n        this.highestVal = 18446744073709551615;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass unsignedInt extends unsignedLong {\n    constructor() {\n        super(...arguments);\n        this.name = \"unsignedInt\";\n        this.typeErrorMsg = \"value is not an unsignedInt\";\n        this.highestVal = 4294967295;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass unsignedShort extends unsignedInt {\n    constructor() {\n        super(...arguments);\n        this.name = \"unsignedShort\";\n        this.typeErrorMsg = \"value is not an unsignedShort\";\n        this.highestVal = 65535;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass unsignedByte extends unsignedShort {\n    constructor() {\n        super(...arguments);\n        this.name = \"unsignedByte\";\n        this.typeErrorMsg = \"value is not an unsignedByte\";\n        this.highestVal = 255;\n        this.validParams = [\n            totalDigitsP, patternP, minExclusiveP, minInclusiveP, maxExclusiveP,\n            maxInclusiveP,\n        ];\n    }\n}\nclass boolean_ extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"boolean\";\n        this.typeErrorMsg = \"not a valid boolean\";\n        this.regexp = /^\\s*(1|0|true|false)\\s*$/;\n        this.validParams = [patternP];\n        this.needsContext = false;\n    }\n    convertValue(value) {\n        return (value === \"1\" || value === \"true\");\n    }\n}\nconst B04 = \"[AQgw]\";\nconst B16 = \"[AEIMQUYcgkosw048]\";\nconst B64 = \"[A-Za-z0-9+/]\";\nconst B64S = `(?:${B64}\\\\s*)`;\nconst B16S = `(?:${B16}\\\\s*)`;\nconst B04S = `(?:${B04}\\\\s*)`;\nconst base64BinaryRe = new RegExp(`^\\\\s*(?:(?:${B64S}{4})*(?:(?:${B64S}{3}${B64})|(?:${B64S}{2}${B16S}=)|(?:` +\n    `${B64S}${B04S}= ?=)))?\\\\s*$`);\nclass base64Binary extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"base64Binary\";\n        this.typeErrorMsg = \"not a valid base64Binary\";\n        this.regexp = base64BinaryRe;\n        this.needsContext = false;\n        this.validParams = [lengthP, minLengthP, maxLengthP, patternP];\n    }\n    convertValue(value) {\n        // We don't need to actually decode it.\n        return value.replace(/\\s/g, \"\");\n    }\n    valueLength(value) {\n        // Length of the decoded value.\n        return Math.floor((value.replace(/[\\s=]/g, \"\").length * 3) / 4);\n    }\n}\nclass hexBinary extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"hexBinary\";\n        this.typeErrorMsg = \"not a valid hexBinary\";\n        this.regexp = /^\\s*(?:[0-9a-fA-F]{2})*\\s*$/;\n        this.needsContext = false;\n        this.validParams = [lengthP, minLengthP, maxLengthP, patternP];\n    }\n    convertValue(value) {\n        return value;\n    }\n    valueLength(value) {\n        // Length of the byte list.\n        return value.length / 2;\n    }\n}\nconst doubleRe = new RegExp(`^\\\\s*(?:(?:[-+]?INF)|(?:NaN)|(?:${decimalPattern}\\\n(?:[Ee]${integerPattern})?))\\\\s*$`);\nclass float_ extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"float\";\n        this.typeErrorMsg = \"not a valid float\";\n        this.regexp = doubleRe;\n        this.needsContext = false;\n        this.validParams = [\n            patternP, minInclusiveP, minExclusiveP, maxInclusiveP, maxExclusiveP,\n        ];\n    }\n    convertValue(value) {\n        return convertToInternalNumber(value);\n    }\n    equal(value, schemaValue) {\n        const converted = this.convertValue(value);\n        // In the IEEE 754-1985 standard, which is what XMLSChema 1.0 follows, NaN\n        // is equal to NaN. In JavaScript NaN is equal to nothing, not even itself.\n        // So we need to handle this difference.\n        if (isNaN(converted)) {\n            return isNaN(schemaValue.value);\n        }\n        return converted === schemaValue.value;\n    }\n}\nclass double_ extends float_ {\n    constructor() {\n        super(...arguments);\n        this.name = \"double\";\n        this.typeErrorMsg = \"not a valid double\";\n    }\n}\nclass QName extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"QName\";\n        this.typeErrorMsg = \"not a valid QName\";\n        this.regexp = new RegExp(`^\\\\s*(?:${xmlcharacters_1.xmlNcname}:)?${xmlcharacters_1.xmlNcname}\\\\s*$`);\n        this.needsContext = true;\n        this.validParams = [patternP, lengthP, minLengthP, maxLengthP];\n    }\n    disallows(value, params, context) {\n        if (!this.regexp.test(value)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        const converted = this.convertValue(value, context);\n        if (converted instanceof Array) {\n            return converted;\n        }\n        const paramNames = Object.keys(params);\n        if (paramNames.length === 0) {\n            return false;\n        }\n        const errors = [];\n        for (const name of paramNames) {\n            const param = PARAM_NAME_TO_OBJ[name];\n            const err = param.isInvalidValue(converted, params[name], this);\n            if (err) {\n                errors.push(err);\n            }\n        }\n        return (errors.length !== 0) ? errors : false;\n    }\n    convertValue(value, context) {\n        const ret = context.resolver.resolveName(value.trim());\n        if (ret === undefined) {\n            return [new errors_1.ValueError(`cannot resolve the name ${value}`)];\n        }\n        return `{${ret.ns}}${ret.name}`;\n    }\n}\nclass NOTATION extends Base {\n    constructor() {\n        super(...arguments);\n        this.name = \"NOTATION\";\n        this.typeErrorMsg = \"not a valid NOTATION\";\n        this.regexp = new RegExp(`^\\\\s*(?:${xmlcharacters_1.xmlNcname}:)?${xmlcharacters_1.xmlNcname}\\\\s*$`);\n        this.needsContext = true;\n        this.validParams = [patternP, lengthP, minLengthP, maxLengthP];\n    }\n    disallows(value, params, context) {\n        if (!this.regexp.test(value)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        const converted = this.convertValue(value, context);\n        if (converted instanceof Array) {\n            return converted;\n        }\n        const paramNames = Object.keys(params);\n        if (paramNames.length === 0) {\n            return false;\n        }\n        const errors = [];\n        for (const name of paramNames) {\n            const param = PARAM_NAME_TO_OBJ[name];\n            const err = param.isInvalidValue(converted, params[name], this);\n            if (err) {\n                errors.push(err);\n            }\n        }\n        return (errors.length !== 0) ? errors : false;\n    }\n    convertValue(value, context) {\n        const ret = context.resolver.resolveName(value.trim());\n        if (ret === undefined) {\n            return [new errors_1.ValueError(`cannot resolve the name ${value}`)];\n        }\n        return `{${ret.ns}}${ret.name}`;\n    }\n}\nclass duration extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"duration\";\n        this.typeErrorMsg = \"not a valid duration\";\n        this.regexp = \n        // tslint:disable-next-line:max-line-length\n        /^\\s*-?P(?!$)(?:\\d+Y)?(?:\\d+M)?(?:\\d+D)?(?:T(?!$)(?:\\d+H)?(?:\\d+M)?(?:\\d+(\\.\\d+)?S)?)?\\s*$/;\n        this.validParams = [patternP];\n        this.needsContext = false;\n    }\n}\nconst yearPattern = \"-?(?:[1-9]\\\\d*)?\\\\d{4}\";\nconst monthPattern = \"[01]\\\\d\";\nconst domPattern = \"[0-3]\\\\d\";\nconst timePattern = \"[012]\\\\d:[0-5]\\\\d:[0-5]\\\\d(?:\\\\.\\\\d+)?\";\nconst tzPattern = \"(?:[+-][01]\\\\d:[0-5]\\\\d|Z)\";\nconst tzRe = new RegExp(`${tzPattern}$`);\nfunction isLeapYear(year) {\n    return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n}\nconst dateGroupingRe = new RegExp(`^\\\\s*(${yearPattern})-(${monthPattern})-(${domPattern})T(${timePattern})` +\n    `(${tzPattern}?)\\\\s*$`);\nconst maxDoms = [undefined, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction checkDate(value) {\n    // The Date.parse method of JavaScript is not reliable.\n    const match = value.match(dateGroupingRe);\n    if (match === null) {\n        return false;\n    }\n    const year = match[1];\n    const leap = isLeapYear(Number(year));\n    const month = Number(match[2]);\n    if (month === 0 || month > 12) {\n        return false;\n    }\n    const dom = Number(match[3]);\n    // We cannot have an undefined value here... so...\n    // tslint:disable-next-line:no-non-null-assertion\n    let maxDom = maxDoms[month];\n    if (month === 2 && !leap) {\n        maxDom = 28;\n    }\n    if (dom === 0 || dom > maxDom) {\n        return false;\n    }\n    const timeParts = match[4].split(\":\");\n    const minutes = Number(timeParts[1]);\n    if (minutes > 59) {\n        return false;\n    }\n    const seconds = Number(timeParts[2]);\n    if (seconds > 59) {\n        return false;\n    }\n    // 24 is valid if minutes and seconds are at 0, otherwise 23 is the\n    // limit.\n    const hoursLimit = (minutes === 0 && seconds === 0) ? 24 : 23;\n    if (Number(timeParts[0]) > hoursLimit) {\n        return false;\n    }\n    if (match[5] !== undefined && match[5] !== \"\" && match[5] !== \"Z\") {\n        // We have a TZ\n        const tzParts = match[5].split(\":\");\n        // Slice: skip the sign.\n        const tzHours = Number(tzParts[0].slice(1));\n        if (tzHours > 14) {\n            return false;\n        }\n        const tzSeconds = Number(tzParts[1]);\n        if (tzSeconds > 59) {\n            return false;\n        }\n        if (tzHours === 14 && tzSeconds !== 0) {\n            return false;\n        }\n    }\n    return true;\n}\nclass dateTime extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"dateTime\";\n        this.typeErrorMsg = \"not a valid dateTime\";\n        this.regexp = new RegExp(`^\\\\s*${yearPattern}-${monthPattern}-${domPattern}` +\n            `T${timePattern}${tzPattern}?\\\\s*$`);\n        this.needsContext = false;\n        this.validParams = [patternP];\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret instanceof Array) {\n            return ret;\n        }\n        if (!checkDate(value)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\nclass time extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"time\";\n        this.typeErrorMsg = \"not a valid time\";\n        this.regexp = new RegExp(`^\\\\s*${timePattern}${tzPattern}?\\\\s*$`);\n        this.validParams = [patternP];\n        this.needsContext = false;\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret) {\n            return ret;\n        }\n        // Date does not validate times, so set the date to something fake.\n        if (!checkDate(`1901-01-01T${value}`)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\nclass date extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"date\";\n        this.typeErrorMsg = \"not a valid date\";\n        this.regexp = new RegExp(`^\\\\s*${yearPattern}-${monthPattern}-${domPattern}${tzPattern}?\\\\s*$`);\n        this.needsContext = false;\n        this.validParams = [patternP];\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret) {\n            return ret;\n        }\n        // We have to add time for Date() to parse it.\n        const match = value.match(tzRe);\n        const withTime = match !== null ?\n            `${value.slice(0, match.index)}T00:00:00${match[0]}` :\n            `${value}T00:00:00`;\n        if (!checkDate(withTime)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\nclass gYearMonth extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"gYearMonth\";\n        this.typeErrorMsg = \"not a valid gYearMonth\";\n        this.regexp = new RegExp(`^\\\\s*${yearPattern}-${monthPattern}${tzPattern}?\\\\s*$`);\n        this.validParams = [patternP];\n        this.needsContext = false;\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret) {\n            return ret;\n        }\n        // We have to add a day and time for Date() to parse it.\n        const match = value.match(tzRe);\n        const withTime = match !== null ?\n            `${value.slice(0, match.index)}-01T00:00:00${match[0]}` :\n            `${value}-01T00:00:00`;\n        if (!checkDate(withTime)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\nclass gYear extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"gYear\";\n        this.typeErrorMsg = \"not a valid gYear\";\n        this.regexp = new RegExp(`^\\\\s*${yearPattern}${tzPattern}?\\\\s*$`);\n        this.needsContext = false;\n        this.validParams = [patternP];\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret) {\n            return ret;\n        }\n        // We have to add a month, a day and a time for Date() to parse it.\n        const match = value.match(tzRe);\n        const withTime = match !== null ?\n            `${value.slice(0, match.index)}-01-01T00:00:00${match[0]}` :\n            `${value}-01-01T00:00:00`;\n        if (!checkDate(withTime)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\nclass gMonthDay extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"gMonthDay\";\n        this.typeErrorMsg = \"not a valid gMonthDay\";\n        this.regexp = new RegExp(`^\\\\s*${monthPattern}-${domPattern}${tzPattern}?\\\\s*$`);\n        this.needsContext = false;\n        this.validParams = [patternP];\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret) {\n            return ret;\n        }\n        // We have to add a year and a time for Date() to parse it.\n        const match = value.match(tzRe);\n        const withTime = match !== null ?\n            `${value.slice(0, match.index)}T00:00:00${match[0]}` :\n            `${value}T00:00:00`;\n        // We always add 2000, which is a leap year, so 01-29 won't raise an\n        // error.\n        if (!checkDate(`2000-${withTime}`)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\nclass gDay extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"gDay\";\n        this.typeErrorMsg = \"not a valid gDay\";\n        this.regexp = new RegExp(`^\\\\s*${domPattern}${tzPattern}?\\\\s*$`);\n        this.needsContext = false;\n        this.validParams = [patternP];\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret) {\n            return ret;\n        }\n        // We have to add a year and a time for Date() to parse it.\n        const match = value.match(tzRe);\n        const withTime = match !== null ?\n            `${value.slice(0, match.index)}T00:00:00${match[0]}` :\n            `${value}T00:00:00`;\n        // We always add 2000, which is a leap year, so 01-29 won't raise an\n        // error.\n        if (!checkDate(`2000-01-${withTime}`)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\nclass gMonth extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"gMonth\";\n        this.typeErrorMsg = \"not a valid gMonth\";\n        this.regexp = new RegExp(`^\\\\s*${monthPattern}${tzPattern}?\\\\s*$`);\n        this.needsContext = false;\n        this.validParams = [patternP];\n    }\n    disallows(value, params) {\n        const ret = super.disallows(value, params);\n        if (ret) {\n            return ret;\n        }\n        // We have to add a year and a time for Date() to parse it.\n        const match = value.match(tzRe);\n        const withTime = match !== null ?\n            `${value.slice(0, match.index)}-01T00:00:00${match[0]}` :\n            `${value}-01T00:00:00`;\n        // We always add 2000, which is a leap year, so 01-29 won't raise an\n        // error.\n        if (!checkDate(`2000-${withTime}`)) {\n            return [new errors_1.ValueError(this.typeErrorMsg)];\n        }\n        return false;\n    }\n}\n//\n// See\n// https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#anyURI\n//\n// Though the specification referred above above does not require any syntactic\n// checks, in practice Jing reports errors on malformed URIs. We follow Jing's\n// lead.\n//\n// tslint:disable-next-line:max-line-length\n// Derived from https://stackoverflow.com/questions/161738/what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url/190405#190405\n// tslint:disable-next-line:max-line-length\nconst reJsRfc3987UriReference = /^\\s*(?:[a-z](?:[-a-z0-9\\+\\.])*:(?:\\/\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD}!\\$&'\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&'\\(\\)\\*\\+,;=:]+)\\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))*)*|\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@])))(?:\\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@])|[\\uE000-\\uF8FF\\uF0000-\\uFFFFD\\u100000-\\u10FFFD\\/\\?])*)?(?:\\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@])|[\\/\\?])*)?|(?:\\/\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD}!\\$&'\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&'\\(\\)\\*\\+,;=:]+)\\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))*)*|\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))*)*)?|(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=@])+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@])))(?:\\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@])|[\\uE000-\\uF8FF\\uF0000-\\uFFFFD\\u100000-\\u10FFFD\\/\\?])*)?(?:\\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\uA0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD!\\$&'\\(\\)\\*\\+,;=:@])|[\\/\\?])*)?)$/i;\nclass anyURI extends CommonStringBased {\n    constructor() {\n        super(...arguments);\n        this.name = \"anyURI\";\n        this.typeErrorMsg = \"not a valid anyURI\";\n        this.regexp = reJsRfc3987UriReference;\n        this.needsContext = false;\n        this.validParams = [patternP, lengthP, minLengthP, maxLengthP];\n    }\n}\nconst types = [\n    string_,\n    normalizedString,\n    token,\n    language,\n    Name,\n    NCName,\n    NMTOKEN,\n    NMTOKENS,\n    ID,\n    IDREF,\n    IDREFS,\n    ENTITY,\n    ENTITIES,\n    decimal,\n    integer,\n    nonPositiveInteger,\n    negativeInteger,\n    nonNegativeInteger,\n    positiveInteger,\n    long_,\n    int_,\n    short_,\n    byte_,\n    unsignedLong,\n    unsignedInt,\n    unsignedShort,\n    unsignedByte,\n    boolean_,\n    base64Binary,\n    hexBinary,\n    float_,\n    double_,\n    QName,\n    NOTATION,\n    duration,\n    dateTime,\n    time,\n    date,\n    gYearMonth,\n    gYear,\n    gMonthDay,\n    gDay,\n    gMonth,\n    anyURI,\n];\nconst library = {\n    // tslint:disable-next-line: no-http-string\n    uri: \"http://www.w3.org/2001/XMLSchema-datatypes\",\n    types: {},\n};\nfor (const type of types) {\n    const instance = new type();\n    library.types[instance.name] = instance;\n}\n/**\n * The XML Schema datatype library.\n */\nexports.xmlschema = library;\n//  LocalWords:  XMLSchema datatypes MPL whitespace param minLength maxLength\n//  LocalWords:  RNG rng failedOn totalDigits fractionDigits ValueError repr zA\n//  LocalWords:  ParamError maxInclusive maxExclusive NaN minInclusive params\n//  LocalWords:  minExclusive whitespaces parseParams unparsed XMLSChema NCName\n//  LocalWords:  normalizedString xmlNameChar NMTOKEN NMTOKENS IDREF xmlNcname\n//  LocalWords:  IDREFS decimalPattern integerPattern highestVal lowestVal AQgw\n//  LocalWords:  nonPositiveInteger negativeInteger nonNegativeInteger Za fA Ee\n//  LocalWords:  positiveInteger unsignedLong unsignedInt unsignedShort QName\n//  LocalWords:  unsignedByte AEIMQUYcgkosw hexBinary tzPattern yearPattern TZ\n//  LocalWords:  monthPattern domPattern timePattern dateTime gYearMonth gYear\n//  LocalWords:  gMonthDay gDay gMonth anyURI withTime\n//# sourceMappingURL=xmlschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.SalveParsingError = void 0;\nconst tslib_1 = require(\"tslib\");\n/**\n * This is a module that converts XMLSchema regular expressions to\n * plain JavaScript regular expressions.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\n// tslint:disable-next-line:import-name no-submodule-imports\nconst unicode_base_1 = tslib_1.__importDefault(require(\"xregexp/lib/addons/unicode-base\"));\n// tslint:disable-next-line:import-name no-submodule-imports\nconst unicode_blocks_1 = tslib_1.__importDefault(require(\"xregexp/lib/addons/unicode-blocks\"));\n// tslint:disable-next-line:import-name no-submodule-imports\nconst unicode_categories_1 = tslib_1.__importDefault(require(\"xregexp/lib/addons/unicode-categories\"));\n// tslint:disable-next-line:import-name no-submodule-imports\nconst xregexp_1 = tslib_1.__importDefault(require(\"xregexp/lib/xregexp\"));\nconst tools_1 = require(\"../tools\");\nconst xmlcharacters_1 = require(\"./xmlcharacters\");\nunicode_base_1.default(xregexp_1.default);\nunicode_blocks_1.default(xregexp_1.default);\nunicode_categories_1.default(xregexp_1.default);\n//\n// Terminology:\n//\n// - Character class: a square bracket construct in a regexp.\n//\n// - Positive character class: [...] without a leading caret.\n//\n// - Negative character class: [^...].\n//\n// - Positive match: a single character or range that a character must\n//   match. (Negative character classes also contain positive\n//   matches. In [^abc], \"a\", \"b\" and \"c\" are positive matches. The\n//   character classe is negative but the individual characters are\n//   positive.) The only thing this excludes are multi-char escapes\n//   that match negatively like \\S and \\D.\n//\n// - Positive version of a multi-char escape: defined only for\n//   multi-char escapes that expand to a negative character class; the\n//   same character class but with the negating caret removed. So the\n//   positive version of \\S is \\s, etc.\n//\n// The main transformation performed by this code is to deal with XML\n// Schema regexp's multi character classes that have no class\n// equivalent in JavaScript.\n//\n// Some simple identities:\n//\n// - [xy]  <-> (?:[x]|[y])\n// - [^xy] <-> (?:(?![y])[^x])\n// - (?![^x]) <-> (?=[x])\n//\n// Positive multi-char escape in a positive character class:\n//\n// - [x\\s] -> (?:[x]|[ \\t\\r\\n]) -> [x \\t\\r\\n]\n//\n// Just expand the character class to its constituents.\n//\n// Negative multi-char escape in a positive character class:\n//\n// - [x\\S] -> (?:[x]|[^ \\t\\r\\n])\n//\n// - [x\\S\\D] -> (?:[x\\D]|[^ \\t\\r\\n])\n//           -> (?:[x]|[^\\p{Nd}]|[^ \\t\\r\\n])\n//\n// So we output the positive matches in the class in one positive\n// character class, and ``or`` it with one negative character class\n// per negative multi-char escape.\n//\n// Positive multi-char escape in negative character class:\n//\n// - [^x\\s] -> (?:(?![ \\t\\r\\n])[^x])\n//          -> [^x \\t\\r\\n]\n//\n// Just expand the multi-char escape to its constituents.\n//\n// Negative multi-char escape in negative character class:\n//\n// - [^x\\S] -> (?:(?![^ \\t\\r\\n])[^x])\n//          -> (?:(?=[ \\t\\r\\n])[^x])\n//\n// - [^x\\S\\D] -> (?:(?![\\S\\D])[^x])\n//            -> (?:(?![\\S]|[\\D])[^x])\n//            -> (?:(?=[ \\t\\r\\n\\p{Nd}])[^x])\n//\n// So we output the positive matches in the class in one negative\n// character class, and put a positive lookahead in front with a\n// positive character class that matches the positive version of the\n// negative multi-char escapes.\n//\n// Subtractions:\n//\n// -  [abcd-[bc]] -> (?:(?![bc])[abcd])\n// -  [ad-[bc]]   -> (?:(?![bc])[ad])\n// -  [abcd-[bc-[c]] -> (?:(?![bc-[c]])[abcd])\n//                   -> (?:(?!(?![c])[bc])[abcd])\n// -  [abcd-[^a]] -> (?:(?![^a])[abcd])\n// We use the name ``Salve`` to help avoid potential clashes. ``ParsingError``\n// seems too risky.\nclass SalveParsingError extends Error {\n    constructor(msg) {\n        super(msg);\n        tools_1.fixPrototype(this, SalveParsingError);\n    }\n}\nexports.SalveParsingError = SalveParsingError;\nfunction isGroup(x) {\n    return x.kind === \"group\";\n}\nconst multiCharEscapesInGroup = {\n    s: \" \\\\t\\\\n\\\\r\",\n    S: \"^ \\\\t\\\\n\\\\r\",\n    i: `${xmlcharacters_1.xmlLetter}_:`,\n    I: `^${xmlcharacters_1.xmlLetter}_:`,\n    c: xmlcharacters_1.xmlNameChar,\n    C: `^${xmlcharacters_1.xmlNameChar}`,\n    d: \"\\\\p{Nd}\",\n    D: \"^\\\\p{Nd}\",\n    w: \"^\\\\p{P}\\\\p{Z}\\\\p{C}\",\n    W: \"\\\\p{P}\\\\p{Z}\\\\p{C}\",\n};\nconst multiCharEscapes = Object.create(null);\nfor (const k of Object.keys(multiCharEscapesInGroup)) {\n    multiCharEscapes[k] = `[${multiCharEscapesInGroup[k]}]`;\n}\nfunction parse(input, outputType = \"re\") {\n    const converted = convertString(input);\n    return outputType === \"re\" ?\n        new (/\\\\p/i.test(converted) ? xregexp_1.default : RegExp)(converted) :\n        converted;\n}\nexports.parse = parse;\n// tslint:disable-next-line:max-func-body-length\nfunction convertString(input) {\n    const root = {\n        kind: \"root\",\n        output: \"\",\n    };\n    const stack = [root];\n    for (let i = 0; i < input.length; ++i) {\n        let top = stack[stack.length - 1];\n        const c = input[i];\n        switch (c) {\n            case \"(\":\n                top.output += \"(?:\";\n                break;\n            case \"[\": {\n                const negative = input[i + 1] === \"^\";\n                stack.push({\n                    kind: \"group\",\n                    output: negative ? \"[^\" : \"[\",\n                    negative,\n                    capturedMultiChar: [],\n                    subtraction: false,\n                    toSubtract: \"\",\n                });\n                if (negative) {\n                    i++;\n                }\n                break;\n            }\n            case \"]\": {\n                if (isGroup(top)) {\n                    const group = top;\n                    stack.pop();\n                    top = stack[stack.length - 1];\n                    const { capturedMultiChar, negative } = group;\n                    const plain = `${group.output}]`;\n                    const toSubtract = group.toSubtract !== \"\" ?\n                        `(?!${group.toSubtract})` : \"\";\n                    if (capturedMultiChar.length !== 0) {\n                        let prefix = \"\";\n                        if (negative) {\n                            prefix = \"(?=[\";\n                            for (const multiChar of capturedMultiChar) {\n                                prefix += multiCharEscapesInGroup[multiChar].slice(1);\n                            }\n                            prefix += \"])\";\n                        }\n                        else {\n                            for (const multiChar of capturedMultiChar) {\n                                prefix += `[${multiCharEscapesInGroup[multiChar]}]|`;\n                            }\n                        }\n                        const combined = `(?:${toSubtract}${prefix}${plain})`;\n                        if (isGroup(top) && top.subtraction) {\n                            top.toSubtract = combined;\n                        }\n                        else {\n                            top.output += combined;\n                        }\n                    }\n                    else {\n                        const combined = toSubtract !== \"\" ?\n                            `(?:${toSubtract}${plain})` : plain;\n                        if (isGroup(top) && top.subtraction) {\n                            top.toSubtract = combined;\n                        }\n                        else {\n                            top.output += combined;\n                        }\n                    }\n                }\n                break;\n            }\n            case \"-\":\n                if (isGroup(top) && input[i + 1] === \"[\") {\n                    top.subtraction = true;\n                }\n                else {\n                    top.output += c;\n                }\n                break;\n            case \"\\\\\": {\n                const next = input[i + 1];\n                if (\"sSiIcCdDwW\".includes(next)) {\n                    i++;\n                    if (isGroup(top)) {\n                        const repl = multiCharEscapesInGroup[next];\n                        if (repl[0] === \"^\") {\n                            top.capturedMultiChar.push(next);\n                        }\n                        else {\n                            top.output += repl;\n                        }\n                    }\n                    else {\n                        top.output += multiCharEscapes[next];\n                    }\n                }\n                else {\n                    top.output += c;\n                }\n                break;\n            }\n            default:\n                top.output += c;\n        }\n    }\n    return `^${root.output}$`;\n}\n//# sourceMappingURL=regexp.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _getIterator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/get-iterator\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _getIteratorMethod2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/get-iterator-method\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/symbol\"));\n\nvar _from = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/from\"));\n\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\n\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof _symbol[\"default\"] === \"undefined\" || (0, _getIteratorMethod2[\"default\"])(o) == null) { if ((0, _isArray[\"default\"])(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = (0, _getIterator2[\"default\"])(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { var _context4; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = (0, _slice[\"default\"])(_context4 = Object.prototype.toString.call(o)).call(_context4, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return (0, _from[\"default\"])(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*!\n * XRegExp Unicode Base 4.4.1\n * <xregexp.com>\n * Steven Levithan (c) 2008-present MIT License\n */\nvar _default = function _default(XRegExp) {\n  /**\n   * Adds base support for Unicode matching:\n   * - Adds syntax `\\p{..}` for matching Unicode tokens. Tokens can be inverted using `\\P{..}` or\n   *   `\\p{^..}`. Token names ignore case, spaces, hyphens, and underscores. You can omit the\n   *   braces for token names that are a single letter (e.g. `\\pL` or `PL`).\n   * - Adds flag A (astral), which enables 21-bit Unicode support.\n   * - Adds the `XRegExp.addUnicodeData` method used by other addons to provide character data.\n   *\n   * Unicode Base relies on externally provided Unicode character data. Official addons are\n   * available to provide data for Unicode categories, scripts, blocks, and properties.\n   *\n   * @requires XRegExp\n   */\n  // ==--------------------------==\n  // Private stuff\n  // ==--------------------------==\n  // Storage for Unicode data\n  var unicode = {}; // Reuse utils\n\n  var dec = XRegExp._dec;\n  var hex = XRegExp._hex;\n  var pad4 = XRegExp._pad4; // Generates a token lookup name: lowercase, with hyphens, spaces, and underscores removed\n\n  function normalize(name) {\n    return name.replace(/[- _]+/g, '').toLowerCase();\n  } // Gets the decimal code of a literal code unit, \\xHH, \\uHHHH, or a backslash-escaped literal\n\n\n  function charCode(chr) {\n    var esc = /^\\\\[xu](.+)/.exec(chr);\n    return esc ? dec(esc[1]) : chr.charCodeAt(chr[0] === '\\\\' ? 1 : 0);\n  } // Inverts a list of ordered BMP characters and ranges\n\n\n  function invertBmp(range) {\n    var output = '';\n    var lastEnd = -1;\n    (0, _forEach[\"default\"])(XRegExp).call(XRegExp, range, /(\\\\x..|\\\\u....|\\\\?[\\s\\S])(?:-(\\\\x..|\\\\u....|\\\\?[\\s\\S]))?/, function (m) {\n      var start = charCode(m[1]);\n\n      if (start > lastEnd + 1) {\n        output += \"\\\\u\".concat(pad4(hex(lastEnd + 1)));\n\n        if (start > lastEnd + 2) {\n          output += \"-\\\\u\".concat(pad4(hex(start - 1)));\n        }\n      }\n\n      lastEnd = charCode(m[2] || m[1]);\n    });\n\n    if (lastEnd < 0xFFFF) {\n      output += \"\\\\u\".concat(pad4(hex(lastEnd + 1)));\n\n      if (lastEnd < 0xFFFE) {\n        output += '-\\\\uFFFF';\n      }\n    }\n\n    return output;\n  } // Generates an inverted BMP range on first use\n\n\n  function cacheInvertedBmp(slug) {\n    var prop = 'b!';\n    return unicode[slug][prop] || (unicode[slug][prop] = invertBmp(unicode[slug].bmp));\n  } // Combines and optionally negates BMP and astral data\n\n\n  function buildAstral(slug, isNegated) {\n    var item = unicode[slug];\n    var combined = '';\n\n    if (item.bmp && !item.isBmpLast) {\n      var _context;\n\n      combined = (0, _concat[\"default\"])(_context = \"[\".concat(item.bmp, \"]\")).call(_context, item.astral ? '|' : '');\n    }\n\n    if (item.astral) {\n      combined += item.astral;\n    }\n\n    if (item.isBmpLast && item.bmp) {\n      var _context2;\n\n      combined += (0, _concat[\"default\"])(_context2 = \"\".concat(item.astral ? '|' : '', \"[\")).call(_context2, item.bmp, \"]\");\n    } // Astral Unicode tokens always match a code point, never a code unit\n\n\n    return isNegated ? \"(?:(?!\".concat(combined, \")(?:[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\0-\\uFFFF]))\") : \"(?:\".concat(combined, \")\");\n  } // Builds a complete astral pattern on first use\n\n\n  function cacheAstral(slug, isNegated) {\n    var prop = isNegated ? 'a!' : 'a=';\n    return unicode[slug][prop] || (unicode[slug][prop] = buildAstral(slug, isNegated));\n  } // ==--------------------------==\n  // Core functionality\n  // ==--------------------------==\n\n  /*\n   * Add astral mode (flag A) and Unicode token syntax: `\\p{..}`, `\\P{..}`, `\\p{^..}`, `\\pC`.\n   */\n\n\n  XRegExp.addToken( // Use `*` instead of `+` to avoid capturing `^` as the token name in `\\p{^}`\n  /\\\\([pP])(?:{(\\^?)([^}]*)}|([A-Za-z]))/, function (match, scope, flags) {\n    var ERR_DOUBLE_NEG = 'Invalid double negation ';\n    var ERR_UNKNOWN_NAME = 'Unknown Unicode token ';\n    var ERR_UNKNOWN_REF = 'Unicode token missing data ';\n    var ERR_ASTRAL_ONLY = 'Astral mode required for Unicode token ';\n    var ERR_ASTRAL_IN_CLASS = 'Astral mode does not support Unicode tokens within character classes'; // Negated via \\P{..} or \\p{^..}\n\n    var isNegated = match[1] === 'P' || !!match[2]; // Switch from BMP (0-FFFF) to astral (0-10FFFF) mode via flag A\n\n    var isAstralMode = (0, _includes[\"default\"])(flags).call(flags, 'A'); // Token lookup name. Check `[4]` first to avoid passing `undefined` via `\\p{}`\n\n    var slug = normalize(match[4] || match[3]); // Token data object\n\n    var item = unicode[slug];\n\n    if (match[1] === 'P' && match[2]) {\n      throw new SyntaxError(ERR_DOUBLE_NEG + match[0]);\n    }\n\n    if (!unicode.hasOwnProperty(slug)) {\n      throw new SyntaxError(ERR_UNKNOWN_NAME + match[0]);\n    } // Switch to the negated form of the referenced Unicode token\n\n\n    if (item.inverseOf) {\n      slug = normalize(item.inverseOf);\n\n      if (!unicode.hasOwnProperty(slug)) {\n        var _context3;\n\n        throw new ReferenceError((0, _concat[\"default\"])(_context3 = \"\".concat(ERR_UNKNOWN_REF + match[0], \" -> \")).call(_context3, item.inverseOf));\n      }\n\n      item = unicode[slug];\n      isNegated = !isNegated;\n    }\n\n    if (!(item.bmp || isAstralMode)) {\n      throw new SyntaxError(ERR_ASTRAL_ONLY + match[0]);\n    }\n\n    if (isAstralMode) {\n      if (scope === 'class') {\n        throw new SyntaxError(ERR_ASTRAL_IN_CLASS);\n      }\n\n      return cacheAstral(slug, isNegated);\n    }\n\n    return scope === 'class' ? isNegated ? cacheInvertedBmp(slug) : item.bmp : \"\".concat((isNegated ? '[^' : '[') + item.bmp, \"]\");\n  }, {\n    scope: 'all',\n    optionalFlags: 'A',\n    leadChar: '\\\\'\n  });\n  /**\n   * Adds to the list of Unicode tokens that XRegExp regexes can match via `\\p` or `\\P`.\n   *\n   * @memberOf XRegExp\n   * @param {Array} data Objects with named character ranges. Each object may have properties\n   *   `name`, `alias`, `isBmpLast`, `inverseOf`, `bmp`, and `astral`. All but `name` are\n   *   optional, although one of `bmp` or `astral` is required (unless `inverseOf` is set). If\n   *   `astral` is absent, the `bmp` data is used for BMP and astral modes. If `bmp` is absent,\n   *   the name errors in BMP mode but works in astral mode. If both `bmp` and `astral` are\n   *   provided, the `bmp` data only is used in BMP mode, and the combination of `bmp` and\n   *   `astral` data is used in astral mode. `isBmpLast` is needed when a token matches orphan\n   *   high surrogates *and* uses surrogate pairs to match astral code points. The `bmp` and\n   *   `astral` data should be a combination of literal characters and `\\xHH` or `\\uHHHH` escape\n   *   sequences, with hyphens to create ranges. Any regex metacharacters in the data should be\n   *   escaped, apart from range-creating hyphens. The `astral` data can additionally use\n   *   character classes and alternation, and should use surrogate pairs to represent astral code\n   *   points. `inverseOf` can be used to avoid duplicating character data if a Unicode token is\n   *   defined as the exact inverse of another token.\n   * @example\n   *\n   * // Basic use\n   * XRegExp.addUnicodeData([{\n   *   name: 'XDigit',\n   *   alias: 'Hexadecimal',\n   *   bmp: '0-9A-Fa-f'\n   * }]);\n   * XRegExp('\\\\p{XDigit}:\\\\p{Hexadecimal}+').test('0:3D'); // -> true\n   */\n\n  XRegExp.addUnicodeData = function (data) {\n    var ERR_NO_NAME = 'Unicode token requires name';\n    var ERR_NO_DATA = 'Unicode token has no character data ';\n\n    var _iterator = _createForOfIteratorHelper(data),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n\n        if (!item.name) {\n          throw new Error(ERR_NO_NAME);\n        }\n\n        if (!(item.inverseOf || item.bmp || item.astral)) {\n          throw new Error(ERR_NO_DATA + item.name);\n        }\n\n        unicode[normalize(item.name)] = item;\n\n        if (item.alias) {\n          unicode[normalize(item.alias)] = item;\n        }\n      } // Reset the pattern cache used by the `XRegExp` constructor, since the same pattern and\n      // flags might now produce different results\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    XRegExp.cache.flush('patterns');\n  };\n  /**\n   * @ignore\n   *\n   * Return a reference to the internal Unicode definition structure for the given Unicode\n   * Property if the given name is a legal Unicode Property for use in XRegExp `\\p` or `\\P` regex\n   * constructs.\n   *\n   * @memberOf XRegExp\n   * @param {String} name Name by which the Unicode Property may be recognized (case-insensitive),\n   *   e.g. `'N'` or `'Number'`. The given name is matched against all registered Unicode\n   *   Properties and Property Aliases.\n   * @returns {Object} Reference to definition structure when the name matches a Unicode Property.\n   *\n   * @note\n   * For more info on Unicode Properties, see also http://unicode.org/reports/tr18/#Categories.\n   *\n   * @note\n   * This method is *not* part of the officially documented API and may change or be removed in\n   * the future. It is meant for userland code that wishes to reuse the (large) internal Unicode\n   * structures set up by XRegExp.\n   */\n\n\n  XRegExp._getUnicodeProperty = function (name) {\n    var slug = normalize(name);\n    return unicode[slug];\n  };\n};\n\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","var parent = require('../../es/object/define-property');\n\nmodule.exports = parent;\n","require('../../modules/es.object.define-property');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nvar defineProperty = module.exports = function defineProperty(it, key, desc) {\n  return Object.defineProperty(it, key, desc);\n};\n\nif (Object.defineProperty.sham) defineProperty.sham = true;\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","require('../modules/web.dom-collections.iterator');\nrequire('../modules/es.string.iterator');\nvar getIterator = require('../internals/get-iterator');\n\nmodule.exports = getIterator;\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","var parent = require('../../es/array/is-array');\n\nmodule.exports = parent;\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.es/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","require('../modules/web.dom-collections.iterator');\nrequire('../modules/es.string.iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = getIteratorMethod;\n","var parent = require('../../es/symbol');\n\nmodule.exports = parent;\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.hasInstance` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.hasinstance\ndefineWellKnownSymbol('hasInstance');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.isConcatSpreadable` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.isconcatspreadable\ndefineWellKnownSymbol('isConcatSpreadable');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.match` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.match\ndefineWellKnownSymbol('match');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.matchAll` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.matchall\ndefineWellKnownSymbol('matchAll');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.replace` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.replace\ndefineWellKnownSymbol('replace');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.search` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.search\ndefineWellKnownSymbol('search');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.species` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.species\ndefineWellKnownSymbol('species');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.split` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.split\ndefineWellKnownSymbol('split');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.unscopables` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.unscopables\ndefineWellKnownSymbol('unscopables');\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var parent = require('../../es/array/from');\n\nmodule.exports = parent;\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var parent = require('../../es/instance/slice');\n\nmodule.exports = parent;\n","require('../../../modules/es.array.slice');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').slice;\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","var parent = require('../../es/instance/includes');\n\nmodule.exports = parent;\n","var arrayIncludes = require('../array/virtual/includes');\nvar stringIncludes = require('../string/virtual/includes');\n\nvar ArrayPrototype = Array.prototype;\nvar StringPrototype = String.prototype;\n\nmodule.exports = function (it) {\n  var own = it.includes;\n  if (it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.includes)) return arrayIncludes;\n  if (typeof it === 'string' || it === StringPrototype || (it instanceof String && own === StringPrototype.includes)) {\n    return stringIncludes;\n  } return own;\n};\n","require('../../../modules/es.array.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","require('../../../modules/es.string.includes');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('String').includes;\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var parent = require('../../es/instance/concat');\n\nmodule.exports = parent;\n","var concat = require('../array/virtual/concat');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.concat;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.concat) ? concat : own;\n};\n","require('../../../modules/es.array.concat');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').concat;\n","require('../../modules/web.dom-collections.iterator');\nvar forEach = require('../array/virtual/for-each');\nvar classof = require('../../internals/classof');\nvar ArrayPrototype = Array.prototype;\n\nvar DOMIterables = {\n  DOMTokenList: true,\n  NodeList: true\n};\n\nmodule.exports = function (it) {\n  var own = it.forEach;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.forEach)\n    // eslint-disable-next-line no-prototype-builtins -- safe\n    || DOMIterables.hasOwnProperty(classof(it)) ? forEach : own;\n};\n","var parent = require('../../../es/array/virtual/for-each');\n\nmodule.exports = parent;\n","require('../../../modules/es.array.for-each');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _blocks = _interopRequireDefault(require(\"../../tools/output/blocks\"));\n\n/*!\n * XRegExp Unicode Blocks 4.4.1\n * <xregexp.com>\n * Steven Levithan (c) 2010-present MIT License\n * Unicode data by Mathias Bynens <mathiasbynens.be>\n */\nvar _default = function _default(XRegExp) {\n  /**\n   * Adds support for all Unicode blocks. Block names use the prefix 'In'. E.g.,\n   * `\\p{InBasicLatin}`. Token names are case insensitive, and any spaces, hyphens, and\n   * underscores are ignored.\n   *\n   * Uses Unicode 13.0.0.\n   *\n   * @requires XRegExp, Unicode Base\n   */\n  if (!XRegExp.addUnicodeData) {\n    throw new ReferenceError('Unicode Base must be loaded before Unicode Blocks');\n  }\n\n  XRegExp.addUnicodeData(_blocks[\"default\"]);\n};\n\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","module.exports = [\n    {\n        'name': 'InAdlam',\n        'astral': '\\uD83A[\\uDD00-\\uDD5F]'\n    },\n    {\n        'name': 'InAegean_Numbers',\n        'astral': '\\uD800[\\uDD00-\\uDD3F]'\n    },\n    {\n        'name': 'InAhom',\n        'astral': '\\uD805[\\uDF00-\\uDF3F]'\n    },\n    {\n        'name': 'InAlchemical_Symbols',\n        'astral': '\\uD83D[\\uDF00-\\uDF7F]'\n    },\n    {\n        'name': 'InAlphabetic_Presentation_Forms',\n        'bmp': '\\uFB00-\\uFB4F'\n    },\n    {\n        'name': 'InAnatolian_Hieroglyphs',\n        'astral': '\\uD811[\\uDC00-\\uDE7F]'\n    },\n    {\n        'name': 'InAncient_Greek_Musical_Notation',\n        'astral': '\\uD834[\\uDE00-\\uDE4F]'\n    },\n    {\n        'name': 'InAncient_Greek_Numbers',\n        'astral': '\\uD800[\\uDD40-\\uDD8F]'\n    },\n    {\n        'name': 'InAncient_Symbols',\n        'astral': '\\uD800[\\uDD90-\\uDDCF]'\n    },\n    {\n        'name': 'InArabic',\n        'bmp': '\\u0600-\\u06FF'\n    },\n    {\n        'name': 'InArabic_Extended_A',\n        'bmp': '\\u08A0-\\u08FF'\n    },\n    {\n        'name': 'InArabic_Mathematical_Alphabetic_Symbols',\n        'astral': '\\uD83B[\\uDE00-\\uDEFF]'\n    },\n    {\n        'name': 'InArabic_Presentation_Forms_A',\n        'bmp': '\\uFB50-\\uFDFF'\n    },\n    {\n        'name': 'InArabic_Presentation_Forms_B',\n        'bmp': '\\uFE70-\\uFEFF'\n    },\n    {\n        'name': 'InArabic_Supplement',\n        'bmp': '\\u0750-\\u077F'\n    },\n    {\n        'name': 'InArmenian',\n        'bmp': '\\u0530-\\u058F'\n    },\n    {\n        'name': 'InArrows',\n        'bmp': '\\u2190-\\u21FF'\n    },\n    {\n        'name': 'InAvestan',\n        'astral': '\\uD802[\\uDF00-\\uDF3F]'\n    },\n    {\n        'name': 'InBalinese',\n        'bmp': '\\u1B00-\\u1B7F'\n    },\n    {\n        'name': 'InBamum',\n        'bmp': '\\uA6A0-\\uA6FF'\n    },\n    {\n        'name': 'InBamum_Supplement',\n        'astral': '\\uD81A[\\uDC00-\\uDE3F]'\n    },\n    {\n        'name': 'InBasic_Latin',\n        'bmp': '\\0-\\x7F'\n    },\n    {\n        'name': 'InBassa_Vah',\n        'astral': '\\uD81A[\\uDED0-\\uDEFF]'\n    },\n    {\n        'name': 'InBatak',\n        'bmp': '\\u1BC0-\\u1BFF'\n    },\n    {\n        'name': 'InBengali',\n        'bmp': '\\u0980-\\u09FF'\n    },\n    {\n        'name': 'InBhaiksuki',\n        'astral': '\\uD807[\\uDC00-\\uDC6F]'\n    },\n    {\n        'name': 'InBlock_Elements',\n        'bmp': '\\u2580-\\u259F'\n    },\n    {\n        'name': 'InBopomofo',\n        'bmp': '\\u3100-\\u312F'\n    },\n    {\n        'name': 'InBopomofo_Extended',\n        'bmp': '\\u31A0-\\u31BF'\n    },\n    {\n        'name': 'InBox_Drawing',\n        'bmp': '\\u2500-\\u257F'\n    },\n    {\n        'name': 'InBrahmi',\n        'astral': '\\uD804[\\uDC00-\\uDC7F]'\n    },\n    {\n        'name': 'InBraille_Patterns',\n        'bmp': '\\u2800-\\u28FF'\n    },\n    {\n        'name': 'InBuginese',\n        'bmp': '\\u1A00-\\u1A1F'\n    },\n    {\n        'name': 'InBuhid',\n        'bmp': '\\u1740-\\u175F'\n    },\n    {\n        'name': 'InByzantine_Musical_Symbols',\n        'astral': '\\uD834[\\uDC00-\\uDCFF]'\n    },\n    {\n        'name': 'InCJK_Compatibility',\n        'bmp': '\\u3300-\\u33FF'\n    },\n    {\n        'name': 'InCJK_Compatibility_Forms',\n        'bmp': '\\uFE30-\\uFE4F'\n    },\n    {\n        'name': 'InCJK_Compatibility_Ideographs',\n        'bmp': '\\uF900-\\uFAFF'\n    },\n    {\n        'name': 'InCJK_Compatibility_Ideographs_Supplement',\n        'astral': '\\uD87E[\\uDC00-\\uDE1F]'\n    },\n    {\n        'name': 'InCJK_Radicals_Supplement',\n        'bmp': '\\u2E80-\\u2EFF'\n    },\n    {\n        'name': 'InCJK_Strokes',\n        'bmp': '\\u31C0-\\u31EF'\n    },\n    {\n        'name': 'InCJK_Symbols_And_Punctuation',\n        'bmp': '\\u3000-\\u303F'\n    },\n    {\n        'name': 'InCJK_Unified_Ideographs',\n        'bmp': '\\u4E00-\\u9FFF'\n    },\n    {\n        'name': 'InCJK_Unified_Ideographs_Extension_A',\n        'bmp': '\\u3400-\\u4DBF'\n    },\n    {\n        'name': 'InCJK_Unified_Ideographs_Extension_B',\n        'astral': '[\\uD840-\\uD868][\\uDC00-\\uDFFF]|\\uD869[\\uDC00-\\uDEDF]'\n    },\n    {\n        'name': 'InCJK_Unified_Ideographs_Extension_C',\n        'astral': '\\uD869[\\uDF00-\\uDFFF]|[\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF3F]'\n    },\n    {\n        'name': 'InCJK_Unified_Ideographs_Extension_D',\n        'astral': '\\uD86D[\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1F]'\n    },\n    {\n        'name': 'InCJK_Unified_Ideographs_Extension_E',\n        'astral': '\\uD86E[\\uDC20-\\uDFFF]|[\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD873[\\uDC00-\\uDEAF]'\n    },\n    {\n        'name': 'InCJK_Unified_Ideographs_Extension_F',\n        'astral': '\\uD873[\\uDEB0-\\uDFFF]|[\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD87A[\\uDC00-\\uDFEF]'\n    },\n    {\n        'name': 'InCarian',\n        'astral': '\\uD800[\\uDEA0-\\uDEDF]'\n    },\n    {\n        'name': 'InCaucasian_Albanian',\n        'astral': '\\uD801[\\uDD30-\\uDD6F]'\n    },\n    {\n        'name': 'InChakma',\n        'astral': '\\uD804[\\uDD00-\\uDD4F]'\n    },\n    {\n        'name': 'InCham',\n        'bmp': '\\uAA00-\\uAA5F'\n    },\n    {\n        'name': 'InCherokee',\n        'bmp': '\\u13A0-\\u13FF'\n    },\n    {\n        'name': 'InCherokee_Supplement',\n        'bmp': '\\uAB70-\\uABBF'\n    },\n    {\n        'name': 'InChess_Symbols',\n        'astral': '\\uD83E[\\uDE00-\\uDE6F]'\n    },\n    {\n        'name': 'InCombining_Diacritical_Marks',\n        'bmp': '\\u0300-\\u036F'\n    },\n    {\n        'name': 'InCombining_Diacritical_Marks_Extended',\n        'bmp': '\\u1AB0-\\u1AFF'\n    },\n    {\n        'name': 'InCombining_Diacritical_Marks_For_Symbols',\n        'bmp': '\\u20D0-\\u20FF'\n    },\n    {\n        'name': 'InCombining_Diacritical_Marks_Supplement',\n        'bmp': '\\u1DC0-\\u1DFF'\n    },\n    {\n        'name': 'InCombining_Half_Marks',\n        'bmp': '\\uFE20-\\uFE2F'\n    },\n    {\n        'name': 'InCommon_Indic_Number_Forms',\n        'bmp': '\\uA830-\\uA83F'\n    },\n    {\n        'name': 'InControl_Pictures',\n        'bmp': '\\u2400-\\u243F'\n    },\n    {\n        'name': 'InCoptic',\n        'bmp': '\\u2C80-\\u2CFF'\n    },\n    {\n        'name': 'InCoptic_Epact_Numbers',\n        'astral': '\\uD800[\\uDEE0-\\uDEFF]'\n    },\n    {\n        'name': 'InCounting_Rod_Numerals',\n        'astral': '\\uD834[\\uDF60-\\uDF7F]'\n    },\n    {\n        'name': 'InCuneiform',\n        'astral': '\\uD808[\\uDC00-\\uDFFF]'\n    },\n    {\n        'name': 'InCuneiform_Numbers_And_Punctuation',\n        'astral': '\\uD809[\\uDC00-\\uDC7F]'\n    },\n    {\n        'name': 'InCurrency_Symbols',\n        'bmp': '\\u20A0-\\u20CF'\n    },\n    {\n        'name': 'InCypriot_Syllabary',\n        'astral': '\\uD802[\\uDC00-\\uDC3F]'\n    },\n    {\n        'name': 'InCyrillic',\n        'bmp': '\\u0400-\\u04FF'\n    },\n    {\n        'name': 'InCyrillic_Extended_A',\n        'bmp': '\\u2DE0-\\u2DFF'\n    },\n    {\n        'name': 'InCyrillic_Extended_B',\n        'bmp': '\\uA640-\\uA69F'\n    },\n    {\n        'name': 'InCyrillic_Extended_C',\n        'bmp': '\\u1C80-\\u1C8F'\n    },\n    {\n        'name': 'InCyrillic_Supplement',\n        'bmp': '\\u0500-\\u052F'\n    },\n    {\n        'name': 'InDeseret',\n        'astral': '\\uD801[\\uDC00-\\uDC4F]'\n    },\n    {\n        'name': 'InDevanagari',\n        'bmp': '\\u0900-\\u097F'\n    },\n    {\n        'name': 'InDevanagari_Extended',\n        'bmp': '\\uA8E0-\\uA8FF'\n    },\n    {\n        'name': 'InDingbats',\n        'bmp': '\\u2700-\\u27BF'\n    },\n    {\n        'name': 'InDogra',\n        'astral': '\\uD806[\\uDC00-\\uDC4F]'\n    },\n    {\n        'name': 'InDomino_Tiles',\n        'astral': '\\uD83C[\\uDC30-\\uDC9F]'\n    },\n    {\n        'name': 'InDuployan',\n        'astral': '\\uD82F[\\uDC00-\\uDC9F]'\n    },\n    {\n        'name': 'InEarly_Dynastic_Cuneiform',\n        'astral': '\\uD809[\\uDC80-\\uDD4F]'\n    },\n    {\n        'name': 'InEgyptian_Hieroglyphs',\n        'astral': '\\uD80C[\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2F]'\n    },\n    {\n        'name': 'InElbasan',\n        'astral': '\\uD801[\\uDD00-\\uDD2F]'\n    },\n    {\n        'name': 'InEmoticons',\n        'astral': '\\uD83D[\\uDE00-\\uDE4F]'\n    },\n    {\n        'name': 'InEnclosed_Alphanumeric_Supplement',\n        'astral': '\\uD83C[\\uDD00-\\uDDFF]'\n    },\n    {\n        'name': 'InEnclosed_Alphanumerics',\n        'bmp': '\\u2460-\\u24FF'\n    },\n    {\n        'name': 'InEnclosed_CJK_Letters_And_Months',\n        'bmp': '\\u3200-\\u32FF'\n    },\n    {\n        'name': 'InEnclosed_Ideographic_Supplement',\n        'astral': '\\uD83C[\\uDE00-\\uDEFF]'\n    },\n    {\n        'name': 'InEthiopic',\n        'bmp': '\\u1200-\\u137F'\n    },\n    {\n        'name': 'InEthiopic_Extended',\n        'bmp': '\\u2D80-\\u2DDF'\n    },\n    {\n        'name': 'InEthiopic_Extended_A',\n        'bmp': '\\uAB00-\\uAB2F'\n    },\n    {\n        'name': 'InEthiopic_Supplement',\n        'bmp': '\\u1380-\\u139F'\n    },\n    {\n        'name': 'InGeneral_Punctuation',\n        'bmp': '\\u2000-\\u206F'\n    },\n    {\n        'name': 'InGeometric_Shapes',\n        'bmp': '\\u25A0-\\u25FF'\n    },\n    {\n        'name': 'InGeometric_Shapes_Extended',\n        'astral': '\\uD83D[\\uDF80-\\uDFFF]'\n    },\n    {\n        'name': 'InGeorgian',\n        'bmp': '\\u10A0-\\u10FF'\n    },\n    {\n        'name': 'InGeorgian_Extended',\n        'bmp': '\\u1C90-\\u1CBF'\n    },\n    {\n        'name': 'InGeorgian_Supplement',\n        'bmp': '\\u2D00-\\u2D2F'\n    },\n    {\n        'name': 'InGlagolitic',\n        'bmp': '\\u2C00-\\u2C5F'\n    },\n    {\n        'name': 'InGlagolitic_Supplement',\n        'astral': '\\uD838[\\uDC00-\\uDC2F]'\n    },\n    {\n        'name': 'InGothic',\n        'astral': '\\uD800[\\uDF30-\\uDF4F]'\n    },\n    {\n        'name': 'InGrantha',\n        'astral': '\\uD804[\\uDF00-\\uDF7F]'\n    },\n    {\n        'name': 'InGreek_And_Coptic',\n        'bmp': '\\u0370-\\u03FF'\n    },\n    {\n        'name': 'InGreek_Extended',\n        'bmp': '\\u1F00-\\u1FFF'\n    },\n    {\n        'name': 'InGujarati',\n        'bmp': '\\u0A80-\\u0AFF'\n    },\n    {\n        'name': 'InGunjala_Gondi',\n        'astral': '\\uD807[\\uDD60-\\uDDAF]'\n    },\n    {\n        'name': 'InGurmukhi',\n        'bmp': '\\u0A00-\\u0A7F'\n    },\n    {\n        'name': 'InHalfwidth_And_Fullwidth_Forms',\n        'bmp': '\\uFF00-\\uFFEF'\n    },\n    {\n        'name': 'InHangul_Compatibility_Jamo',\n        'bmp': '\\u3130-\\u318F'\n    },\n    {\n        'name': 'InHangul_Jamo',\n        'bmp': '\\u1100-\\u11FF'\n    },\n    {\n        'name': 'InHangul_Jamo_Extended_A',\n        'bmp': '\\uA960-\\uA97F'\n    },\n    {\n        'name': 'InHangul_Jamo_Extended_B',\n        'bmp': '\\uD7B0-\\uD7FF'\n    },\n    {\n        'name': 'InHangul_Syllables',\n        'bmp': '\\uAC00-\\uD7AF'\n    },\n    {\n        'name': 'InHanifi_Rohingya',\n        'astral': '\\uD803[\\uDD00-\\uDD3F]'\n    },\n    {\n        'name': 'InHanunoo',\n        'bmp': '\\u1720-\\u173F'\n    },\n    {\n        'name': 'InHatran',\n        'astral': '\\uD802[\\uDCE0-\\uDCFF]'\n    },\n    {\n        'name': 'InHebrew',\n        'bmp': '\\u0590-\\u05FF'\n    },\n    {\n        'name': 'InHigh_Private_Use_Surrogates',\n        'bmp': '\\uDB80-\\uDBFF'\n    },\n    {\n        'name': 'InHigh_Surrogates',\n        'bmp': '\\uD800-\\uDB7F'\n    },\n    {\n        'name': 'InHiragana',\n        'bmp': '\\u3040-\\u309F'\n    },\n    {\n        'name': 'InIPA_Extensions',\n        'bmp': '\\u0250-\\u02AF'\n    },\n    {\n        'name': 'InIdeographic_Description_Characters',\n        'bmp': '\\u2FF0-\\u2FFF'\n    },\n    {\n        'name': 'InIdeographic_Symbols_And_Punctuation',\n        'astral': '\\uD81B[\\uDFE0-\\uDFFF]'\n    },\n    {\n        'name': 'InImperial_Aramaic',\n        'astral': '\\uD802[\\uDC40-\\uDC5F]'\n    },\n    {\n        'name': 'InIndic_Siyaq_Numbers',\n        'astral': '\\uD83B[\\uDC70-\\uDCBF]'\n    },\n    {\n        'name': 'InInscriptional_Pahlavi',\n        'astral': '\\uD802[\\uDF60-\\uDF7F]'\n    },\n    {\n        'name': 'InInscriptional_Parthian',\n        'astral': '\\uD802[\\uDF40-\\uDF5F]'\n    },\n    {\n        'name': 'InJavanese',\n        'bmp': '\\uA980-\\uA9DF'\n    },\n    {\n        'name': 'InKaithi',\n        'astral': '\\uD804[\\uDC80-\\uDCCF]'\n    },\n    {\n        'name': 'InKana_Extended_A',\n        'astral': '\\uD82C[\\uDD00-\\uDD2F]'\n    },\n    {\n        'name': 'InKana_Supplement',\n        'astral': '\\uD82C[\\uDC00-\\uDCFF]'\n    },\n    {\n        'name': 'InKanbun',\n        'bmp': '\\u3190-\\u319F'\n    },\n    {\n        'name': 'InKangxi_Radicals',\n        'bmp': '\\u2F00-\\u2FDF'\n    },\n    {\n        'name': 'InKannada',\n        'bmp': '\\u0C80-\\u0CFF'\n    },\n    {\n        'name': 'InKatakana',\n        'bmp': '\\u30A0-\\u30FF'\n    },\n    {\n        'name': 'InKatakana_Phonetic_Extensions',\n        'bmp': '\\u31F0-\\u31FF'\n    },\n    {\n        'name': 'InKayah_Li',\n        'bmp': '\\uA900-\\uA92F'\n    },\n    {\n        'name': 'InKharoshthi',\n        'astral': '\\uD802[\\uDE00-\\uDE5F]'\n    },\n    {\n        'name': 'InKhmer',\n        'bmp': '\\u1780-\\u17FF'\n    },\n    {\n        'name': 'InKhmer_Symbols',\n        'bmp': '\\u19E0-\\u19FF'\n    },\n    {\n        'name': 'InKhojki',\n        'astral': '\\uD804[\\uDE00-\\uDE4F]'\n    },\n    {\n        'name': 'InKhudawadi',\n        'astral': '\\uD804[\\uDEB0-\\uDEFF]'\n    },\n    {\n        'name': 'InLao',\n        'bmp': '\\u0E80-\\u0EFF'\n    },\n    {\n        'name': 'InLatin_1_Supplement',\n        'bmp': '\\x80-\\xFF'\n    },\n    {\n        'name': 'InLatin_Extended_A',\n        'bmp': '\\u0100-\\u017F'\n    },\n    {\n        'name': 'InLatin_Extended_Additional',\n        'bmp': '\\u1E00-\\u1EFF'\n    },\n    {\n        'name': 'InLatin_Extended_B',\n        'bmp': '\\u0180-\\u024F'\n    },\n    {\n        'name': 'InLatin_Extended_C',\n        'bmp': '\\u2C60-\\u2C7F'\n    },\n    {\n        'name': 'InLatin_Extended_D',\n        'bmp': '\\uA720-\\uA7FF'\n    },\n    {\n        'name': 'InLatin_Extended_E',\n        'bmp': '\\uAB30-\\uAB6F'\n    },\n    {\n        'name': 'InLepcha',\n        'bmp': '\\u1C00-\\u1C4F'\n    },\n    {\n        'name': 'InLetterlike_Symbols',\n        'bmp': '\\u2100-\\u214F'\n    },\n    {\n        'name': 'InLimbu',\n        'bmp': '\\u1900-\\u194F'\n    },\n    {\n        'name': 'InLinear_A',\n        'astral': '\\uD801[\\uDE00-\\uDF7F]'\n    },\n    {\n        'name': 'InLinear_B_Ideograms',\n        'astral': '\\uD800[\\uDC80-\\uDCFF]'\n    },\n    {\n        'name': 'InLinear_B_Syllabary',\n        'astral': '\\uD800[\\uDC00-\\uDC7F]'\n    },\n    {\n        'name': 'InLisu',\n        'bmp': '\\uA4D0-\\uA4FF'\n    },\n    {\n        'name': 'InLow_Surrogates',\n        'bmp': '\\uDC00-\\uDFFF'\n    },\n    {\n        'name': 'InLycian',\n        'astral': '\\uD800[\\uDE80-\\uDE9F]'\n    },\n    {\n        'name': 'InLydian',\n        'astral': '\\uD802[\\uDD20-\\uDD3F]'\n    },\n    {\n        'name': 'InMahajani',\n        'astral': '\\uD804[\\uDD50-\\uDD7F]'\n    },\n    {\n        'name': 'InMahjong_Tiles',\n        'astral': '\\uD83C[\\uDC00-\\uDC2F]'\n    },\n    {\n        'name': 'InMakasar',\n        'astral': '\\uD807[\\uDEE0-\\uDEFF]'\n    },\n    {\n        'name': 'InMalayalam',\n        'bmp': '\\u0D00-\\u0D7F'\n    },\n    {\n        'name': 'InMandaic',\n        'bmp': '\\u0840-\\u085F'\n    },\n    {\n        'name': 'InManichaean',\n        'astral': '\\uD802[\\uDEC0-\\uDEFF]'\n    },\n    {\n        'name': 'InMarchen',\n        'astral': '\\uD807[\\uDC70-\\uDCBF]'\n    },\n    {\n        'name': 'InMasaram_Gondi',\n        'astral': '\\uD807[\\uDD00-\\uDD5F]'\n    },\n    {\n        'name': 'InMathematical_Alphanumeric_Symbols',\n        'astral': '\\uD835[\\uDC00-\\uDFFF]'\n    },\n    {\n        'name': 'InMathematical_Operators',\n        'bmp': '\\u2200-\\u22FF'\n    },\n    {\n        'name': 'InMayan_Numerals',\n        'astral': '\\uD834[\\uDEE0-\\uDEFF]'\n    },\n    {\n        'name': 'InMedefaidrin',\n        'astral': '\\uD81B[\\uDE40-\\uDE9F]'\n    },\n    {\n        'name': 'InMeetei_Mayek',\n        'bmp': '\\uABC0-\\uABFF'\n    },\n    {\n        'name': 'InMeetei_Mayek_Extensions',\n        'bmp': '\\uAAE0-\\uAAFF'\n    },\n    {\n        'name': 'InMende_Kikakui',\n        'astral': '\\uD83A[\\uDC00-\\uDCDF]'\n    },\n    {\n        'name': 'InMeroitic_Cursive',\n        'astral': '\\uD802[\\uDDA0-\\uDDFF]'\n    },\n    {\n        'name': 'InMeroitic_Hieroglyphs',\n        'astral': '\\uD802[\\uDD80-\\uDD9F]'\n    },\n    {\n        'name': 'InMiao',\n        'astral': '\\uD81B[\\uDF00-\\uDF9F]'\n    },\n    {\n        'name': 'InMiscellaneous_Mathematical_Symbols_A',\n        'bmp': '\\u27C0-\\u27EF'\n    },\n    {\n        'name': 'InMiscellaneous_Mathematical_Symbols_B',\n        'bmp': '\\u2980-\\u29FF'\n    },\n    {\n        'name': 'InMiscellaneous_Symbols',\n        'bmp': '\\u2600-\\u26FF'\n    },\n    {\n        'name': 'InMiscellaneous_Symbols_And_Arrows',\n        'bmp': '\\u2B00-\\u2BFF'\n    },\n    {\n        'name': 'InMiscellaneous_Symbols_And_Pictographs',\n        'astral': '\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF]'\n    },\n    {\n        'name': 'InMiscellaneous_Technical',\n        'bmp': '\\u2300-\\u23FF'\n    },\n    {\n        'name': 'InModi',\n        'astral': '\\uD805[\\uDE00-\\uDE5F]'\n    },\n    {\n        'name': 'InModifier_Tone_Letters',\n        'bmp': '\\uA700-\\uA71F'\n    },\n    {\n        'name': 'InMongolian',\n        'bmp': '\\u1800-\\u18AF'\n    },\n    {\n        'name': 'InMongolian_Supplement',\n        'astral': '\\uD805[\\uDE60-\\uDE7F]'\n    },\n    {\n        'name': 'InMro',\n        'astral': '\\uD81A[\\uDE40-\\uDE6F]'\n    },\n    {\n        'name': 'InMultani',\n        'astral': '\\uD804[\\uDE80-\\uDEAF]'\n    },\n    {\n        'name': 'InMusical_Symbols',\n        'astral': '\\uD834[\\uDD00-\\uDDFF]'\n    },\n    {\n        'name': 'InMyanmar',\n        'bmp': '\\u1000-\\u109F'\n    },\n    {\n        'name': 'InMyanmar_Extended_A',\n        'bmp': '\\uAA60-\\uAA7F'\n    },\n    {\n        'name': 'InMyanmar_Extended_B',\n        'bmp': '\\uA9E0-\\uA9FF'\n    },\n    {\n        'name': 'InNKo',\n        'bmp': '\\u07C0-\\u07FF'\n    },\n    {\n        'name': 'InNabataean',\n        'astral': '\\uD802[\\uDC80-\\uDCAF]'\n    },\n    {\n        'name': 'InNew_Tai_Lue',\n        'bmp': '\\u1980-\\u19DF'\n    },\n    {\n        'name': 'InNewa',\n        'astral': '\\uD805[\\uDC00-\\uDC7F]'\n    },\n    {\n        'name': 'InNumber_Forms',\n        'bmp': '\\u2150-\\u218F'\n    },\n    {\n        'name': 'InNushu',\n        'astral': '\\uD82C[\\uDD70-\\uDEFF]'\n    },\n    {\n        'name': 'InOgham',\n        'bmp': '\\u1680-\\u169F'\n    },\n    {\n        'name': 'InOl_Chiki',\n        'bmp': '\\u1C50-\\u1C7F'\n    },\n    {\n        'name': 'InOld_Hungarian',\n        'astral': '\\uD803[\\uDC80-\\uDCFF]'\n    },\n    {\n        'name': 'InOld_Italic',\n        'astral': '\\uD800[\\uDF00-\\uDF2F]'\n    },\n    {\n        'name': 'InOld_North_Arabian',\n        'astral': '\\uD802[\\uDE80-\\uDE9F]'\n    },\n    {\n        'name': 'InOld_Permic',\n        'astral': '\\uD800[\\uDF50-\\uDF7F]'\n    },\n    {\n        'name': 'InOld_Persian',\n        'astral': '\\uD800[\\uDFA0-\\uDFDF]'\n    },\n    {\n        'name': 'InOld_Sogdian',\n        'astral': '\\uD803[\\uDF00-\\uDF2F]'\n    },\n    {\n        'name': 'InOld_South_Arabian',\n        'astral': '\\uD802[\\uDE60-\\uDE7F]'\n    },\n    {\n        'name': 'InOld_Turkic',\n        'astral': '\\uD803[\\uDC00-\\uDC4F]'\n    },\n    {\n        'name': 'InOptical_Character_Recognition',\n        'bmp': '\\u2440-\\u245F'\n    },\n    {\n        'name': 'InOriya',\n        'bmp': '\\u0B00-\\u0B7F'\n    },\n    {\n        'name': 'InOrnamental_Dingbats',\n        'astral': '\\uD83D[\\uDE50-\\uDE7F]'\n    },\n    {\n        'name': 'InOsage',\n        'astral': '\\uD801[\\uDCB0-\\uDCFF]'\n    },\n    {\n        'name': 'InOsmanya',\n        'astral': '\\uD801[\\uDC80-\\uDCAF]'\n    },\n    {\n        'name': 'InPahawh_Hmong',\n        'astral': '\\uD81A[\\uDF00-\\uDF8F]'\n    },\n    {\n        'name': 'InPalmyrene',\n        'astral': '\\uD802[\\uDC60-\\uDC7F]'\n    },\n    {\n        'name': 'InPau_Cin_Hau',\n        'astral': '\\uD806[\\uDEC0-\\uDEFF]'\n    },\n    {\n        'name': 'InPhags_Pa',\n        'bmp': '\\uA840-\\uA87F'\n    },\n    {\n        'name': 'InPhaistos_Disc',\n        'astral': '\\uD800[\\uDDD0-\\uDDFF]'\n    },\n    {\n        'name': 'InPhoenician',\n        'astral': '\\uD802[\\uDD00-\\uDD1F]'\n    },\n    {\n        'name': 'InPhonetic_Extensions',\n        'bmp': '\\u1D00-\\u1D7F'\n    },\n    {\n        'name': 'InPhonetic_Extensions_Supplement',\n        'bmp': '\\u1D80-\\u1DBF'\n    },\n    {\n        'name': 'InPlaying_Cards',\n        'astral': '\\uD83C[\\uDCA0-\\uDCFF]'\n    },\n    {\n        'name': 'InPrivate_Use_Area',\n        'bmp': '\\uE000-\\uF8FF'\n    },\n    {\n        'name': 'InPsalter_Pahlavi',\n        'astral': '\\uD802[\\uDF80-\\uDFAF]'\n    },\n    {\n        'name': 'InRejang',\n        'bmp': '\\uA930-\\uA95F'\n    },\n    {\n        'name': 'InRumi_Numeral_Symbols',\n        'astral': '\\uD803[\\uDE60-\\uDE7F]'\n    },\n    {\n        'name': 'InRunic',\n        'bmp': '\\u16A0-\\u16FF'\n    },\n    {\n        'name': 'InSamaritan',\n        'bmp': '\\u0800-\\u083F'\n    },\n    {\n        'name': 'InSaurashtra',\n        'bmp': '\\uA880-\\uA8DF'\n    },\n    {\n        'name': 'InSharada',\n        'astral': '\\uD804[\\uDD80-\\uDDDF]'\n    },\n    {\n        'name': 'InShavian',\n        'astral': '\\uD801[\\uDC50-\\uDC7F]'\n    },\n    {\n        'name': 'InShorthand_Format_Controls',\n        'astral': '\\uD82F[\\uDCA0-\\uDCAF]'\n    },\n    {\n        'name': 'InSiddham',\n        'astral': '\\uD805[\\uDD80-\\uDDFF]'\n    },\n    {\n        'name': 'InSinhala',\n        'bmp': '\\u0D80-\\u0DFF'\n    },\n    {\n        'name': 'InSinhala_Archaic_Numbers',\n        'astral': '\\uD804[\\uDDE0-\\uDDFF]'\n    },\n    {\n        'name': 'InSmall_Form_Variants',\n        'bmp': '\\uFE50-\\uFE6F'\n    },\n    {\n        'name': 'InSogdian',\n        'astral': '\\uD803[\\uDF30-\\uDF6F]'\n    },\n    {\n        'name': 'InSora_Sompeng',\n        'astral': '\\uD804[\\uDCD0-\\uDCFF]'\n    },\n    {\n        'name': 'InSoyombo',\n        'astral': '\\uD806[\\uDE50-\\uDEAF]'\n    },\n    {\n        'name': 'InSpacing_Modifier_Letters',\n        'bmp': '\\u02B0-\\u02FF'\n    },\n    {\n        'name': 'InSpecials',\n        'bmp': '\\uFFF0-\\uFFFF'\n    },\n    {\n        'name': 'InSundanese',\n        'bmp': '\\u1B80-\\u1BBF'\n    },\n    {\n        'name': 'InSundanese_Supplement',\n        'bmp': '\\u1CC0-\\u1CCF'\n    },\n    {\n        'name': 'InSuperscripts_And_Subscripts',\n        'bmp': '\\u2070-\\u209F'\n    },\n    {\n        'name': 'InSupplemental_Arrows_A',\n        'bmp': '\\u27F0-\\u27FF'\n    },\n    {\n        'name': 'InSupplemental_Arrows_B',\n        'bmp': '\\u2900-\\u297F'\n    },\n    {\n        'name': 'InSupplemental_Arrows_C',\n        'astral': '\\uD83E[\\uDC00-\\uDCFF]'\n    },\n    {\n        'name': 'InSupplemental_Mathematical_Operators',\n        'bmp': '\\u2A00-\\u2AFF'\n    },\n    {\n        'name': 'InSupplemental_Punctuation',\n        'bmp': '\\u2E00-\\u2E7F'\n    },\n    {\n        'name': 'InSupplemental_Symbols_And_Pictographs',\n        'astral': '\\uD83E[\\uDD00-\\uDDFF]'\n    },\n    {\n        'name': 'InSupplementary_Private_Use_Area_A',\n        'astral': '[\\uDB80-\\uDBBF][\\uDC00-\\uDFFF]'\n    },\n    {\n        'name': 'InSupplementary_Private_Use_Area_B',\n        'astral': '[\\uDBC0-\\uDBFF][\\uDC00-\\uDFFF]'\n    },\n    {\n        'name': 'InSutton_SignWriting',\n        'astral': '\\uD836[\\uDC00-\\uDEAF]'\n    },\n    {\n        'name': 'InSyloti_Nagri',\n        'bmp': '\\uA800-\\uA82F'\n    },\n    {\n        'name': 'InSyriac',\n        'bmp': '\\u0700-\\u074F'\n    },\n    {\n        'name': 'InSyriac_Supplement',\n        'bmp': '\\u0860-\\u086F'\n    },\n    {\n        'name': 'InTagalog',\n        'bmp': '\\u1700-\\u171F'\n    },\n    {\n        'name': 'InTagbanwa',\n        'bmp': '\\u1760-\\u177F'\n    },\n    {\n        'name': 'InTags',\n        'astral': '\\uDB40[\\uDC00-\\uDC7F]'\n    },\n    {\n        'name': 'InTai_Le',\n        'bmp': '\\u1950-\\u197F'\n    },\n    {\n        'name': 'InTai_Tham',\n        'bmp': '\\u1A20-\\u1AAF'\n    },\n    {\n        'name': 'InTai_Viet',\n        'bmp': '\\uAA80-\\uAADF'\n    },\n    {\n        'name': 'InTai_Xuan_Jing_Symbols',\n        'astral': '\\uD834[\\uDF00-\\uDF5F]'\n    },\n    {\n        'name': 'InTakri',\n        'astral': '\\uD805[\\uDE80-\\uDECF]'\n    },\n    {\n        'name': 'InTamil',\n        'bmp': '\\u0B80-\\u0BFF'\n    },\n    {\n        'name': 'InTangut',\n        'astral': '[\\uD81C-\\uD821][\\uDC00-\\uDFFF]'\n    },\n    {\n        'name': 'InTangut_Components',\n        'astral': '\\uD822[\\uDC00-\\uDEFF]'\n    },\n    {\n        'name': 'InTelugu',\n        'bmp': '\\u0C00-\\u0C7F'\n    },\n    {\n        'name': 'InThaana',\n        'bmp': '\\u0780-\\u07BF'\n    },\n    {\n        'name': 'InThai',\n        'bmp': '\\u0E00-\\u0E7F'\n    },\n    {\n        'name': 'InTibetan',\n        'bmp': '\\u0F00-\\u0FFF'\n    },\n    {\n        'name': 'InTifinagh',\n        'bmp': '\\u2D30-\\u2D7F'\n    },\n    {\n        'name': 'InTirhuta',\n        'astral': '\\uD805[\\uDC80-\\uDCDF]'\n    },\n    {\n        'name': 'InTransport_And_Map_Symbols',\n        'astral': '\\uD83D[\\uDE80-\\uDEFF]'\n    },\n    {\n        'name': 'InUgaritic',\n        'astral': '\\uD800[\\uDF80-\\uDF9F]'\n    },\n    {\n        'name': 'InUnified_Canadian_Aboriginal_Syllabics',\n        'bmp': '\\u1400-\\u167F'\n    },\n    {\n        'name': 'InUnified_Canadian_Aboriginal_Syllabics_Extended',\n        'bmp': '\\u18B0-\\u18FF'\n    },\n    {\n        'name': 'InVai',\n        'bmp': '\\uA500-\\uA63F'\n    },\n    {\n        'name': 'InVariation_Selectors',\n        'bmp': '\\uFE00-\\uFE0F'\n    },\n    {\n        'name': 'InVariation_Selectors_Supplement',\n        'astral': '\\uDB40[\\uDD00-\\uDDEF]'\n    },\n    {\n        'name': 'InVedic_Extensions',\n        'bmp': '\\u1CD0-\\u1CFF'\n    },\n    {\n        'name': 'InVertical_Forms',\n        'bmp': '\\uFE10-\\uFE1F'\n    },\n    {\n        'name': 'InWarang_Citi',\n        'astral': '\\uD806[\\uDCA0-\\uDCFF]'\n    },\n    {\n        'name': 'InYi_Radicals',\n        'bmp': '\\uA490-\\uA4CF'\n    },\n    {\n        'name': 'InYi_Syllables',\n        'bmp': '\\uA000-\\uA48F'\n    },\n    {\n        'name': 'InYijing_Hexagram_Symbols',\n        'bmp': '\\u4DC0-\\u4DFF'\n    },\n    {\n        'name': 'InZanabazar_Square',\n        'astral': '\\uD806[\\uDE00-\\uDE4F]'\n    },\n    {\n        'name': 'Inundefined',\n        'astral': '\\uD803[\\uDE80-\\uDEBF\\uDFB0-\\uDFFF]|\\uD806[\\uDD00-\\uDD5F\\uDDA0-\\uDDFF]|\\uD807[\\uDFB0-\\uDFFF]|\\uD80D[\\uDC30-\\uDC3F]|\\uD822[\\uDF00-\\uDFFF]|\\uD823[\\uDC00-\\uDD8F]|\\uD82C[\\uDD30-\\uDD6F]|\\uD838[\\uDD00-\\uDD4F\\uDEC0-\\uDEFF]|\\uD83B[\\uDD00-\\uDD4F]|\\uD83E[\\uDE70-\\uDFFF]|[\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD884[\\uDC00-\\uDF4F]'\n    }\n];\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _categories = _interopRequireDefault(require(\"../../tools/output/categories\"));\n\n/*!\n * XRegExp Unicode Categories 4.4.1\n * <xregexp.com>\n * Steven Levithan (c) 2010-present MIT License\n * Unicode data by Mathias Bynens <mathiasbynens.be>\n */\nvar _default = function _default(XRegExp) {\n  /**\n   * Adds support for Unicode's general categories. E.g., `\\p{Lu}` or `\\p{Uppercase Letter}`. See\n   * category descriptions in UAX #44 <http://unicode.org/reports/tr44/#GC_Values_Table>. Token\n   * names are case insensitive, and any spaces, hyphens, and underscores are ignored.\n   *\n   * Uses Unicode 13.0.0.\n   *\n   * @requires XRegExp, Unicode Base\n   */\n  if (!XRegExp.addUnicodeData) {\n    throw new ReferenceError('Unicode Base must be loaded before Unicode Categories');\n  }\n\n  XRegExp.addUnicodeData(_categories[\"default\"]);\n};\n\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","module.exports = [\n    {\n        'name': 'C',\n        'alias': 'Other',\n        'isBmpLast': true,\n        'bmp': '\\0-\\x1F\\x7F-\\x9F\\xAD\\u0378\\u0379\\u0380-\\u0383\\u038B\\u038D\\u03A2\\u0530\\u0557\\u0558\\u058B\\u058C\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EE\\u05F5-\\u0605\\u061C\\u061D\\u06DD\\u070E\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07FB\\u07FC\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F\\u086B-\\u089F\\u08B5\\u08C8-\\u08D2\\u08E2\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FF\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A77-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0AF8\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B54\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0BFF\\u0C0D\\u0C11\\u0C29\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5B-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C76\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0CFF\\u0D0D\\u0D11\\u0D45\\u0D49\\u0D50-\\u0D53\\u0D64\\u0D65\\u0D80\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DE5\\u0DF0\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E8B\\u0EA4\\u0EA6\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F6\\u13F7\\u13FE\\u13FF\\u169D-\\u169F\\u16F9-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180E\\u180F\\u181A-\\u181F\\u1879-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE\\u1AAF\\u1AC1-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C89-\\u1C8F\\u1CBB\\u1CBC\\u1CC8-\\u1CCF\\u1CFB-\\u1CFF\\u1DFA\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20C0-\\u20CF\\u20F1-\\u20FF\\u218C-\\u218F\\u2427-\\u243F\\u244B-\\u245F\\u2B74\\u2B75\\u2B96\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E53-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u2FFF\\u3040\\u3097\\u3098\\u3100-\\u3104\\u3130\\u318F\\u31E4-\\u31EF\\u321F\\u9FFD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA6F8-\\uA6FF\\uA7C0\\uA7C1\\uA7CB-\\uA7F4\\uA82D-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C6-\\uA8CD\\uA8DA-\\uA8DF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F\\uAB6C-\\uAB6F\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD-\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFFB\\uFFFE\\uFFFF',\n        'astral': '\\uD800[\\uDC0C\\uDC27\\uDC3B\\uDC3E\\uDC4E\\uDC4F\\uDC5E-\\uDC7F\\uDCFB-\\uDCFF\\uDD03-\\uDD06\\uDD34-\\uDD36\\uDD8F\\uDD9D-\\uDD9F\\uDDA1-\\uDDCF\\uDDFE-\\uDE7F\\uDE9D-\\uDE9F\\uDED1-\\uDEDF\\uDEFC-\\uDEFF\\uDF24-\\uDF2C\\uDF4B-\\uDF4F\\uDF7B-\\uDF7F\\uDF9E\\uDFC4-\\uDFC7\\uDFD6-\\uDFFF]|\\uD801[\\uDC9E\\uDC9F\\uDCAA-\\uDCAF\\uDCD4-\\uDCD7\\uDCFC-\\uDCFF\\uDD28-\\uDD2F\\uDD64-\\uDD6E\\uDD70-\\uDDFF\\uDF37-\\uDF3F\\uDF56-\\uDF5F\\uDF68-\\uDFFF]|\\uD802[\\uDC06\\uDC07\\uDC09\\uDC36\\uDC39-\\uDC3B\\uDC3D\\uDC3E\\uDC56\\uDC9F-\\uDCA6\\uDCB0-\\uDCDF\\uDCF3\\uDCF6-\\uDCFA\\uDD1C-\\uDD1E\\uDD3A-\\uDD3E\\uDD40-\\uDD7F\\uDDB8-\\uDDBB\\uDDD0\\uDDD1\\uDE04\\uDE07-\\uDE0B\\uDE14\\uDE18\\uDE36\\uDE37\\uDE3B-\\uDE3E\\uDE49-\\uDE4F\\uDE59-\\uDE5F\\uDEA0-\\uDEBF\\uDEE7-\\uDEEA\\uDEF7-\\uDEFF\\uDF36-\\uDF38\\uDF56\\uDF57\\uDF73-\\uDF77\\uDF92-\\uDF98\\uDF9D-\\uDFA8\\uDFB0-\\uDFFF]|\\uD803[\\uDC49-\\uDC7F\\uDCB3-\\uDCBF\\uDCF3-\\uDCF9\\uDD28-\\uDD2F\\uDD3A-\\uDE5F\\uDE7F\\uDEAA\\uDEAE\\uDEAF\\uDEB2-\\uDEFF\\uDF28-\\uDF2F\\uDF5A-\\uDFAF\\uDFCC-\\uDFDF\\uDFF7-\\uDFFF]|\\uD804[\\uDC4E-\\uDC51\\uDC70-\\uDC7E\\uDCBD\\uDCC2-\\uDCCF\\uDCE9-\\uDCEF\\uDCFA-\\uDCFF\\uDD35\\uDD48-\\uDD4F\\uDD77-\\uDD7F\\uDDE0\\uDDF5-\\uDDFF\\uDE12\\uDE3F-\\uDE7F\\uDE87\\uDE89\\uDE8E\\uDE9E\\uDEAA-\\uDEAF\\uDEEB-\\uDEEF\\uDEFA-\\uDEFF\\uDF04\\uDF0D\\uDF0E\\uDF11\\uDF12\\uDF29\\uDF31\\uDF34\\uDF3A\\uDF45\\uDF46\\uDF49\\uDF4A\\uDF4E\\uDF4F\\uDF51-\\uDF56\\uDF58-\\uDF5C\\uDF64\\uDF65\\uDF6D-\\uDF6F\\uDF75-\\uDFFF]|\\uD805[\\uDC5C\\uDC62-\\uDC7F\\uDCC8-\\uDCCF\\uDCDA-\\uDD7F\\uDDB6\\uDDB7\\uDDDE-\\uDDFF\\uDE45-\\uDE4F\\uDE5A-\\uDE5F\\uDE6D-\\uDE7F\\uDEB9-\\uDEBF\\uDECA-\\uDEFF\\uDF1B\\uDF1C\\uDF2C-\\uDF2F\\uDF40-\\uDFFF]|\\uD806[\\uDC3C-\\uDC9F\\uDCF3-\\uDCFE\\uDD07\\uDD08\\uDD0A\\uDD0B\\uDD14\\uDD17\\uDD36\\uDD39\\uDD3A\\uDD47-\\uDD4F\\uDD5A-\\uDD9F\\uDDA8\\uDDA9\\uDDD8\\uDDD9\\uDDE5-\\uDDFF\\uDE48-\\uDE4F\\uDEA3-\\uDEBF\\uDEF9-\\uDFFF]|\\uD807[\\uDC09\\uDC37\\uDC46-\\uDC4F\\uDC6D-\\uDC6F\\uDC90\\uDC91\\uDCA8\\uDCB7-\\uDCFF\\uDD07\\uDD0A\\uDD37-\\uDD39\\uDD3B\\uDD3E\\uDD48-\\uDD4F\\uDD5A-\\uDD5F\\uDD66\\uDD69\\uDD8F\\uDD92\\uDD99-\\uDD9F\\uDDAA-\\uDEDF\\uDEF9-\\uDFAF\\uDFB1-\\uDFBF\\uDFF2-\\uDFFE]|\\uD808[\\uDF9A-\\uDFFF]|\\uD809[\\uDC6F\\uDC75-\\uDC7F\\uDD44-\\uDFFF]|[\\uD80A\\uD80B\\uD80E-\\uD810\\uD812-\\uD819\\uD824-\\uD82B\\uD82D\\uD82E\\uD830-\\uD833\\uD837\\uD839\\uD83F\\uD87B-\\uD87D\\uD87F\\uD885-\\uDB3F\\uDB41-\\uDBFF][\\uDC00-\\uDFFF]|\\uD80D[\\uDC2F-\\uDFFF]|\\uD811[\\uDE47-\\uDFFF]|\\uD81A[\\uDE39-\\uDE3F\\uDE5F\\uDE6A-\\uDE6D\\uDE70-\\uDECF\\uDEEE\\uDEEF\\uDEF6-\\uDEFF\\uDF46-\\uDF4F\\uDF5A\\uDF62\\uDF78-\\uDF7C\\uDF90-\\uDFFF]|\\uD81B[\\uDC00-\\uDE3F\\uDE9B-\\uDEFF\\uDF4B-\\uDF4E\\uDF88-\\uDF8E\\uDFA0-\\uDFDF\\uDFE5-\\uDFEF\\uDFF2-\\uDFFF]|\\uD821[\\uDFF8-\\uDFFF]|\\uD823[\\uDCD6-\\uDCFF\\uDD09-\\uDFFF]|\\uD82C[\\uDD1F-\\uDD4F\\uDD53-\\uDD63\\uDD68-\\uDD6F\\uDEFC-\\uDFFF]|\\uD82F[\\uDC6B-\\uDC6F\\uDC7D-\\uDC7F\\uDC89-\\uDC8F\\uDC9A\\uDC9B\\uDCA0-\\uDFFF]|\\uD834[\\uDCF6-\\uDCFF\\uDD27\\uDD28\\uDD73-\\uDD7A\\uDDE9-\\uDDFF\\uDE46-\\uDEDF\\uDEF4-\\uDEFF\\uDF57-\\uDF5F\\uDF79-\\uDFFF]|\\uD835[\\uDC55\\uDC9D\\uDCA0\\uDCA1\\uDCA3\\uDCA4\\uDCA7\\uDCA8\\uDCAD\\uDCBA\\uDCBC\\uDCC4\\uDD06\\uDD0B\\uDD0C\\uDD15\\uDD1D\\uDD3A\\uDD3F\\uDD45\\uDD47-\\uDD49\\uDD51\\uDEA6\\uDEA7\\uDFCC\\uDFCD]|\\uD836[\\uDE8C-\\uDE9A\\uDEA0\\uDEB0-\\uDFFF]|\\uD838[\\uDC07\\uDC19\\uDC1A\\uDC22\\uDC25\\uDC2B-\\uDCFF\\uDD2D-\\uDD2F\\uDD3E\\uDD3F\\uDD4A-\\uDD4D\\uDD50-\\uDEBF\\uDEFA-\\uDEFE\\uDF00-\\uDFFF]|\\uD83A[\\uDCC5\\uDCC6\\uDCD7-\\uDCFF\\uDD4C-\\uDD4F\\uDD5A-\\uDD5D\\uDD60-\\uDFFF]|\\uD83B[\\uDC00-\\uDC70\\uDCB5-\\uDD00\\uDD3E-\\uDDFF\\uDE04\\uDE20\\uDE23\\uDE25\\uDE26\\uDE28\\uDE33\\uDE38\\uDE3A\\uDE3C-\\uDE41\\uDE43-\\uDE46\\uDE48\\uDE4A\\uDE4C\\uDE50\\uDE53\\uDE55\\uDE56\\uDE58\\uDE5A\\uDE5C\\uDE5E\\uDE60\\uDE63\\uDE65\\uDE66\\uDE6B\\uDE73\\uDE78\\uDE7D\\uDE7F\\uDE8A\\uDE9C-\\uDEA0\\uDEA4\\uDEAA\\uDEBC-\\uDEEF\\uDEF2-\\uDFFF]|\\uD83C[\\uDC2C-\\uDC2F\\uDC94-\\uDC9F\\uDCAF\\uDCB0\\uDCC0\\uDCD0\\uDCF6-\\uDCFF\\uDDAE-\\uDDE5\\uDE03-\\uDE0F\\uDE3C-\\uDE3F\\uDE49-\\uDE4F\\uDE52-\\uDE5F\\uDE66-\\uDEFF]|\\uD83D[\\uDED8-\\uDEDF\\uDEED-\\uDEEF\\uDEFD-\\uDEFF\\uDF74-\\uDF7F\\uDFD9-\\uDFDF\\uDFEC-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE\\uDCAF\\uDCB2-\\uDCFF\\uDD79\\uDDCC\\uDE54-\\uDE5F\\uDE6E\\uDE6F\\uDE75-\\uDE77\\uDE7B-\\uDE7F\\uDE87-\\uDE8F\\uDEA9-\\uDEAF\\uDEB7-\\uDEBF\\uDEC3-\\uDECF\\uDED7-\\uDEFF\\uDF93\\uDFCB-\\uDFEF\\uDFFA-\\uDFFF]|\\uD869[\\uDEDE-\\uDEFF]|\\uD86D[\\uDF35-\\uDF3F]|\\uD86E[\\uDC1E\\uDC1F]|\\uD873[\\uDEA2-\\uDEAF]|\\uD87A[\\uDFE1-\\uDFFF]|\\uD87E[\\uDE1E-\\uDFFF]|\\uD884[\\uDF4B-\\uDFFF]|\\uDB40[\\uDC00-\\uDCFF\\uDDF0-\\uDFFF]'\n    },\n    {\n        'name': 'Cc',\n        'alias': 'Control',\n        'bmp': '\\0-\\x1F\\x7F-\\x9F'\n    },\n    {\n        'name': 'Cf',\n        'alias': 'Format',\n        'bmp': '\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB',\n        'astral': '\\uD804[\\uDCBD\\uDCCD]|\\uD80D[\\uDC30-\\uDC38]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]'\n    },\n    {\n        'name': 'Cn',\n        'alias': 'Unassigned',\n        'bmp': '\\u0378\\u0379\\u0380-\\u0383\\u038B\\u038D\\u03A2\\u0530\\u0557\\u0558\\u058B\\u058C\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EE\\u05F5-\\u05FF\\u061D\\u070E\\u074B\\u074C\\u07B2-\\u07BF\\u07FB\\u07FC\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F\\u086B-\\u089F\\u08B5\\u08C8-\\u08D2\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FF\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A77-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0AF8\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B54\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0BFF\\u0C0D\\u0C11\\u0C29\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5B-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C76\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0CFF\\u0D0D\\u0D11\\u0D45\\u0D49\\u0D50-\\u0D53\\u0D64\\u0D65\\u0D80\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DE5\\u0DF0\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E8B\\u0EA4\\u0EA6\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F6\\u13F7\\u13FE\\u13FF\\u169D-\\u169F\\u16F9-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180F\\u181A-\\u181F\\u1879-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE\\u1AAF\\u1AC1-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C89-\\u1C8F\\u1CBB\\u1CBC\\u1CC8-\\u1CCF\\u1CFB-\\u1CFF\\u1DFA\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u2065\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20C0-\\u20CF\\u20F1-\\u20FF\\u218C-\\u218F\\u2427-\\u243F\\u244B-\\u245F\\u2B74\\u2B75\\u2B96\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E53-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u2FFF\\u3040\\u3097\\u3098\\u3100-\\u3104\\u3130\\u318F\\u31E4-\\u31EF\\u321F\\u9FFD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA6F8-\\uA6FF\\uA7C0\\uA7C1\\uA7CB-\\uA7F4\\uA82D-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C6-\\uA8CD\\uA8DA-\\uA8DF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F\\uAB6C-\\uAB6F\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uD7FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD\\uFEFE\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFF8\\uFFFE\\uFFFF',\n        'astral': '\\uD800[\\uDC0C\\uDC27\\uDC3B\\uDC3E\\uDC4E\\uDC4F\\uDC5E-\\uDC7F\\uDCFB-\\uDCFF\\uDD03-\\uDD06\\uDD34-\\uDD36\\uDD8F\\uDD9D-\\uDD9F\\uDDA1-\\uDDCF\\uDDFE-\\uDE7F\\uDE9D-\\uDE9F\\uDED1-\\uDEDF\\uDEFC-\\uDEFF\\uDF24-\\uDF2C\\uDF4B-\\uDF4F\\uDF7B-\\uDF7F\\uDF9E\\uDFC4-\\uDFC7\\uDFD6-\\uDFFF]|\\uD801[\\uDC9E\\uDC9F\\uDCAA-\\uDCAF\\uDCD4-\\uDCD7\\uDCFC-\\uDCFF\\uDD28-\\uDD2F\\uDD64-\\uDD6E\\uDD70-\\uDDFF\\uDF37-\\uDF3F\\uDF56-\\uDF5F\\uDF68-\\uDFFF]|\\uD802[\\uDC06\\uDC07\\uDC09\\uDC36\\uDC39-\\uDC3B\\uDC3D\\uDC3E\\uDC56\\uDC9F-\\uDCA6\\uDCB0-\\uDCDF\\uDCF3\\uDCF6-\\uDCFA\\uDD1C-\\uDD1E\\uDD3A-\\uDD3E\\uDD40-\\uDD7F\\uDDB8-\\uDDBB\\uDDD0\\uDDD1\\uDE04\\uDE07-\\uDE0B\\uDE14\\uDE18\\uDE36\\uDE37\\uDE3B-\\uDE3E\\uDE49-\\uDE4F\\uDE59-\\uDE5F\\uDEA0-\\uDEBF\\uDEE7-\\uDEEA\\uDEF7-\\uDEFF\\uDF36-\\uDF38\\uDF56\\uDF57\\uDF73-\\uDF77\\uDF92-\\uDF98\\uDF9D-\\uDFA8\\uDFB0-\\uDFFF]|\\uD803[\\uDC49-\\uDC7F\\uDCB3-\\uDCBF\\uDCF3-\\uDCF9\\uDD28-\\uDD2F\\uDD3A-\\uDE5F\\uDE7F\\uDEAA\\uDEAE\\uDEAF\\uDEB2-\\uDEFF\\uDF28-\\uDF2F\\uDF5A-\\uDFAF\\uDFCC-\\uDFDF\\uDFF7-\\uDFFF]|\\uD804[\\uDC4E-\\uDC51\\uDC70-\\uDC7E\\uDCC2-\\uDCCC\\uDCCE\\uDCCF\\uDCE9-\\uDCEF\\uDCFA-\\uDCFF\\uDD35\\uDD48-\\uDD4F\\uDD77-\\uDD7F\\uDDE0\\uDDF5-\\uDDFF\\uDE12\\uDE3F-\\uDE7F\\uDE87\\uDE89\\uDE8E\\uDE9E\\uDEAA-\\uDEAF\\uDEEB-\\uDEEF\\uDEFA-\\uDEFF\\uDF04\\uDF0D\\uDF0E\\uDF11\\uDF12\\uDF29\\uDF31\\uDF34\\uDF3A\\uDF45\\uDF46\\uDF49\\uDF4A\\uDF4E\\uDF4F\\uDF51-\\uDF56\\uDF58-\\uDF5C\\uDF64\\uDF65\\uDF6D-\\uDF6F\\uDF75-\\uDFFF]|\\uD805[\\uDC5C\\uDC62-\\uDC7F\\uDCC8-\\uDCCF\\uDCDA-\\uDD7F\\uDDB6\\uDDB7\\uDDDE-\\uDDFF\\uDE45-\\uDE4F\\uDE5A-\\uDE5F\\uDE6D-\\uDE7F\\uDEB9-\\uDEBF\\uDECA-\\uDEFF\\uDF1B\\uDF1C\\uDF2C-\\uDF2F\\uDF40-\\uDFFF]|\\uD806[\\uDC3C-\\uDC9F\\uDCF3-\\uDCFE\\uDD07\\uDD08\\uDD0A\\uDD0B\\uDD14\\uDD17\\uDD36\\uDD39\\uDD3A\\uDD47-\\uDD4F\\uDD5A-\\uDD9F\\uDDA8\\uDDA9\\uDDD8\\uDDD9\\uDDE5-\\uDDFF\\uDE48-\\uDE4F\\uDEA3-\\uDEBF\\uDEF9-\\uDFFF]|\\uD807[\\uDC09\\uDC37\\uDC46-\\uDC4F\\uDC6D-\\uDC6F\\uDC90\\uDC91\\uDCA8\\uDCB7-\\uDCFF\\uDD07\\uDD0A\\uDD37-\\uDD39\\uDD3B\\uDD3E\\uDD48-\\uDD4F\\uDD5A-\\uDD5F\\uDD66\\uDD69\\uDD8F\\uDD92\\uDD99-\\uDD9F\\uDDAA-\\uDEDF\\uDEF9-\\uDFAF\\uDFB1-\\uDFBF\\uDFF2-\\uDFFE]|\\uD808[\\uDF9A-\\uDFFF]|\\uD809[\\uDC6F\\uDC75-\\uDC7F\\uDD44-\\uDFFF]|[\\uD80A\\uD80B\\uD80E-\\uD810\\uD812-\\uD819\\uD824-\\uD82B\\uD82D\\uD82E\\uD830-\\uD833\\uD837\\uD839\\uD83F\\uD87B-\\uD87D\\uD87F\\uD885-\\uDB3F\\uDB41-\\uDB7F][\\uDC00-\\uDFFF]|\\uD80D[\\uDC2F\\uDC39-\\uDFFF]|\\uD811[\\uDE47-\\uDFFF]|\\uD81A[\\uDE39-\\uDE3F\\uDE5F\\uDE6A-\\uDE6D\\uDE70-\\uDECF\\uDEEE\\uDEEF\\uDEF6-\\uDEFF\\uDF46-\\uDF4F\\uDF5A\\uDF62\\uDF78-\\uDF7C\\uDF90-\\uDFFF]|\\uD81B[\\uDC00-\\uDE3F\\uDE9B-\\uDEFF\\uDF4B-\\uDF4E\\uDF88-\\uDF8E\\uDFA0-\\uDFDF\\uDFE5-\\uDFEF\\uDFF2-\\uDFFF]|\\uD821[\\uDFF8-\\uDFFF]|\\uD823[\\uDCD6-\\uDCFF\\uDD09-\\uDFFF]|\\uD82C[\\uDD1F-\\uDD4F\\uDD53-\\uDD63\\uDD68-\\uDD6F\\uDEFC-\\uDFFF]|\\uD82F[\\uDC6B-\\uDC6F\\uDC7D-\\uDC7F\\uDC89-\\uDC8F\\uDC9A\\uDC9B\\uDCA4-\\uDFFF]|\\uD834[\\uDCF6-\\uDCFF\\uDD27\\uDD28\\uDDE9-\\uDDFF\\uDE46-\\uDEDF\\uDEF4-\\uDEFF\\uDF57-\\uDF5F\\uDF79-\\uDFFF]|\\uD835[\\uDC55\\uDC9D\\uDCA0\\uDCA1\\uDCA3\\uDCA4\\uDCA7\\uDCA8\\uDCAD\\uDCBA\\uDCBC\\uDCC4\\uDD06\\uDD0B\\uDD0C\\uDD15\\uDD1D\\uDD3A\\uDD3F\\uDD45\\uDD47-\\uDD49\\uDD51\\uDEA6\\uDEA7\\uDFCC\\uDFCD]|\\uD836[\\uDE8C-\\uDE9A\\uDEA0\\uDEB0-\\uDFFF]|\\uD838[\\uDC07\\uDC19\\uDC1A\\uDC22\\uDC25\\uDC2B-\\uDCFF\\uDD2D-\\uDD2F\\uDD3E\\uDD3F\\uDD4A-\\uDD4D\\uDD50-\\uDEBF\\uDEFA-\\uDEFE\\uDF00-\\uDFFF]|\\uD83A[\\uDCC5\\uDCC6\\uDCD7-\\uDCFF\\uDD4C-\\uDD4F\\uDD5A-\\uDD5D\\uDD60-\\uDFFF]|\\uD83B[\\uDC00-\\uDC70\\uDCB5-\\uDD00\\uDD3E-\\uDDFF\\uDE04\\uDE20\\uDE23\\uDE25\\uDE26\\uDE28\\uDE33\\uDE38\\uDE3A\\uDE3C-\\uDE41\\uDE43-\\uDE46\\uDE48\\uDE4A\\uDE4C\\uDE50\\uDE53\\uDE55\\uDE56\\uDE58\\uDE5A\\uDE5C\\uDE5E\\uDE60\\uDE63\\uDE65\\uDE66\\uDE6B\\uDE73\\uDE78\\uDE7D\\uDE7F\\uDE8A\\uDE9C-\\uDEA0\\uDEA4\\uDEAA\\uDEBC-\\uDEEF\\uDEF2-\\uDFFF]|\\uD83C[\\uDC2C-\\uDC2F\\uDC94-\\uDC9F\\uDCAF\\uDCB0\\uDCC0\\uDCD0\\uDCF6-\\uDCFF\\uDDAE-\\uDDE5\\uDE03-\\uDE0F\\uDE3C-\\uDE3F\\uDE49-\\uDE4F\\uDE52-\\uDE5F\\uDE66-\\uDEFF]|\\uD83D[\\uDED8-\\uDEDF\\uDEED-\\uDEEF\\uDEFD-\\uDEFF\\uDF74-\\uDF7F\\uDFD9-\\uDFDF\\uDFEC-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE\\uDCAF\\uDCB2-\\uDCFF\\uDD79\\uDDCC\\uDE54-\\uDE5F\\uDE6E\\uDE6F\\uDE75-\\uDE77\\uDE7B-\\uDE7F\\uDE87-\\uDE8F\\uDEA9-\\uDEAF\\uDEB7-\\uDEBF\\uDEC3-\\uDECF\\uDED7-\\uDEFF\\uDF93\\uDFCB-\\uDFEF\\uDFFA-\\uDFFF]|\\uD869[\\uDEDE-\\uDEFF]|\\uD86D[\\uDF35-\\uDF3F]|\\uD86E[\\uDC1E\\uDC1F]|\\uD873[\\uDEA2-\\uDEAF]|\\uD87A[\\uDFE1-\\uDFFF]|\\uD87E[\\uDE1E-\\uDFFF]|\\uD884[\\uDF4B-\\uDFFF]|\\uDB40[\\uDC00\\uDC02-\\uDC1F\\uDC80-\\uDCFF\\uDDF0-\\uDFFF]|[\\uDBBF\\uDBFF][\\uDFFE\\uDFFF]'\n    },\n    {\n        'name': 'Co',\n        'alias': 'Private_Use',\n        'bmp': '\\uE000-\\uF8FF',\n        'astral': '[\\uDB80-\\uDBBE\\uDBC0-\\uDBFE][\\uDC00-\\uDFFF]|[\\uDBBF\\uDBFF][\\uDC00-\\uDFFD]'\n    },\n    {\n        'name': 'Cs',\n        'alias': 'Surrogate',\n        'bmp': '\\uD800-\\uDFFF'\n    },\n    {\n        'name': 'L',\n        'alias': 'Letter',\n        'bmp': 'A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08C7\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3400-\\u4DBF\\u4E00-\\u9FFC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7CA\\uA7F5-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC',\n        'astral': '\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDD00-\\uDD23\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDFB0-\\uDFC4\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCDF\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2\\uDFB0]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE7F\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD4E\\uDEC0-\\uDEEB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43\\uDD4B]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDEDD\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A]'\n    },\n    {\n        'name': 'LC',\n        'alias': 'Cased_Letter',\n        'bmp': 'A-Za-z\\xB5\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u01BA\\u01BC-\\u01BF\\u01C4-\\u0293\\u0295-\\u02AF\\u0370-\\u0373\\u0376\\u0377\\u037B-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0560-\\u0588\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FD-\\u10FF\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2134\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C7B\\u2C7E-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA640-\\uA66D\\uA680-\\uA69B\\uA722-\\uA76F\\uA771-\\uA787\\uA78B-\\uA78E\\uA790-\\uA7BF\\uA7C2-\\uA7CA\\uA7F5\\uA7F6\\uA7FA\\uAB30-\\uAB5A\\uAB60-\\uAB68\\uAB70-\\uABBF\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF21-\\uFF3A\\uFF41-\\uFF5A',\n        'astral': '\\uD801[\\uDC00-\\uDC4F\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB]|\\uD803[\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD806[\\uDCA0-\\uDCDF]|\\uD81B[\\uDE40-\\uDE7F]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDD00-\\uDD43]'\n    },\n    {\n        'name': 'Ll',\n        'alias': 'Lowercase_Letter',\n        'bmp': 'a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0529\\u052B\\u052D\\u052F\\u0560-\\u0588\\u10D0-\\u10FA\\u10FD-\\u10FF\\u13F8-\\u13FD\\u1C80-\\u1C88\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6\\u1FC7\\u1FD0-\\u1FD3\\u1FD6\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6\\u1FF7\\u210A\\u210E\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA699\\uA69B\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793-\\uA795\\uA797\\uA799\\uA79B\\uA79D\\uA79F\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7AF\\uA7B5\\uA7B7\\uA7B9\\uA7BB\\uA7BD\\uA7BF\\uA7C3\\uA7C8\\uA7CA\\uA7F6\\uA7FA\\uAB30-\\uAB5A\\uAB60-\\uAB68\\uAB70-\\uABBF\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A',\n        'astral': '\\uD801[\\uDC28-\\uDC4F\\uDCD8-\\uDCFB]|\\uD803[\\uDCC0-\\uDCF2]|\\uD806[\\uDCC0-\\uDCDF]|\\uD81B[\\uDE60-\\uDE7F]|\\uD835[\\uDC1A-\\uDC33\\uDC4E-\\uDC54\\uDC56-\\uDC67\\uDC82-\\uDC9B\\uDCB6-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDCCF\\uDCEA-\\uDD03\\uDD1E-\\uDD37\\uDD52-\\uDD6B\\uDD86-\\uDD9F\\uDDBA-\\uDDD3\\uDDEE-\\uDE07\\uDE22-\\uDE3B\\uDE56-\\uDE6F\\uDE8A-\\uDEA5\\uDEC2-\\uDEDA\\uDEDC-\\uDEE1\\uDEFC-\\uDF14\\uDF16-\\uDF1B\\uDF36-\\uDF4E\\uDF50-\\uDF55\\uDF70-\\uDF88\\uDF8A-\\uDF8F\\uDFAA-\\uDFC2\\uDFC4-\\uDFC9\\uDFCB]|\\uD83A[\\uDD22-\\uDD43]'\n    },\n    {\n        'name': 'Lm',\n        'alias': 'Modifier_Letter',\n        'bmp': '\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5\\u06E6\\u07F4\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA69C\\uA69D\\uA717-\\uA71F\\uA770\\uA788\\uA7F8\\uA7F9\\uA9CF\\uA9E6\\uAA70\\uAADD\\uAAF3\\uAAF4\\uAB5C-\\uAB5F\\uAB69\\uFF70\\uFF9E\\uFF9F',\n        'astral': '\\uD81A[\\uDF40-\\uDF43]|\\uD81B[\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD838[\\uDD37-\\uDD3D]|\\uD83A\\uDD4B'\n    },\n    {\n        'name': 'Lo',\n        'alias': 'Other_Letter',\n        'bmp': '\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08C7\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E45\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1100-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3400-\\u4DBF\\u4E00-\\u9FFC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA78F\\uA7F7\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9E0-\\uA9E4\\uA9E7-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC',\n        'astral': '\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC50-\\uDC9D\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDD00-\\uDD23\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDFB0-\\uDFC4\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A]|\\uD806[\\uDC00-\\uDC2B\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2\\uDFB0]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF4A\\uDF50]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82C[\\uDC00-\\uDD1E\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD838[\\uDD00-\\uDD2C\\uDD4E\\uDEC0-\\uDEEB]|\\uD83A[\\uDC00-\\uDCC4]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDEDD\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A]'\n    },\n    {\n        'name': 'Lt',\n        'alias': 'Titlecase_Letter',\n        'bmp': '\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC'\n    },\n    {\n        'name': 'Lu',\n        'alias': 'Uppercase_Letter',\n        'bmp': 'A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017B\\u017D\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019C\\u019D\\u019F\\u01A0\\u01A2\\u01A4\\u01A6\\u01A7\\u01A9\\u01AC\\u01AE\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A\\u023B\\u023D\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0528\\u052A\\u052C\\u052E\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u13A0-\\u13F5\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA698\\uA69A\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA796\\uA798\\uA79A\\uA79C\\uA79E\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA-\\uA7AE\\uA7B0-\\uA7B4\\uA7B6\\uA7B8\\uA7BA\\uA7BC\\uA7BE\\uA7C2\\uA7C4-\\uA7C7\\uA7C9\\uA7F5\\uFF21-\\uFF3A',\n        'astral': '\\uD801[\\uDC00-\\uDC27\\uDCB0-\\uDCD3]|\\uD803[\\uDC80-\\uDCB2]|\\uD806[\\uDCA0-\\uDCBF]|\\uD81B[\\uDE40-\\uDE5F]|\\uD835[\\uDC00-\\uDC19\\uDC34-\\uDC4D\\uDC68-\\uDC81\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB5\\uDCD0-\\uDCE9\\uDD04\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD38\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD6C-\\uDD85\\uDDA0-\\uDDB9\\uDDD4-\\uDDED\\uDE08-\\uDE21\\uDE3C-\\uDE55\\uDE70-\\uDE89\\uDEA8-\\uDEC0\\uDEE2-\\uDEFA\\uDF1C-\\uDF34\\uDF56-\\uDF6E\\uDF90-\\uDFA8\\uDFCA]|\\uD83A[\\uDD00-\\uDD21]'\n    },\n    {\n        'name': 'M',\n        'alias': 'Mark',\n        'bmp': '\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C04\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00-\\u0D03\\u0D3B\\u0D3C\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81-\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF4\\u1CF7-\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA82C\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F',\n        'astral': '\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD45\\uDD46\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDDC9-\\uDDCC\\uDDCE\\uDDCF\\uDE2C-\\uDE37\\uDE3E\\uDEDF-\\uDEEA\\uDF00-\\uDF03\\uDF3B\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC35-\\uDC46\\uDC5E\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDDDC\\uDDDD\\uDE30-\\uDE40\\uDEAB-\\uDEB7\\uDF1D-\\uDF2B]|\\uD806[\\uDC2C-\\uDC3A\\uDD30-\\uDD35\\uDD37\\uDD38\\uDD3B-\\uDD3E\\uDD40\\uDD42\\uDD43\\uDDD1-\\uDDD7\\uDDDA-\\uDDE0\\uDDE4\\uDE01-\\uDE0A\\uDE33-\\uDE39\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE5B\\uDE8A-\\uDE99]|\\uD807[\\uDC2F-\\uDC36\\uDC38-\\uDC3F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD8A-\\uDD8E\\uDD90\\uDD91\\uDD93-\\uDD97\\uDEF3-\\uDEF6]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF51-\\uDF87\\uDF8F-\\uDF92\\uDFE4\\uDFF0\\uDFF1]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uDB40[\\uDD00-\\uDDEF]'\n    },\n    {\n        'name': 'Mc',\n        'alias': 'Spacing_Mark',\n        'bmp': '\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u094F\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u1A19\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2\\u1BF3\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF7\\u302E\\u302F\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BE-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uAA7D\\uAAEB\\uAAEE\\uAAEF\\uAAF5\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC',\n        'astral': '\\uD804[\\uDC00\\uDC02\\uDC82\\uDCB0-\\uDCB2\\uDCB7\\uDCB8\\uDD2C\\uDD45\\uDD46\\uDD82\\uDDB3-\\uDDB5\\uDDBF\\uDDC0\\uDDCE\\uDE2C-\\uDE2E\\uDE32\\uDE33\\uDE35\\uDEE0-\\uDEE2\\uDF02\\uDF03\\uDF3E\\uDF3F\\uDF41-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63]|\\uD805[\\uDC35-\\uDC37\\uDC40\\uDC41\\uDC45\\uDCB0-\\uDCB2\\uDCB9\\uDCBB-\\uDCBE\\uDCC1\\uDDAF-\\uDDB1\\uDDB8-\\uDDBB\\uDDBE\\uDE30-\\uDE32\\uDE3B\\uDE3C\\uDE3E\\uDEAC\\uDEAE\\uDEAF\\uDEB6\\uDF20\\uDF21\\uDF26]|\\uD806[\\uDC2C-\\uDC2E\\uDC38\\uDD30-\\uDD35\\uDD37\\uDD38\\uDD3D\\uDD40\\uDD42\\uDDD1-\\uDDD3\\uDDDC-\\uDDDF\\uDDE4\\uDE39\\uDE57\\uDE58\\uDE97]|\\uD807[\\uDC2F\\uDC3E\\uDCA9\\uDCB1\\uDCB4\\uDD8A-\\uDD8E\\uDD93\\uDD94\\uDD96\\uDEF5\\uDEF6]|\\uD81B[\\uDF51-\\uDF87\\uDFF0\\uDFF1]|\\uD834[\\uDD65\\uDD66\\uDD6D-\\uDD72]'\n    },\n    {\n        'name': 'Me',\n        'alias': 'Enclosing_Mark',\n        'bmp': '\\u0488\\u0489\\u1ABE\\u20DD-\\u20E0\\u20E2-\\u20E4\\uA670-\\uA672'\n    },\n    {\n        'name': 'Mn',\n        'alias': 'Nonspacing_Mark',\n        'bmp': '\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1ABD\\u1ABF\\u1AC0\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099\\u309A\\uA66F\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F',\n        'astral': '\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF40\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB3-\\uDCB8\\uDCBA\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD67-\\uDD69\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uDB40[\\uDD00-\\uDDEF]'\n    },\n    {\n        'name': 'N',\n        'alias': 'Number',\n        'bmp': '0-9\\xB2\\xB3\\xB9\\xBC-\\xBE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D58-\\u0D5E\\u0D66-\\u0D78\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19',\n        'astral': '\\uD800[\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDEE1-\\uDEFB\\uDF20-\\uDF23\\uDF41\\uDF4A\\uDFD1-\\uDFD5]|\\uD801[\\uDCA0-\\uDCA9]|\\uD802[\\uDC58-\\uDC5F\\uDC79-\\uDC7F\\uDCA7-\\uDCAF\\uDCFB-\\uDCFF\\uDD16-\\uDD1B\\uDDBC\\uDDBD\\uDDC0-\\uDDCF\\uDDD2-\\uDDFF\\uDE40-\\uDE48\\uDE7D\\uDE7E\\uDE9D-\\uDE9F\\uDEEB-\\uDEEF\\uDF58-\\uDF5F\\uDF78-\\uDF7F\\uDFA9-\\uDFAF]|\\uD803[\\uDCFA-\\uDCFF\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDF1D-\\uDF26\\uDF51-\\uDF54\\uDFC5-\\uDFCB]|\\uD804[\\uDC52-\\uDC6F\\uDCF0-\\uDCF9\\uDD36-\\uDD3F\\uDDD0-\\uDDD9\\uDDE1-\\uDDF4\\uDEF0-\\uDEF9]|\\uD805[\\uDC50-\\uDC59\\uDCD0-\\uDCD9\\uDE50-\\uDE59\\uDEC0-\\uDEC9\\uDF30-\\uDF3B]|\\uD806[\\uDCE0-\\uDCF2\\uDD50-\\uDD59]|\\uD807[\\uDC50-\\uDC6C\\uDD50-\\uDD59\\uDDA0-\\uDDA9\\uDFC0-\\uDFD4]|\\uD809[\\uDC00-\\uDC6E]|\\uD81A[\\uDE60-\\uDE69\\uDF50-\\uDF59\\uDF5B-\\uDF61]|\\uD81B[\\uDE80-\\uDE96]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDFCE-\\uDFFF]|\\uD838[\\uDD40-\\uDD49\\uDEF0-\\uDEF9]|\\uD83A[\\uDCC7-\\uDCCF\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]'\n    },\n    {\n        'name': 'Nd',\n        'alias': 'Decimal_Number',\n        'bmp': '0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19',\n        'astral': '\\uD801[\\uDCA0-\\uDCA9]|\\uD803[\\uDD30-\\uDD39]|\\uD804[\\uDC66-\\uDC6F\\uDCF0-\\uDCF9\\uDD36-\\uDD3F\\uDDD0-\\uDDD9\\uDEF0-\\uDEF9]|\\uD805[\\uDC50-\\uDC59\\uDCD0-\\uDCD9\\uDE50-\\uDE59\\uDEC0-\\uDEC9\\uDF30-\\uDF39]|\\uD806[\\uDCE0-\\uDCE9\\uDD50-\\uDD59]|\\uD807[\\uDC50-\\uDC59\\uDD50-\\uDD59\\uDDA0-\\uDDA9]|\\uD81A[\\uDE60-\\uDE69\\uDF50-\\uDF59]|\\uD835[\\uDFCE-\\uDFFF]|\\uD838[\\uDD40-\\uDD49\\uDEF0-\\uDEF9]|\\uD83A[\\uDD50-\\uDD59]|\\uD83E[\\uDFF0-\\uDFF9]'\n    },\n    {\n        'name': 'Nl',\n        'alias': 'Letter_Number',\n        'bmp': '\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF',\n        'astral': '\\uD800[\\uDD40-\\uDD74\\uDF41\\uDF4A\\uDFD1-\\uDFD5]|\\uD809[\\uDC00-\\uDC6E]'\n    },\n    {\n        'name': 'No',\n        'alias': 'Other_Number',\n        'bmp': '\\xB2\\xB3\\xB9\\xBC-\\xBE\\u09F4-\\u09F9\\u0B72-\\u0B77\\u0BF0-\\u0BF2\\u0C78-\\u0C7E\\u0D58-\\u0D5E\\u0D70-\\u0D78\\u0F2A-\\u0F33\\u1369-\\u137C\\u17F0-\\u17F9\\u19DA\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u215F\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA830-\\uA835',\n        'astral': '\\uD800[\\uDD07-\\uDD33\\uDD75-\\uDD78\\uDD8A\\uDD8B\\uDEE1-\\uDEFB\\uDF20-\\uDF23]|\\uD802[\\uDC58-\\uDC5F\\uDC79-\\uDC7F\\uDCA7-\\uDCAF\\uDCFB-\\uDCFF\\uDD16-\\uDD1B\\uDDBC\\uDDBD\\uDDC0-\\uDDCF\\uDDD2-\\uDDFF\\uDE40-\\uDE48\\uDE7D\\uDE7E\\uDE9D-\\uDE9F\\uDEEB-\\uDEEF\\uDF58-\\uDF5F\\uDF78-\\uDF7F\\uDFA9-\\uDFAF]|\\uD803[\\uDCFA-\\uDCFF\\uDE60-\\uDE7E\\uDF1D-\\uDF26\\uDF51-\\uDF54\\uDFC5-\\uDFCB]|\\uD804[\\uDC52-\\uDC65\\uDDE1-\\uDDF4]|\\uD805[\\uDF3A\\uDF3B]|\\uD806[\\uDCEA-\\uDCF2]|\\uD807[\\uDC5A-\\uDC6C\\uDFC0-\\uDFD4]|\\uD81A[\\uDF5B-\\uDF61]|\\uD81B[\\uDE80-\\uDE96]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD83A[\\uDCC7-\\uDCCF]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D]|\\uD83C[\\uDD00-\\uDD0C]'\n    },\n    {\n        'name': 'P',\n        'alias': 'Punctuation',\n        'bmp': '!-#%-\\\\*,-\\\\/:;\\\\?@\\\\[-\\\\]_\\\\{\\\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65',\n        'astral': '\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDEAD\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5A\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDD44-\\uDD46\\uDDE2\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8\\uDFFF]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A\\uDFE2]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]'\n    },\n    {\n        'name': 'Pc',\n        'alias': 'Connector_Punctuation',\n        'bmp': '_\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F'\n    },\n    {\n        'name': 'Pd',\n        'alias': 'Dash_Punctuation',\n        'bmp': '\\\\-\\u058A\\u05BE\\u1400\\u1806\\u2010-\\u2015\\u2E17\\u2E1A\\u2E3A\\u2E3B\\u2E40\\u301C\\u3030\\u30A0\\uFE31\\uFE32\\uFE58\\uFE63\\uFF0D',\n        'astral': '\\uD803\\uDEAD'\n    },\n    {\n        'name': 'Pe',\n        'alias': 'Close_Punctuation',\n        'bmp': '\\\\)\\\\]\\\\}\\u0F3B\\u0F3D\\u169C\\u2046\\u207E\\u208E\\u2309\\u230B\\u232A\\u2769\\u276B\\u276D\\u276F\\u2771\\u2773\\u2775\\u27C6\\u27E7\\u27E9\\u27EB\\u27ED\\u27EF\\u2984\\u2986\\u2988\\u298A\\u298C\\u298E\\u2990\\u2992\\u2994\\u2996\\u2998\\u29D9\\u29DB\\u29FD\\u2E23\\u2E25\\u2E27\\u2E29\\u3009\\u300B\\u300D\\u300F\\u3011\\u3015\\u3017\\u3019\\u301B\\u301E\\u301F\\uFD3E\\uFE18\\uFE36\\uFE38\\uFE3A\\uFE3C\\uFE3E\\uFE40\\uFE42\\uFE44\\uFE48\\uFE5A\\uFE5C\\uFE5E\\uFF09\\uFF3D\\uFF5D\\uFF60\\uFF63'\n    },\n    {\n        'name': 'Pf',\n        'alias': 'Final_Punctuation',\n        'bmp': '\\xBB\\u2019\\u201D\\u203A\\u2E03\\u2E05\\u2E0A\\u2E0D\\u2E1D\\u2E21'\n    },\n    {\n        'name': 'Pi',\n        'alias': 'Initial_Punctuation',\n        'bmp': '\\xAB\\u2018\\u201B\\u201C\\u201F\\u2039\\u2E02\\u2E04\\u2E09\\u2E0C\\u2E1C\\u2E20'\n    },\n    {\n        'name': 'Po',\n        'alias': 'Other_Punctuation',\n        'bmp': '!-#%-\\'\\\\*,\\\\.\\\\/:;\\\\?@\\\\\\xA1\\xA7\\xB6\\xB7\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u166E\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u1805\\u1807-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2016\\u2017\\u2020-\\u2027\\u2030-\\u2038\\u203B-\\u203E\\u2041-\\u2043\\u2047-\\u2051\\u2053\\u2055-\\u205E\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00\\u2E01\\u2E06-\\u2E08\\u2E0B\\u2E0E-\\u2E16\\u2E18\\u2E19\\u2E1B\\u2E1E\\u2E1F\\u2E2A-\\u2E2E\\u2E30-\\u2E39\\u2E3C-\\u2E3F\\u2E41\\u2E43-\\u2E4F\\u2E52\\u3001-\\u3003\\u303D\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFE10-\\uFE16\\uFE19\\uFE30\\uFE45\\uFE46\\uFE49-\\uFE4C\\uFE50-\\uFE52\\uFE54-\\uFE57\\uFE5F-\\uFE61\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF07\\uFF0A\\uFF0C\\uFF0E\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3C\\uFF61\\uFF64\\uFF65',\n        'astral': '\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5A\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDD44-\\uDD46\\uDDE2\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8\\uDFFF]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A\\uDFE2]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]'\n    },\n    {\n        'name': 'Ps',\n        'alias': 'Open_Punctuation',\n        'bmp': '\\\\(\\\\[\\\\{\\u0F3A\\u0F3C\\u169B\\u201A\\u201E\\u2045\\u207D\\u208D\\u2308\\u230A\\u2329\\u2768\\u276A\\u276C\\u276E\\u2770\\u2772\\u2774\\u27C5\\u27E6\\u27E8\\u27EA\\u27EC\\u27EE\\u2983\\u2985\\u2987\\u2989\\u298B\\u298D\\u298F\\u2991\\u2993\\u2995\\u2997\\u29D8\\u29DA\\u29FC\\u2E22\\u2E24\\u2E26\\u2E28\\u2E42\\u3008\\u300A\\u300C\\u300E\\u3010\\u3014\\u3016\\u3018\\u301A\\u301D\\uFD3F\\uFE17\\uFE35\\uFE37\\uFE39\\uFE3B\\uFE3D\\uFE3F\\uFE41\\uFE43\\uFE47\\uFE59\\uFE5B\\uFE5D\\uFF08\\uFF3B\\uFF5B\\uFF5F\\uFF62'\n    },\n    {\n        'name': 'S',\n        'alias': 'Symbol',\n        'bmp': '\\\\$\\\\+<->\\\\^`\\\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20BF\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B97-\\u2BFF\\u2CE5-\\u2CEA\\u2E50\\u2E51\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uAB6A\\uAB6B\\uFB29\\uFBB2-\\uFBC1\\uFDFC\\uFDFD\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD',\n        'astral': '\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9C\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD0D-\\uDDAD\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED7\\uDEE0-\\uDEEC\\uDEF0-\\uDEFC\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDCB0\\uDCB1\\uDD00-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6\\uDF00-\\uDF92\\uDF94-\\uDFCA]'\n    },\n    {\n        'name': 'Sc',\n        'alias': 'Currency_Symbol',\n        'bmp': '\\\\$\\xA2-\\xA5\\u058F\\u060B\\u07FE\\u07FF\\u09F2\\u09F3\\u09FB\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u20A0-\\u20BF\\uA838\\uFDFC\\uFE69\\uFF04\\uFFE0\\uFFE1\\uFFE5\\uFFE6',\n        'astral': '\\uD807[\\uDFDD-\\uDFE0]|\\uD838\\uDEFF|\\uD83B\\uDCB0'\n    },\n    {\n        'name': 'Sk',\n        'alias': 'Modifier_Symbol',\n        'bmp': '\\\\^`\\xA8\\xAF\\xB4\\xB8\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u309B\\u309C\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uAB5B\\uAB6A\\uAB6B\\uFBB2-\\uFBC1\\uFF3E\\uFF40\\uFFE3',\n        'astral': '\\uD83C[\\uDFFB-\\uDFFF]'\n    },\n    {\n        'name': 'Sm',\n        'alias': 'Math_Symbol',\n        'bmp': '\\\\+<->\\\\|~\\xAC\\xB1\\xD7\\xF7\\u03F6\\u0606-\\u0608\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u2118\\u2140-\\u2144\\u214B\\u2190-\\u2194\\u219A\\u219B\\u21A0\\u21A3\\u21A6\\u21AE\\u21CE\\u21CF\\u21D2\\u21D4\\u21F4-\\u22FF\\u2320\\u2321\\u237C\\u239B-\\u23B3\\u23DC-\\u23E1\\u25B7\\u25C1\\u25F8-\\u25FF\\u266F\\u27C0-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u27FF\\u2900-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2AFF\\u2B30-\\u2B44\\u2B47-\\u2B4C\\uFB29\\uFE62\\uFE64-\\uFE66\\uFF0B\\uFF1C-\\uFF1E\\uFF5C\\uFF5E\\uFFE2\\uFFE9-\\uFFEC',\n        'astral': '\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD83B[\\uDEF0\\uDEF1]'\n    },\n    {\n        'name': 'So',\n        'alias': 'Other_Symbol',\n        'bmp': '\\xA6\\xA9\\xAE\\xB0\\u0482\\u058D\\u058E\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u09FA\\u0B70\\u0BF3-\\u0BF8\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116\\u2117\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u214A\\u214C\\u214D\\u214F\\u218A\\u218B\\u2195-\\u2199\\u219C-\\u219F\\u21A1\\u21A2\\u21A4\\u21A5\\u21A7-\\u21AD\\u21AF-\\u21CD\\u21D0\\u21D1\\u21D3\\u21D5-\\u21F3\\u2300-\\u2307\\u230C-\\u231F\\u2322-\\u2328\\u232B-\\u237B\\u237D-\\u239A\\u23B4-\\u23DB\\u23E2-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u25B6\\u25B8-\\u25C0\\u25C2-\\u25F7\\u2600-\\u266E\\u2670-\\u2767\\u2794-\\u27BF\\u2800-\\u28FF\\u2B00-\\u2B2F\\u2B45\\u2B46\\u2B4D-\\u2B73\\u2B76-\\u2B95\\u2B97-\\u2BFF\\u2CE5-\\u2CEA\\u2E50\\u2E51\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA828-\\uA82B\\uA836\\uA837\\uA839\\uAA77-\\uAA79\\uFDFD\\uFFE4\\uFFE8\\uFFED\\uFFEE\\uFFFC\\uFFFD',\n        'astral': '\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9C\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFDC\\uDFE1-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDE8\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838\\uDD4F|\\uD83B[\\uDCAC\\uDD2E]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD0D-\\uDDAD\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFA]|\\uD83D[\\uDC00-\\uDED7\\uDEE0-\\uDEEC\\uDEF0-\\uDEFC\\uDF00-\\uDF73\\uDF80-\\uDFD8\\uDFE0-\\uDFEB]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDCB0\\uDCB1\\uDD00-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6\\uDF00-\\uDF92\\uDF94-\\uDFCA]'\n    },\n    {\n        'name': 'Z',\n        'alias': 'Separator',\n        'bmp': ' \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000'\n    },\n    {\n        'name': 'Zl',\n        'alias': 'Line_Separator',\n        'bmp': '\\u2028'\n    },\n    {\n        'name': 'Zp',\n        'alias': 'Paragraph_Separator',\n        'bmp': '\\u2029'\n    },\n    {\n        'name': 'Zs',\n        'alias': 'Space_Separator',\n        'bmp': ' \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000'\n    }\n];\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _getIterator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/get-iterator\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _getIteratorMethod2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js/get-iterator-method\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/symbol\"));\n\nvar _from = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/from\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/create\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _includes = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/includes\"));\n\nvar _parseInt2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/parse-int\"));\n\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\n\nvar _sort = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/sort\"));\n\nvar _flags = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/flags\"));\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof _symbol[\"default\"] === \"undefined\" || (0, _getIteratorMethod2[\"default\"])(o) == null) { if ((0, _isArray[\"default\"])(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = (0, _getIterator2[\"default\"])(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { var _context9; if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = (0, _slice[\"default\"])(_context9 = Object.prototype.toString.call(o)).call(_context9, 8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return (0, _from[\"default\"])(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*!\n * XRegExp 4.4.1\n * <xregexp.com>\n * Steven Levithan (c) 2007-present MIT License\n */\n\n/**\n * XRegExp provides augmented, extensible regular expressions. You get additional regex syntax and\n * flags, beyond what browsers support natively. XRegExp is also a regex utility belt with tools to\n * make your client-side grepping simpler and more powerful, while freeing you from related\n * cross-browser inconsistencies.\n */\n// ==--------------------------==\n// Private stuff\n// ==--------------------------==\n// Property name used for extended regex instance data\nvar REGEX_DATA = 'xregexp'; // Optional features that can be installed and uninstalled\n\nvar features = {\n  astral: false,\n  namespacing: false\n}; // Native methods to use and restore ('native' is an ES3 reserved keyword)\n\nvar nativ = {\n  exec: RegExp.prototype.exec,\n  test: RegExp.prototype.test,\n  match: String.prototype.match,\n  replace: String.prototype.replace,\n  split: String.prototype.split\n}; // Storage for fixed/extended native methods\n\nvar fixed = {}; // Storage for regexes cached by `XRegExp.cache`\n\nvar regexCache = {}; // Storage for pattern details cached by the `XRegExp` constructor\n\nvar patternCache = {}; // Storage for regex syntax tokens added internally or by `XRegExp.addToken`\n\nvar tokens = []; // Token scopes\n\nvar defaultScope = 'default';\nvar classScope = 'class'; // Regexes that match native regex syntax, including octals\n\nvar nativeTokens = {\n  // Any native multicharacter token in default scope, or any single character\n  'default': /\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\\d*|x[\\dA-Fa-f]{2}|u(?:[\\dA-Fa-f]{4}|{[\\dA-Fa-f]+})|c[A-Za-z]|[\\s\\S])|\\(\\?(?:[:=!]|<[=!])|[?*+]\\?|{\\d+(?:,\\d*)?}\\??|[\\s\\S]/,\n  // Any native multicharacter token in character class scope, or any single character\n  'class': /\\\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\\dA-Fa-f]{2}|u(?:[\\dA-Fa-f]{4}|{[\\dA-Fa-f]+})|c[A-Za-z]|[\\s\\S])|[\\s\\S]/\n}; // Any backreference or dollar-prefixed character in replacement strings\n\nvar replacementToken = /\\$(?:{([\\w$]+)}|<([\\w$]+)>|(\\d\\d?|[\\s\\S]))/g; // Check for correct `exec` handling of nonparticipating capturing groups\n\nvar correctExecNpcg = nativ.exec.call(/()??/, '')[1] === undefined; // Check for ES6 `flags` prop support\n\nvar hasFlagsProp = (0, _flags[\"default\"])(/x/) !== undefined; // Shortcut to `Object.prototype.toString`\n\nvar _ref = {},\n    toString = _ref.toString;\n\nfunction hasNativeFlag(flag) {\n  // Can't check based on the presence of properties/getters since browsers might support such\n  // properties even when they don't support the corresponding flag in regex construction (tested\n  // in Chrome 48, where `'unicode' in /x/` is true but trying to construct a regex with flag `u`\n  // throws an error)\n  var isSupported = true;\n\n  try {\n    // Can't use regex literals for testing even in a `try` because regex literals with\n    // unsupported flags cause a compilation error in IE\n    new RegExp('', flag); // Work around a broken/incomplete IE11 polyfill for sticky introduced in core-js 3.6.0\n\n    if (flag === 'y') {\n      // Using function to avoid babel transform to regex literal\n      var gy = function () {\n        return 'gy';\n      }();\n\n      var incompleteY = '.a'.replace(new RegExp('a', gy), '.') === '..';\n\n      if (incompleteY) {\n        isSupported = false;\n      }\n    }\n  } catch (exception) {\n    isSupported = false;\n  }\n\n  return isSupported;\n} // Check for ES6 `u` flag support\n\n\nvar hasNativeU = hasNativeFlag('u'); // Check for ES6 `y` flag support\n\nvar hasNativeY = hasNativeFlag('y'); // Tracker for known flags, including addon flags\n\nvar registeredFlags = {\n  g: true,\n  i: true,\n  m: true,\n  u: hasNativeU,\n  y: hasNativeY\n};\n/**\n * Attaches extended data and `XRegExp.prototype` properties to a regex object.\n *\n * @private\n * @param {RegExp} regex Regex to augment.\n * @param {Array} captureNames Array with capture names, or `null`.\n * @param {String} xSource XRegExp pattern used to generate `regex`, or `null` if N/A.\n * @param {String} xFlags XRegExp flags used to generate `regex`, or `null` if N/A.\n * @param {Boolean} [isInternalOnly=false] Whether the regex will be used only for internal\n *   operations, and never exposed to users. For internal-only regexes, we can improve perf by\n *   skipping some operations like attaching `XRegExp.prototype` properties.\n * @returns {!RegExp} Augmented regex.\n */\n\nfunction augment(regex, captureNames, xSource, xFlags, isInternalOnly) {\n  var _context;\n\n  regex[REGEX_DATA] = {\n    captureNames: captureNames\n  };\n\n  if (isInternalOnly) {\n    return regex;\n  } // Can't auto-inherit these since the XRegExp constructor returns a nonprimitive value\n\n\n  if (regex.__proto__) {\n    regex.__proto__ = XRegExp.prototype;\n  } else {\n    for (var p in XRegExp.prototype) {\n      // An `XRegExp.prototype.hasOwnProperty(p)` check wouldn't be worth it here, since this\n      // is performance sensitive, and enumerable `Object.prototype` or `RegExp.prototype`\n      // extensions exist on `regex.prototype` anyway\n      regex[p] = XRegExp.prototype[p];\n    }\n  }\n\n  regex[REGEX_DATA].source = xSource; // Emulate the ES6 `flags` prop by ensuring flags are in alphabetical order\n\n  regex[REGEX_DATA].flags = xFlags ? (0, _sort[\"default\"])(_context = xFlags.split('')).call(_context).join('') : xFlags;\n  return regex;\n}\n/**\n * Removes any duplicate characters from the provided string.\n *\n * @private\n * @param {String} str String to remove duplicate characters from.\n * @returns {string} String with any duplicate characters removed.\n */\n\n\nfunction clipDuplicates(str) {\n  return nativ.replace.call(str, /([\\s\\S])(?=[\\s\\S]*\\1)/g, '');\n}\n/**\n * Copies a regex object while preserving extended data and augmenting with `XRegExp.prototype`\n * properties. The copy has a fresh `lastIndex` property (set to zero). Allows adding and removing\n * flags g and y while copying the regex.\n *\n * @private\n * @param {RegExp} regex Regex to copy.\n * @param {Object} [options] Options object with optional properties:\n *   - `addG` {Boolean} Add flag g while copying the regex.\n *   - `addY` {Boolean} Add flag y while copying the regex.\n *   - `removeG` {Boolean} Remove flag g while copying the regex.\n *   - `removeY` {Boolean} Remove flag y while copying the regex.\n *   - `isInternalOnly` {Boolean} Whether the copied regex will be used only for internal\n *     operations, and never exposed to users. For internal-only regexes, we can improve perf by\n *     skipping some operations like attaching `XRegExp.prototype` properties.\n *   - `source` {String} Overrides `<regex>.source`, for special cases.\n * @returns {RegExp} Copy of the provided regex, possibly with modified flags.\n */\n\n\nfunction copyRegex(regex, options) {\n  var _context2;\n\n  if (!XRegExp.isRegExp(regex)) {\n    throw new TypeError('Type RegExp expected');\n  }\n\n  var xData = regex[REGEX_DATA] || {};\n  var flags = getNativeFlags(regex);\n  var flagsToAdd = '';\n  var flagsToRemove = '';\n  var xregexpSource = null;\n  var xregexpFlags = null;\n  options = options || {};\n\n  if (options.removeG) {\n    flagsToRemove += 'g';\n  }\n\n  if (options.removeY) {\n    flagsToRemove += 'y';\n  }\n\n  if (flagsToRemove) {\n    flags = nativ.replace.call(flags, new RegExp(\"[\".concat(flagsToRemove, \"]+\"), 'g'), '');\n  }\n\n  if (options.addG) {\n    flagsToAdd += 'g';\n  }\n\n  if (options.addY) {\n    flagsToAdd += 'y';\n  }\n\n  if (flagsToAdd) {\n    flags = clipDuplicates(flags + flagsToAdd);\n  }\n\n  if (!options.isInternalOnly) {\n    if (xData.source !== undefined) {\n      xregexpSource = xData.source;\n    } // null or undefined; don't want to add to `flags` if the previous value was null, since\n    // that indicates we're not tracking original precompilation flags\n\n\n    if ((0, _flags[\"default\"])(xData) != null) {\n      // Flags are only added for non-internal regexes by `XRegExp.globalize`. Flags are never\n      // removed for non-internal regexes, so don't need to handle it\n      xregexpFlags = flagsToAdd ? clipDuplicates((0, _flags[\"default\"])(xData) + flagsToAdd) : (0, _flags[\"default\"])(xData);\n    }\n  } // Augment with `XRegExp.prototype` properties, but use the native `RegExp` constructor to avoid\n  // searching for special tokens. That would be wrong for regexes constructed by `RegExp`, and\n  // unnecessary for regexes constructed by `XRegExp` because the regex has already undergone the\n  // translation to native regex syntax\n\n\n  regex = augment(new RegExp(options.source || regex.source, flags), hasNamedCapture(regex) ? (0, _slice[\"default\"])(_context2 = xData.captureNames).call(_context2, 0) : null, xregexpSource, xregexpFlags, options.isInternalOnly);\n  return regex;\n}\n/**\n * Converts hexadecimal to decimal.\n *\n * @private\n * @param {String} hex\n * @returns {number}\n */\n\n\nfunction dec(hex) {\n  return (0, _parseInt2[\"default\"])(hex, 16);\n}\n/**\n * Returns a pattern that can be used in a native RegExp in place of an ignorable token such as an\n * inline comment or whitespace with flag x. This is used directly as a token handler function\n * passed to `XRegExp.addToken`.\n *\n * @private\n * @param {String} match Match arg of `XRegExp.addToken` handler\n * @param {String} scope Scope arg of `XRegExp.addToken` handler\n * @param {String} flags Flags arg of `XRegExp.addToken` handler\n * @returns {string} Either '' or '(?:)', depending on which is needed in the context of the match.\n */\n\n\nfunction getContextualTokenSeparator(match, scope, flags) {\n  if ( // No need to separate tokens if at the beginning or end of a group\n  match.input[match.index - 1] === '(' || match.input[match.index + match[0].length] === ')' || // No need to separate tokens if before or after a `|`\n  match.input[match.index - 1] === '|' || match.input[match.index + match[0].length] === '|' || // No need to separate tokens if at the beginning or end of the pattern\n  match.index < 1 || match.index + match[0].length >= match.input.length || // No need to separate tokens if at the beginning of a noncapturing group or lookahead.\n  // The way this is written relies on:\n  // - The search regex matching only 3-char strings.\n  // - Although `substr` gives chars from the end of the string if given a negative index,\n  //   the resulting substring will be too short to match. Ex: `'abcd'.substr(-1, 3) === 'd'`\n  nativ.test.call(/^\\(\\?[:=!]/, match.input.substr(match.index - 3, 3)) || // Avoid separating tokens when the following token is a quantifier\n  isQuantifierNext(match.input, match.index + match[0].length, flags)) {\n    return '';\n  } // Keep tokens separated. This avoids e.g. inadvertedly changing `\\1 1` or `\\1(?#)1` to `\\11`.\n  // This also ensures all tokens remain as discrete atoms, e.g. it avoids converting the syntax\n  // error `(? :` into `(?:`.\n\n\n  return '(?:)';\n}\n/**\n * Returns native `RegExp` flags used by a regex object.\n *\n * @private\n * @param {RegExp} regex Regex to check.\n * @returns {string} Native flags in use.\n */\n\n\nfunction getNativeFlags(regex) {\n  return hasFlagsProp ? (0, _flags[\"default\"])(regex) : // Explicitly using `RegExp.prototype.toString` (rather than e.g. `String` or concatenation\n  // with an empty string) allows this to continue working predictably when\n  // `XRegExp.proptotype.toString` is overridden\n  nativ.exec.call(/\\/([a-z]*)$/i, RegExp.prototype.toString.call(regex))[1];\n}\n/**\n * Determines whether a regex has extended instance data used to track capture names.\n *\n * @private\n * @param {RegExp} regex Regex to check.\n * @returns {boolean} Whether the regex uses named capture.\n */\n\n\nfunction hasNamedCapture(regex) {\n  return !!(regex[REGEX_DATA] && regex[REGEX_DATA].captureNames);\n}\n/**\n * Converts decimal to hexadecimal.\n *\n * @private\n * @param {Number|String} dec\n * @returns {string}\n */\n\n\nfunction hex(dec) {\n  return (0, _parseInt2[\"default\"])(dec, 10).toString(16);\n}\n/**\n * Checks whether the next nonignorable token after the specified position is a quantifier.\n *\n * @private\n * @param {String} pattern Pattern to search within.\n * @param {Number} pos Index in `pattern` to search at.\n * @param {String} flags Flags used by the pattern.\n * @returns {Boolean} Whether the next nonignorable token is a quantifier.\n */\n\n\nfunction isQuantifierNext(pattern, pos, flags) {\n  var inlineCommentPattern = '\\\\(\\\\?#[^)]*\\\\)';\n  var lineCommentPattern = '#[^#\\\\n]*';\n  var quantifierPattern = '[?*+]|{\\\\d+(?:,\\\\d*)?}';\n  return nativ.test.call((0, _includes[\"default\"])(flags).call(flags, 'x') ? // Ignore any leading whitespace, line comments, and inline comments\n  /^(?:\\s|#[^#\\n]*|\\(\\?#[^)]*\\))*(?:[?*+]|{\\d+(?:,\\d*)?})/ : // Ignore any leading inline comments\n  /^(?:\\(\\?#[^)]*\\))*(?:[?*+]|{\\d+(?:,\\d*)?})/, (0, _slice[\"default\"])(pattern).call(pattern, pos));\n}\n/**\n * Determines whether a value is of the specified type, by resolving its internal [[Class]].\n *\n * @private\n * @param {*} value Object to check.\n * @param {String} type Type to check for, in TitleCase.\n * @returns {boolean} Whether the object matches the type.\n */\n\n\nfunction isType(value, type) {\n  return toString.call(value) === \"[object \".concat(type, \"]\");\n}\n/**\n * Adds leading zeros if shorter than four characters. Used for fixed-length hexadecimal values.\n *\n * @private\n * @param {String} str\n * @returns {string}\n */\n\n\nfunction pad4(str) {\n  while (str.length < 4) {\n    str = \"0\".concat(str);\n  }\n\n  return str;\n}\n/**\n * Checks for flag-related errors, and strips/applies flags in a leading mode modifier. Offloads\n * the flag preparation logic from the `XRegExp` constructor.\n *\n * @private\n * @param {String} pattern Regex pattern, possibly with a leading mode modifier.\n * @param {String} flags Any combination of flags.\n * @returns {!Object} Object with properties `pattern` and `flags`.\n */\n\n\nfunction prepareFlags(pattern, flags) {\n  // Recent browsers throw on duplicate flags, so copy this behavior for nonnative flags\n  if (clipDuplicates(flags) !== flags) {\n    throw new SyntaxError(\"Invalid duplicate regex flag \".concat(flags));\n  } // Strip and apply a leading mode modifier with any combination of flags except g or y\n\n\n  pattern = nativ.replace.call(pattern, /^\\(\\?([\\w$]+)\\)/, function ($0, $1) {\n    if (nativ.test.call(/[gy]/, $1)) {\n      throw new SyntaxError(\"Cannot use flag g or y in mode modifier \".concat($0));\n    } // Allow duplicate flags within the mode modifier\n\n\n    flags = clipDuplicates(flags + $1);\n    return '';\n  }); // Throw on unknown native or nonnative flags\n\n  var _iterator = _createForOfIteratorHelper(flags),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var flag = _step.value;\n\n      if (!registeredFlags[flag]) {\n        throw new SyntaxError(\"Unknown regex flag \".concat(flag));\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return {\n    pattern: pattern,\n    flags: flags\n  };\n}\n/**\n * Prepares an options object from the given value.\n *\n * @private\n * @param {String|Object} value Value to convert to an options object.\n * @returns {Object} Options object.\n */\n\n\nfunction prepareOptions(value) {\n  var options = {};\n\n  if (isType(value, 'String')) {\n    (0, _forEach[\"default\"])(XRegExp).call(XRegExp, value, /[^\\s,]+/, function (match) {\n      options[match] = true;\n    });\n    return options;\n  }\n\n  return value;\n}\n/**\n * Registers a flag so it doesn't throw an 'unknown flag' error.\n *\n * @private\n * @param {String} flag Single-character flag to register.\n */\n\n\nfunction registerFlag(flag) {\n  if (!/^[\\w$]$/.test(flag)) {\n    throw new Error('Flag must be a single character A-Za-z0-9_$');\n  }\n\n  registeredFlags[flag] = true;\n}\n/**\n * Runs built-in and custom regex syntax tokens in reverse insertion order at the specified\n * position, until a match is found.\n *\n * @private\n * @param {String} pattern Original pattern from which an XRegExp object is being built.\n * @param {String} flags Flags being used to construct the regex.\n * @param {Number} pos Position to search for tokens within `pattern`.\n * @param {Number} scope Regex scope to apply: 'default' or 'class'.\n * @param {Object} context Context object to use for token handler functions.\n * @returns {Object} Object with properties `matchLength`, `output`, and `reparse`; or `null`.\n */\n\n\nfunction runTokens(pattern, flags, pos, scope, context) {\n  var i = tokens.length;\n  var leadChar = pattern[pos];\n  var result = null;\n  var match;\n  var t; // Run in reverse insertion order\n\n  while (i--) {\n    t = tokens[i];\n\n    if (t.leadChar && t.leadChar !== leadChar || t.scope !== scope && t.scope !== 'all' || t.flag && !(0, _includes[\"default\"])(flags).call(flags, t.flag)) {\n      continue;\n    }\n\n    match = XRegExp.exec(pattern, t.regex, pos, 'sticky');\n\n    if (match) {\n      result = {\n        matchLength: match[0].length,\n        output: t.handler.call(context, match, scope, flags),\n        reparse: t.reparse\n      }; // Finished with token tests\n\n      break;\n    }\n  }\n\n  return result;\n}\n/**\n * Enables or disables implicit astral mode opt-in. When enabled, flag A is automatically added to\n * all new regexes created by XRegExp. This causes an error to be thrown when creating regexes if\n * the Unicode Base addon is not available, since flag A is registered by that addon.\n *\n * @private\n * @param {Boolean} on `true` to enable; `false` to disable.\n */\n\n\nfunction setAstral(on) {\n  features.astral = on;\n}\n/**\n * Adds named capture groups to the `groups` property of match arrays. See here for details:\n * https://github.com/tc39/proposal-regexp-named-groups\n *\n * @private\n * @param {Boolean} on `true` to enable; `false` to disable.\n */\n\n\nfunction setNamespacing(on) {\n  features.namespacing = on;\n}\n/**\n * Returns the object, or throws an error if it is `null` or `undefined`. This is used to follow\n * the ES5 abstract operation `ToObject`.\n *\n * @private\n * @param {*} value Object to check and return.\n * @returns {*} The provided object.\n */\n\n\nfunction toObject(value) {\n  // null or undefined\n  if (value == null) {\n    throw new TypeError('Cannot convert null or undefined to object');\n  }\n\n  return value;\n} // ==--------------------------==\n// Constructor\n// ==--------------------------==\n\n/**\n * Creates an extended regular expression object for matching text with a pattern. Differs from a\n * native regular expression in that additional syntax and flags are supported. The returned object\n * is in fact a native `RegExp` and works with all native methods.\n *\n * @class XRegExp\n * @constructor\n * @param {String|RegExp} pattern Regex pattern string, or an existing regex object to copy.\n * @param {String} [flags] Any combination of flags.\n *   Native flags:\n *     - `g` - global\n *     - `i` - ignore case\n *     - `m` - multiline anchors\n *     - `u` - unicode (ES6)\n *     - `y` - sticky (Firefox 3+, ES6)\n *   Additional XRegExp flags:\n *     - `n` - explicit capture\n *     - `s` - dot matches all (aka singleline)\n *     - `x` - free-spacing and line comments (aka extended)\n *     - `A` - astral (requires the Unicode Base addon)\n *   Flags cannot be provided when constructing one `RegExp` from another.\n * @returns {RegExp} Extended regular expression object.\n * @example\n *\n * // With named capture and flag x\n * XRegExp(`(?<year>  [0-9]{4} ) -?  # year\n *          (?<month> [0-9]{2} ) -?  # month\n *          (?<day>   [0-9]{2} )     # day`, 'x');\n *\n * // Providing a regex object copies it. Native regexes are recompiled using native (not XRegExp)\n * // syntax. Copies maintain extended data, are augmented with `XRegExp.prototype` properties, and\n * // have fresh `lastIndex` properties (set to zero).\n * XRegExp(/regex/);\n */\n\n\nfunction XRegExp(pattern, flags) {\n  if (XRegExp.isRegExp(pattern)) {\n    if (flags !== undefined) {\n      throw new TypeError('Cannot supply flags when copying a RegExp');\n    }\n\n    return copyRegex(pattern);\n  } // Copy the argument behavior of `RegExp`\n\n\n  pattern = pattern === undefined ? '' : String(pattern);\n  flags = flags === undefined ? '' : String(flags);\n\n  if (XRegExp.isInstalled('astral') && !(0, _includes[\"default\"])(flags).call(flags, 'A')) {\n    // This causes an error to be thrown if the Unicode Base addon is not available\n    flags += 'A';\n  }\n\n  if (!patternCache[pattern]) {\n    patternCache[pattern] = {};\n  }\n\n  if (!patternCache[pattern][flags]) {\n    var context = {\n      hasNamedCapture: false,\n      captureNames: []\n    };\n    var scope = defaultScope;\n    var output = '';\n    var pos = 0;\n    var result; // Check for flag-related errors, and strip/apply flags in a leading mode modifier\n\n    var applied = prepareFlags(pattern, flags);\n    var appliedPattern = applied.pattern;\n    var appliedFlags = (0, _flags[\"default\"])(applied); // Use XRegExp's tokens to translate the pattern to a native regex pattern.\n    // `appliedPattern.length` may change on each iteration if tokens use `reparse`\n\n    while (pos < appliedPattern.length) {\n      do {\n        // Check for custom tokens at the current position\n        result = runTokens(appliedPattern, appliedFlags, pos, scope, context); // If the matched token used the `reparse` option, splice its output into the\n        // pattern before running tokens again at the same position\n\n        if (result && result.reparse) {\n          appliedPattern = (0, _slice[\"default\"])(appliedPattern).call(appliedPattern, 0, pos) + result.output + (0, _slice[\"default\"])(appliedPattern).call(appliedPattern, pos + result.matchLength);\n        }\n      } while (result && result.reparse);\n\n      if (result) {\n        output += result.output;\n        pos += result.matchLength || 1;\n      } else {\n        // Get the native token at the current position\n        var _XRegExp$exec = XRegExp.exec(appliedPattern, nativeTokens[scope], pos, 'sticky'),\n            _XRegExp$exec2 = (0, _slicedToArray2[\"default\"])(_XRegExp$exec, 1),\n            token = _XRegExp$exec2[0];\n\n        output += token;\n        pos += token.length;\n\n        if (token === '[' && scope === defaultScope) {\n          scope = classScope;\n        } else if (token === ']' && scope === classScope) {\n          scope = defaultScope;\n        }\n      }\n    }\n\n    patternCache[pattern][flags] = {\n      // Use basic cleanup to collapse repeated empty groups like `(?:)(?:)` to `(?:)`. Empty\n      // groups are sometimes inserted during regex transpilation in order to keep tokens\n      // separated. However, more than one empty group in a row is never needed.\n      pattern: nativ.replace.call(output, /(?:\\(\\?:\\))+/g, '(?:)'),\n      // Strip all but native flags\n      flags: nativ.replace.call(appliedFlags, /[^gimuy]+/g, ''),\n      // `context.captureNames` has an item for each capturing group, even if unnamed\n      captures: context.hasNamedCapture ? context.captureNames : null\n    };\n  }\n\n  var generated = patternCache[pattern][flags];\n  return augment(new RegExp(generated.pattern, (0, _flags[\"default\"])(generated)), generated.captures, pattern, flags);\n} // Add `RegExp.prototype` to the prototype chain\n\n\nXRegExp.prototype = /(?:)/; // ==--------------------------==\n// Public properties\n// ==--------------------------==\n\n/**\n * The XRegExp version number as a string containing three dot-separated parts. For example,\n * '2.0.0-beta-3'.\n *\n * @static\n * @memberOf XRegExp\n * @type String\n */\n\nXRegExp.version = '4.4.1'; // ==--------------------------==\n// Public methods\n// ==--------------------------==\n// Intentionally undocumented; used in tests and addons\n\nXRegExp._clipDuplicates = clipDuplicates;\nXRegExp._hasNativeFlag = hasNativeFlag;\nXRegExp._dec = dec;\nXRegExp._hex = hex;\nXRegExp._pad4 = pad4;\n/**\n * Extends XRegExp syntax and allows custom flags. This is used internally and can be used to\n * create XRegExp addons. If more than one token can match the same string, the last added wins.\n *\n * @memberOf XRegExp\n * @param {RegExp} regex Regex object that matches the new token.\n * @param {Function} handler Function that returns a new pattern string (using native regex syntax)\n *   to replace the matched token within all future XRegExp regexes. Has access to persistent\n *   properties of the regex being built, through `this`. Invoked with three arguments:\n *   - The match array, with named backreference properties.\n *   - The regex scope where the match was found: 'default' or 'class'.\n *   - The flags used by the regex, including any flags in a leading mode modifier.\n *   The handler function becomes part of the XRegExp construction process, so be careful not to\n *   construct XRegExps within the function or you will trigger infinite recursion.\n * @param {Object} [options] Options object with optional properties:\n *   - `scope` {String} Scope where the token applies: 'default', 'class', or 'all'.\n *   - `flag` {String} Single-character flag that triggers the token. This also registers the\n *     flag, which prevents XRegExp from throwing an 'unknown flag' error when the flag is used.\n *   - `optionalFlags` {String} Any custom flags checked for within the token `handler` that are\n *     not required to trigger the token. This registers the flags, to prevent XRegExp from\n *     throwing an 'unknown flag' error when any of the flags are used.\n *   - `reparse` {Boolean} Whether the `handler` function's output should not be treated as\n *     final, and instead be reparseable by other tokens (including the current token). Allows\n *     token chaining or deferring.\n *   - `leadChar` {String} Single character that occurs at the beginning of any successful match\n *     of the token (not always applicable). This doesn't change the behavior of the token unless\n *     you provide an erroneous value. However, providing it can increase the token's performance\n *     since the token can be skipped at any positions where this character doesn't appear.\n * @example\n *\n * // Basic usage: Add \\a for the ALERT control code\n * XRegExp.addToken(\n *   /\\\\a/,\n *   () => '\\\\x07',\n *   {scope: 'all'}\n * );\n * XRegExp('\\\\a[\\\\a-\\\\n]+').test('\\x07\\n\\x07'); // -> true\n *\n * // Add the U (ungreedy) flag from PCRE and RE2, which reverses greedy and lazy quantifiers.\n * // Since `scope` is not specified, it uses 'default' (i.e., transformations apply outside of\n * // character classes only)\n * XRegExp.addToken(\n *   /([?*+]|{\\d+(?:,\\d*)?})(\\??)/,\n *   (match) => `${match[1]}${match[2] ? '' : '?'}`,\n *   {flag: 'U'}\n * );\n * XRegExp('a+', 'U').exec('aaa')[0]; // -> 'a'\n * XRegExp('a+?', 'U').exec('aaa')[0]; // -> 'aaa'\n */\n\nXRegExp.addToken = function (regex, handler, options) {\n  options = options || {};\n  var _options = options,\n      optionalFlags = _options.optionalFlags;\n\n  if (options.flag) {\n    registerFlag(options.flag);\n  }\n\n  if (optionalFlags) {\n    optionalFlags = nativ.split.call(optionalFlags, '');\n\n    var _iterator2 = _createForOfIteratorHelper(optionalFlags),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var flag = _step2.value;\n        registerFlag(flag);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  } // Add to the private list of syntax tokens\n\n\n  tokens.push({\n    regex: copyRegex(regex, {\n      addG: true,\n      addY: hasNativeY,\n      isInternalOnly: true\n    }),\n    handler: handler,\n    scope: options.scope || defaultScope,\n    flag: options.flag,\n    reparse: options.reparse,\n    leadChar: options.leadChar\n  }); // Reset the pattern cache used by the `XRegExp` constructor, since the same pattern and flags\n  // might now produce different results\n\n  XRegExp.cache.flush('patterns');\n};\n/**\n * Caches and returns the result of calling `XRegExp(pattern, flags)`. On any subsequent call with\n * the same pattern and flag combination, the cached copy of the regex is returned.\n *\n * @memberOf XRegExp\n * @param {String} pattern Regex pattern string.\n * @param {String} [flags] Any combination of XRegExp flags.\n * @returns {RegExp} Cached XRegExp object.\n * @example\n *\n * while (match = XRegExp.cache('.', 'gs').exec(str)) {\n *   // The regex is compiled once only\n * }\n */\n\n\nXRegExp.cache = function (pattern, flags) {\n  if (!regexCache[pattern]) {\n    regexCache[pattern] = {};\n  }\n\n  return regexCache[pattern][flags] || (regexCache[pattern][flags] = XRegExp(pattern, flags));\n}; // Intentionally undocumented; used in tests\n\n\nXRegExp.cache.flush = function (cacheName) {\n  if (cacheName === 'patterns') {\n    // Flush the pattern cache used by the `XRegExp` constructor\n    patternCache = {};\n  } else {\n    // Flush the regex cache populated by `XRegExp.cache`\n    regexCache = {};\n  }\n};\n/**\n * Escapes any regular expression metacharacters, for use when matching literal strings. The result\n * can safely be used at any point within a regex that uses any flags.\n *\n * @memberOf XRegExp\n * @param {String} str String to escape.\n * @returns {string} String with regex metacharacters escaped.\n * @example\n *\n * XRegExp.escape('Escaped? <.>');\n * // -> 'Escaped\\?\\ <\\.>'\n */\n\n\nXRegExp.escape = function (str) {\n  return nativ.replace.call(toObject(str), /[-\\[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n};\n/**\n * Executes a regex search in a specified string. Returns a match array or `null`. If the provided\n * regex uses named capture, named backreference properties are included on the match array.\n * Optional `pos` and `sticky` arguments specify the search start position, and whether the match\n * must start at the specified position only. The `lastIndex` property of the provided regex is not\n * used, but is updated for compatibility. Also fixes browser bugs compared to the native\n * `RegExp.prototype.exec` and can be used reliably cross-browser.\n *\n * @memberOf XRegExp\n * @param {String} str String to search.\n * @param {RegExp} regex Regex to search with.\n * @param {Number} [pos=0] Zero-based index at which to start the search.\n * @param {Boolean|String} [sticky=false] Whether the match must start at the specified position\n *   only. The string `'sticky'` is accepted as an alternative to `true`.\n * @returns {Array} Match array with named backreference properties, or `null`.\n * @example\n *\n * // Basic use, with named backreference\n * let match = XRegExp.exec('U+2620', XRegExp('U\\\\+(?<hex>[0-9A-F]{4})'));\n * match.hex; // -> '2620'\n *\n * // With pos and sticky, in a loop\n * let pos = 2, result = [], match;\n * while (match = XRegExp.exec('<1><2><3><4>5<6>', /<(\\d)>/, pos, 'sticky')) {\n *   result.push(match[1]);\n *   pos = match.index + match[0].length;\n * }\n * // result -> ['2', '3', '4']\n */\n\n\nXRegExp.exec = function (str, regex, pos, sticky) {\n  var cacheKey = 'g';\n  var addY = false;\n  var fakeY = false;\n  var match;\n  addY = hasNativeY && !!(sticky || regex.sticky && sticky !== false);\n\n  if (addY) {\n    cacheKey += 'y';\n  } else if (sticky) {\n    // Simulate sticky matching by appending an empty capture to the original regex. The\n    // resulting regex will succeed no matter what at the current index (set with `lastIndex`),\n    // and will not search the rest of the subject string. We'll know that the original regex\n    // has failed if that last capture is `''` rather than `undefined` (i.e., if that last\n    // capture participated in the match).\n    fakeY = true;\n    cacheKey += 'FakeY';\n  }\n\n  regex[REGEX_DATA] = regex[REGEX_DATA] || {}; // Shares cached copies with `XRegExp.match`/`replace`\n\n  var r2 = regex[REGEX_DATA][cacheKey] || (regex[REGEX_DATA][cacheKey] = copyRegex(regex, {\n    addG: true,\n    addY: addY,\n    source: fakeY ? \"\".concat(regex.source, \"|()\") : undefined,\n    removeY: sticky === false,\n    isInternalOnly: true\n  }));\n  pos = pos || 0;\n  r2.lastIndex = pos; // Fixed `exec` required for `lastIndex` fix, named backreferences, etc.\n\n  match = fixed.exec.call(r2, str); // Get rid of the capture added by the pseudo-sticky matcher if needed. An empty string means\n  // the original regexp failed (see above).\n\n  if (fakeY && match && match.pop() === '') {\n    match = null;\n  }\n\n  if (regex.global) {\n    regex.lastIndex = match ? r2.lastIndex : 0;\n  }\n\n  return match;\n};\n/**\n * Executes a provided function once per regex match. Searches always start at the beginning of the\n * string and continue until the end, regardless of the state of the regex's `global` property and\n * initial `lastIndex`.\n *\n * @memberOf XRegExp\n * @param {String} str String to search.\n * @param {RegExp} regex Regex to search with.\n * @param {Function} callback Function to execute for each match. Invoked with four arguments:\n *   - The match array, with named backreference properties.\n *   - The zero-based match index.\n *   - The string being traversed.\n *   - The regex object being used to traverse the string.\n * @example\n *\n * // Extracts every other digit from a string\n * const evens = [];\n * XRegExp.forEach('1a2345', /\\d/, (match, i) => {\n *   if (i % 2) evens.push(+match[0]);\n * });\n * // evens -> [2, 4]\n */\n\n\nXRegExp.forEach = function (str, regex, callback) {\n  var pos = 0;\n  var i = -1;\n  var match;\n\n  while (match = XRegExp.exec(str, regex, pos)) {\n    // Because `regex` is provided to `callback`, the function could use the deprecated/\n    // nonstandard `RegExp.prototype.compile` to mutate the regex. However, since `XRegExp.exec`\n    // doesn't use `lastIndex` to set the search position, this can't lead to an infinite loop,\n    // at least. Actually, because of the way `XRegExp.exec` caches globalized versions of\n    // regexes, mutating the regex will not have any effect on the iteration or matched strings,\n    // which is a nice side effect that brings extra safety.\n    callback(match, ++i, str, regex);\n    pos = match.index + (match[0].length || 1);\n  }\n};\n/**\n * Copies a regex object and adds flag `g`. The copy maintains extended data, is augmented with\n * `XRegExp.prototype` properties, and has a fresh `lastIndex` property (set to zero). Native\n * regexes are not recompiled using XRegExp syntax.\n *\n * @memberOf XRegExp\n * @param {RegExp} regex Regex to globalize.\n * @returns {RegExp} Copy of the provided regex with flag `g` added.\n * @example\n *\n * const globalCopy = XRegExp.globalize(/regex/);\n * globalCopy.global; // -> true\n */\n\n\nXRegExp.globalize = function (regex) {\n  return copyRegex(regex, {\n    addG: true\n  });\n};\n/**\n * Installs optional features according to the specified options. Can be undone using\n * `XRegExp.uninstall`.\n *\n * @memberOf XRegExp\n * @param {Object|String} options Options object or string.\n * @example\n *\n * // With an options object\n * XRegExp.install({\n *   // Enables support for astral code points in Unicode addons (implicitly sets flag A)\n *   astral: true,\n *\n *   // Adds named capture groups to the `groups` property of matches\n *   namespacing: true\n * });\n *\n * // With an options string\n * XRegExp.install('astral namespacing');\n */\n\n\nXRegExp.install = function (options) {\n  options = prepareOptions(options);\n\n  if (!features.astral && options.astral) {\n    setAstral(true);\n  }\n\n  if (!features.namespacing && options.namespacing) {\n    setNamespacing(true);\n  }\n};\n/**\n * Checks whether an individual optional feature is installed.\n *\n * @memberOf XRegExp\n * @param {String} feature Name of the feature to check. One of:\n *   - `astral`\n *   - `namespacing`\n * @returns {boolean} Whether the feature is installed.\n * @example\n *\n * XRegExp.isInstalled('astral');\n */\n\n\nXRegExp.isInstalled = function (feature) {\n  return !!features[feature];\n};\n/**\n * Returns `true` if an object is a regex; `false` if it isn't. This works correctly for regexes\n * created in another frame, when `instanceof` and `constructor` checks would fail.\n *\n * @memberOf XRegExp\n * @param {*} value Object to check.\n * @returns {boolean} Whether the object is a `RegExp` object.\n * @example\n *\n * XRegExp.isRegExp('string'); // -> false\n * XRegExp.isRegExp(/regex/i); // -> true\n * XRegExp.isRegExp(RegExp('^', 'm')); // -> true\n * XRegExp.isRegExp(XRegExp('(?s).')); // -> true\n */\n\n\nXRegExp.isRegExp = function (value) {\n  return toString.call(value) === '[object RegExp]';\n}; // isType(value, 'RegExp');\n\n/**\n * Returns the first matched string, or in global mode, an array containing all matched strings.\n * This is essentially a more convenient re-implementation of `String.prototype.match` that gives\n * the result types you actually want (string instead of `exec`-style array in match-first mode,\n * and an empty array instead of `null` when no matches are found in match-all mode). It also lets\n * you override flag g and ignore `lastIndex`, and fixes browser bugs.\n *\n * @memberOf XRegExp\n * @param {String} str String to search.\n * @param {RegExp} regex Regex to search with.\n * @param {String} [scope='one'] Use 'one' to return the first match as a string. Use 'all' to\n *   return an array of all matched strings. If not explicitly specified and `regex` uses flag g,\n *   `scope` is 'all'.\n * @returns {String|Array} In match-first mode: First match as a string, or `null`. In match-all\n *   mode: Array of all matched strings, or an empty array.\n * @example\n *\n * // Match first\n * XRegExp.match('abc', /\\w/); // -> 'a'\n * XRegExp.match('abc', /\\w/g, 'one'); // -> 'a'\n * XRegExp.match('abc', /x/g, 'one'); // -> null\n *\n * // Match all\n * XRegExp.match('abc', /\\w/g); // -> ['a', 'b', 'c']\n * XRegExp.match('abc', /\\w/, 'all'); // -> ['a', 'b', 'c']\n * XRegExp.match('abc', /x/, 'all'); // -> []\n */\n\n\nXRegExp.match = function (str, regex, scope) {\n  var global = regex.global && scope !== 'one' || scope === 'all';\n  var cacheKey = (global ? 'g' : '') + (regex.sticky ? 'y' : '') || 'noGY';\n  regex[REGEX_DATA] = regex[REGEX_DATA] || {}; // Shares cached copies with `XRegExp.exec`/`replace`\n\n  var r2 = regex[REGEX_DATA][cacheKey] || (regex[REGEX_DATA][cacheKey] = copyRegex(regex, {\n    addG: !!global,\n    removeG: scope === 'one',\n    isInternalOnly: true\n  }));\n  var result = nativ.match.call(toObject(str), r2);\n\n  if (regex.global) {\n    regex.lastIndex = scope === 'one' && result ? // Can't use `r2.lastIndex` since `r2` is nonglobal in this case\n    result.index + result[0].length : 0;\n  }\n\n  return global ? result || [] : result && result[0];\n};\n/**\n * Retrieves the matches from searching a string using a chain of regexes that successively search\n * within previous matches. The provided `chain` array can contain regexes and or objects with\n * `regex` and `backref` properties. When a backreference is specified, the named or numbered\n * backreference is passed forward to the next regex or returned.\n *\n * @memberOf XRegExp\n * @param {String} str String to search.\n * @param {Array} chain Regexes that each search for matches within preceding results.\n * @returns {Array} Matches by the last regex in the chain, or an empty array.\n * @example\n *\n * // Basic usage; matches numbers within <b> tags\n * XRegExp.matchChain('1 <b>2</b> 3 <b>4 a 56</b>', [\n *   XRegExp('(?is)<b>.*?</b>'),\n *   /\\d+/\n * ]);\n * // -> ['2', '4', '56']\n *\n * // Passing forward and returning specific backreferences\n * html = '<a href=\"http://xregexp.com/api/\">XRegExp</a>\\\n *         <a href=\"http://www.google.com/\">Google</a>';\n * XRegExp.matchChain(html, [\n *   {regex: /<a href=\"([^\"]+)\">/i, backref: 1},\n *   {regex: XRegExp('(?i)^https?://(?<domain>[^/?#]+)'), backref: 'domain'}\n * ]);\n * // -> ['xregexp.com', 'www.google.com']\n */\n\n\nXRegExp.matchChain = function (str, chain) {\n  return function recurseChain(values, level) {\n    var item = chain[level].regex ? chain[level] : {\n      regex: chain[level]\n    };\n    var matches = [];\n\n    function addMatch(match) {\n      if (item.backref) {\n        var ERR_UNDEFINED_GROUP = \"Backreference to undefined group: \".concat(item.backref);\n        var isNamedBackref = isNaN(item.backref);\n\n        if (isNamedBackref && XRegExp.isInstalled('namespacing')) {\n          // `groups` has `null` as prototype, so using `in` instead of `hasOwnProperty`\n          if (!(item.backref in match.groups)) {\n            throw new ReferenceError(ERR_UNDEFINED_GROUP);\n          }\n        } else if (!match.hasOwnProperty(item.backref)) {\n          throw new ReferenceError(ERR_UNDEFINED_GROUP);\n        }\n\n        var backrefValue = isNamedBackref && XRegExp.isInstalled('namespacing') ? match.groups[item.backref] : match[item.backref];\n        matches.push(backrefValue || '');\n      } else {\n        matches.push(match[0]);\n      }\n    }\n\n    var _iterator3 = _createForOfIteratorHelper(values),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var value = _step3.value;\n        (0, _forEach[\"default\"])(XRegExp).call(XRegExp, value, item.regex, addMatch);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    return level === chain.length - 1 || !matches.length ? matches : recurseChain(matches, level + 1);\n  }([str], 0);\n};\n/**\n * Returns a new string with one or all matches of a pattern replaced. The pattern can be a string\n * or regex, and the replacement can be a string or a function to be called for each match. To\n * perform a global search and replace, use the optional `scope` argument or include flag g if using\n * a regex. Replacement strings can use `${n}` or `$<n>` for named and numbered backreferences.\n * Replacement functions can use named backreferences via `arguments[0].name`. Also fixes browser\n * bugs compared to the native `String.prototype.replace` and can be used reliably cross-browser.\n *\n * @memberOf XRegExp\n * @param {String} str String to search.\n * @param {RegExp|String} search Search pattern to be replaced.\n * @param {String|Function} replacement Replacement string or a function invoked to create it.\n *   Replacement strings can include special replacement syntax:\n *     - $$ - Inserts a literal $ character.\n *     - $&, $0 - Inserts the matched substring.\n *     - $` - Inserts the string that precedes the matched substring (left context).\n *     - $' - Inserts the string that follows the matched substring (right context).\n *     - $n, $nn - Where n/nn are digits referencing an existent capturing group, inserts\n *       backreference n/nn.\n *     - ${n}, $<n> - Where n is a name or any number of digits that reference an existent capturing\n *       group, inserts backreference n.\n *   Replacement functions are invoked with three or more arguments:\n *     - The matched substring (corresponds to $& above). Named backreferences are accessible as\n *       properties of this first argument.\n *     - 0..n arguments, one for each backreference (corresponding to $1, $2, etc. above).\n *     - The zero-based index of the match within the total search string.\n *     - The total string being searched.\n * @param {String} [scope='one'] Use 'one' to replace the first match only, or 'all'. If not\n *   explicitly specified and using a regex with flag g, `scope` is 'all'.\n * @returns {String} New string with one or all matches replaced.\n * @example\n *\n * // Regex search, using named backreferences in replacement string\n * const name = XRegExp('(?<first>\\\\w+) (?<last>\\\\w+)');\n * XRegExp.replace('John Smith', name, '$<last>, $<first>');\n * // -> 'Smith, John'\n *\n * // Regex search, using named backreferences in replacement function\n * XRegExp.replace('John Smith', name, (match) => `${match.last}, ${match.first}`);\n * // -> 'Smith, John'\n *\n * // String search, with replace-all\n * XRegExp.replace('RegExp builds RegExps', 'RegExp', 'XRegExp', 'all');\n * // -> 'XRegExp builds XRegExps'\n */\n\n\nXRegExp.replace = function (str, search, replacement, scope) {\n  var isRegex = XRegExp.isRegExp(search);\n  var global = search.global && scope !== 'one' || scope === 'all';\n  var cacheKey = (global ? 'g' : '') + (search.sticky ? 'y' : '') || 'noGY';\n  var s2 = search;\n\n  if (isRegex) {\n    search[REGEX_DATA] = search[REGEX_DATA] || {}; // Shares cached copies with `XRegExp.exec`/`match`. Since a copy is used, `search`'s\n    // `lastIndex` isn't updated *during* replacement iterations\n\n    s2 = search[REGEX_DATA][cacheKey] || (search[REGEX_DATA][cacheKey] = copyRegex(search, {\n      addG: !!global,\n      removeG: scope === 'one',\n      isInternalOnly: true\n    }));\n  } else if (global) {\n    s2 = new RegExp(XRegExp.escape(String(search)), 'g');\n  } // Fixed `replace` required for named backreferences, etc.\n\n\n  var result = fixed.replace.call(toObject(str), s2, replacement);\n\n  if (isRegex && search.global) {\n    // Fixes IE, Safari bug (last tested IE 9, Safari 5.1)\n    search.lastIndex = 0;\n  }\n\n  return result;\n};\n/**\n * Performs batch processing of string replacements. Used like `XRegExp.replace`, but accepts an\n * array of replacement details. Later replacements operate on the output of earlier replacements.\n * Replacement details are accepted as an array with a regex or string to search for, the\n * replacement string or function, and an optional scope of 'one' or 'all'. Uses the XRegExp\n * replacement text syntax, which supports named backreference properties via `${name}` or\n * `$<name>`.\n *\n * @memberOf XRegExp\n * @param {String} str String to search.\n * @param {Array} replacements Array of replacement detail arrays.\n * @returns {String} New string with all replacements.\n * @example\n *\n * str = XRegExp.replaceEach(str, [\n *   [XRegExp('(?<name>a)'), 'z${name}'],\n *   [/b/gi, 'y'],\n *   [/c/g, 'x', 'one'], // scope 'one' overrides /g\n *   [/d/, 'w', 'all'],  // scope 'all' overrides lack of /g\n *   ['e', 'v', 'all'],  // scope 'all' allows replace-all for strings\n *   [/f/g, ($0) => $0.toUpperCase()]\n * ]);\n */\n\n\nXRegExp.replaceEach = function (str, replacements) {\n  var _iterator4 = _createForOfIteratorHelper(replacements),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var r = _step4.value;\n      str = XRegExp.replace(str, r[0], r[1], r[2]);\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  return str;\n};\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n *\n * @memberOf XRegExp\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * XRegExp.split('a b c', ' ');\n * // -> ['a', 'b', 'c']\n *\n * // With limit\n * XRegExp.split('a b c', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * XRegExp.split('..word1..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', '..']\n */\n\n\nXRegExp.split = function (str, separator, limit) {\n  return fixed.split.call(toObject(str), separator, limit);\n};\n/**\n * Executes a regex search in a specified string. Returns `true` or `false`. Optional `pos` and\n * `sticky` arguments specify the search start position, and whether the match must start at the\n * specified position only. The `lastIndex` property of the provided regex is not used, but is\n * updated for compatibility. Also fixes browser bugs compared to the native\n * `RegExp.prototype.test` and can be used reliably cross-browser.\n *\n * @memberOf XRegExp\n * @param {String} str String to search.\n * @param {RegExp} regex Regex to search with.\n * @param {Number} [pos=0] Zero-based index at which to start the search.\n * @param {Boolean|String} [sticky=false] Whether the match must start at the specified position\n *   only. The string `'sticky'` is accepted as an alternative to `true`.\n * @returns {boolean} Whether the regex matched the provided value.\n * @example\n *\n * // Basic use\n * XRegExp.test('abc', /c/); // -> true\n *\n * // With pos and sticky\n * XRegExp.test('abc', /c/, 0, 'sticky'); // -> false\n * XRegExp.test('abc', /c/, 2, 'sticky'); // -> true\n */\n// Do this the easy way :-)\n\n\nXRegExp.test = function (str, regex, pos, sticky) {\n  return !!XRegExp.exec(str, regex, pos, sticky);\n};\n/**\n * Uninstalls optional features according to the specified options. All optional features start out\n * uninstalled, so this is used to undo the actions of `XRegExp.install`.\n *\n * @memberOf XRegExp\n * @param {Object|String} options Options object or string.\n * @example\n *\n * // With an options object\n * XRegExp.uninstall({\n *   // Disables support for astral code points in Unicode addons\n *   astral: true,\n *\n *   // Don't add named capture groups to the `groups` property of matches\n *   namespacing: true\n * });\n *\n * // With an options string\n * XRegExp.uninstall('astral namespacing');\n */\n\n\nXRegExp.uninstall = function (options) {\n  options = prepareOptions(options);\n\n  if (features.astral && options.astral) {\n    setAstral(false);\n  }\n\n  if (features.namespacing && options.namespacing) {\n    setNamespacing(false);\n  }\n};\n/**\n * Returns an XRegExp object that is the union of the given patterns. Patterns can be provided as\n * regex objects or strings. Metacharacters are escaped in patterns provided as strings.\n * Backreferences in provided regex objects are automatically renumbered to work correctly within\n * the larger combined pattern. Native flags used by provided regexes are ignored in favor of the\n * `flags` argument.\n *\n * @memberOf XRegExp\n * @param {Array} patterns Regexes and strings to combine.\n * @param {String} [flags] Any combination of XRegExp flags.\n * @param {Object} [options] Options object with optional properties:\n *   - `conjunction` {String} Type of conjunction to use: 'or' (default) or 'none'.\n * @returns {RegExp} Union of the provided regexes and strings.\n * @example\n *\n * XRegExp.union(['a+b*c', /(dogs)\\1/, /(cats)\\1/], 'i');\n * // -> /a\\+b\\*c|(dogs)\\1|(cats)\\2/i\n *\n * XRegExp.union([/man/, /bear/, /pig/], 'i', {conjunction: 'none'});\n * // -> /manbearpig/i\n */\n\n\nXRegExp.union = function (patterns, flags, options) {\n  options = options || {};\n  var conjunction = options.conjunction || 'or';\n  var numCaptures = 0;\n  var numPriorCaptures;\n  var captureNames;\n\n  function rewrite(match, paren, backref) {\n    var name = captureNames[numCaptures - numPriorCaptures]; // Capturing group\n\n    if (paren) {\n      ++numCaptures; // If the current capture has a name, preserve the name\n\n      if (name) {\n        return \"(?<\".concat(name, \">\");\n      } // Backreference\n\n    } else if (backref) {\n      // Rewrite the backreference\n      return \"\\\\\".concat(+backref + numPriorCaptures);\n    }\n\n    return match;\n  }\n\n  if (!(isType(patterns, 'Array') && patterns.length)) {\n    throw new TypeError('Must provide a nonempty array of patterns to merge');\n  }\n\n  var parts = /(\\()(?!\\?)|\\\\([1-9]\\d*)|\\\\[\\s\\S]|\\[(?:[^\\\\\\]]|\\\\[\\s\\S])*\\]/g;\n  var output = [];\n\n  var _iterator5 = _createForOfIteratorHelper(patterns),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var pattern = _step5.value;\n\n      if (XRegExp.isRegExp(pattern)) {\n        numPriorCaptures = numCaptures;\n        captureNames = pattern[REGEX_DATA] && pattern[REGEX_DATA].captureNames || []; // Rewrite backreferences. Passing to XRegExp dies on octals and ensures patterns are\n        // independently valid; helps keep this simple. Named captures are put back\n\n        output.push(nativ.replace.call(XRegExp(pattern.source).source, parts, rewrite));\n      } else {\n        output.push(XRegExp.escape(pattern));\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  var separator = conjunction === 'none' ? '' : '|';\n  return XRegExp(output.join(separator), flags);\n}; // ==--------------------------==\n// Fixed/extended native methods\n// ==--------------------------==\n\n/**\n * Adds named capture support (with backreferences returned as `result.name`), and fixes browser\n * bugs in the native `RegExp.prototype.exec`. Use via `XRegExp.exec`.\n *\n * @memberOf RegExp\n * @param {String} str String to search.\n * @returns {Array} Match array with named backreference properties, or `null`.\n */\n\n\nfixed.exec = function (str) {\n  var origLastIndex = this.lastIndex;\n  var match = nativ.exec.apply(this, arguments);\n\n  if (match) {\n    // Fix browsers whose `exec` methods don't return `undefined` for nonparticipating capturing\n    // groups. This fixes IE 5.5-8, but not IE 9's quirks mode or emulation of older IEs. IE 9\n    // in standards mode follows the spec.\n    if (!correctExecNpcg && match.length > 1 && (0, _includes[\"default\"])(match).call(match, '')) {\n      var _context3;\n\n      var r2 = copyRegex(this, {\n        removeG: true,\n        isInternalOnly: true\n      }); // Using `str.slice(match.index)` rather than `match[0]` in case lookahead allowed\n      // matching due to characters outside the match\n\n      nativ.replace.call((0, _slice[\"default\"])(_context3 = String(str)).call(_context3, match.index), r2, function () {\n        var len = arguments.length; // Skip index 0 and the last 2\n\n        for (var i = 1; i < len - 2; ++i) {\n          if ((i < 0 || arguments.length <= i ? undefined : arguments[i]) === undefined) {\n            match[i] = undefined;\n          }\n        }\n      });\n    } // Attach named capture properties\n\n\n    var groupsObject = match;\n\n    if (XRegExp.isInstalled('namespacing')) {\n      // https://tc39.github.io/proposal-regexp-named-groups/#sec-regexpbuiltinexec\n      match.groups = (0, _create[\"default\"])(null);\n      groupsObject = match.groups;\n    }\n\n    if (this[REGEX_DATA] && this[REGEX_DATA].captureNames) {\n      // Skip index 0\n      for (var i = 1; i < match.length; ++i) {\n        var name = this[REGEX_DATA].captureNames[i - 1];\n\n        if (name) {\n          groupsObject[name] = match[i];\n        }\n      }\n    } // Fix browsers that increment `lastIndex` after zero-length matches\n\n\n    if (this.global && !match[0].length && this.lastIndex > match.index) {\n      this.lastIndex = match.index;\n    }\n  }\n\n  if (!this.global) {\n    // Fixes IE, Opera bug (last tested IE 9, Opera 11.6)\n    this.lastIndex = origLastIndex;\n  }\n\n  return match;\n};\n/**\n * Fixes browser bugs in the native `RegExp.prototype.test`.\n *\n * @memberOf RegExp\n * @param {String} str String to search.\n * @returns {boolean} Whether the regex matched the provided value.\n */\n\n\nfixed.test = function (str) {\n  // Do this the easy way :-)\n  return !!fixed.exec.call(this, str);\n};\n/**\n * Adds named capture support (with backreferences returned as `result.name`), and fixes browser\n * bugs in the native `String.prototype.match`.\n *\n * @memberOf String\n * @param {RegExp|*} regex Regex to search with. If not a regex object, it is passed to `RegExp`.\n * @returns {Array} If `regex` uses flag g, an array of match strings or `null`. Without flag g,\n *   the result of calling `regex.exec(this)`.\n */\n\n\nfixed.match = function (regex) {\n  if (!XRegExp.isRegExp(regex)) {\n    // Use the native `RegExp` rather than `XRegExp`\n    regex = new RegExp(regex);\n  } else if (regex.global) {\n    var result = nativ.match.apply(this, arguments); // Fixes IE bug\n\n    regex.lastIndex = 0;\n    return result;\n  }\n\n  return fixed.exec.call(regex, toObject(this));\n};\n/**\n * Adds support for `${n}` (or `$<n>`) tokens for named and numbered backreferences in replacement\n * text, and provides named backreferences to replacement functions as `arguments[0].name`. Also\n * fixes browser bugs in replacement text syntax when performing a replacement using a nonregex\n * search value, and the value of a replacement regex's `lastIndex` property during replacement\n * iterations and upon completion. Note that this doesn't support SpiderMonkey's proprietary third\n * (`flags`) argument. Use via `XRegExp.replace`.\n *\n * @memberOf String\n * @param {RegExp|String} search Search pattern to be replaced.\n * @param {String|Function} replacement Replacement string or a function invoked to create it.\n * @returns {string} New string with one or all matches replaced.\n */\n\n\nfixed.replace = function (search, replacement) {\n  var isRegex = XRegExp.isRegExp(search);\n  var origLastIndex;\n  var captureNames;\n  var result;\n\n  if (isRegex) {\n    if (search[REGEX_DATA]) {\n      captureNames = search[REGEX_DATA].captureNames;\n    } // Only needed if `search` is nonglobal\n\n\n    origLastIndex = search.lastIndex;\n  } else {\n    search += ''; // Type-convert\n  } // Don't use `typeof`; some older browsers return 'function' for regex objects\n\n\n  if (isType(replacement, 'Function')) {\n    // Stringifying `this` fixes a bug in IE < 9 where the last argument in replacement\n    // functions isn't type-converted to a string\n    result = nativ.replace.call(String(this), search, function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (captureNames) {\n        var groupsObject;\n\n        if (XRegExp.isInstalled('namespacing')) {\n          // https://tc39.github.io/proposal-regexp-named-groups/#sec-regexpbuiltinexec\n          groupsObject = (0, _create[\"default\"])(null);\n          args.push(groupsObject);\n        } else {\n          // Change the `args[0]` string primitive to a `String` object that can store\n          // properties. This really does need to use `String` as a constructor\n          args[0] = new String(args[0]);\n          groupsObject = args[0];\n        } // Store named backreferences\n\n\n        for (var i = 0; i < captureNames.length; ++i) {\n          if (captureNames[i]) {\n            groupsObject[captureNames[i]] = args[i + 1];\n          }\n        }\n      } // ES6 specs the context for replacement functions as `undefined`\n\n\n      return replacement.apply(void 0, args);\n    });\n  } else {\n    // Ensure that the last value of `args` will be a string when given nonstring `this`,\n    // while still throwing on null or undefined context\n    result = nativ.replace.call(this == null ? this : String(this), search, function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return nativ.replace.call(String(replacement), replacementToken, replacer);\n\n      function replacer($0, bracketed, angled, dollarToken) {\n        bracketed = bracketed || angled; // Named or numbered backreference with curly or angled braces\n\n        if (bracketed) {\n          // XRegExp behavior for `${n}` or `$<n>`:\n          // 1. Backreference to numbered capture, if `n` is an integer. Use `0` for the\n          //    entire match. Any number of leading zeros may be used.\n          // 2. Backreference to named capture `n`, if it exists and is not an integer\n          //    overridden by numbered capture. In practice, this does not overlap with\n          //    numbered capture since XRegExp does not allow named capture to use a bare\n          //    integer as the name.\n          // 3. If the name or number does not refer to an existing capturing group, it's\n          //    an error.\n          var n = +bracketed; // Type-convert; drop leading zeros\n\n          if (n <= args.length - 3) {\n            return args[n] || '';\n          } // Groups with the same name is an error, else would need `lastIndexOf`\n\n\n          n = captureNames ? (0, _indexOf[\"default\"])(captureNames).call(captureNames, bracketed) : -1;\n\n          if (n < 0) {\n            throw new SyntaxError(\"Backreference to undefined group \".concat($0));\n          }\n\n          return args[n + 1] || '';\n        } // Else, special variable or numbered backreference without curly braces\n\n\n        if (dollarToken === '$') {\n          // $$\n          return '$';\n        }\n\n        if (dollarToken === '&' || +dollarToken === 0) {\n          // $&, $0 (not followed by 1-9), $00\n          return args[0];\n        }\n\n        if (dollarToken === '`') {\n          var _context4;\n\n          // $` (left context)\n          return (0, _slice[\"default\"])(_context4 = args[args.length - 1]).call(_context4, 0, args[args.length - 2]);\n        }\n\n        if (dollarToken === \"'\") {\n          var _context5;\n\n          // $' (right context)\n          return (0, _slice[\"default\"])(_context5 = args[args.length - 1]).call(_context5, args[args.length - 2] + args[0].length);\n        } // Else, numbered backreference without braces\n\n\n        dollarToken = +dollarToken; // Type-convert; drop leading zero\n        // XRegExp behavior for `$n` and `$nn`:\n        // - Backrefs end after 1 or 2 digits. Use `${..}` or `$<..>` for more digits.\n        // - `$1` is an error if no capturing groups.\n        // - `$10` is an error if less than 10 capturing groups. Use `${1}0` or `$<1>0`\n        //   instead.\n        // - `$01` is `$1` if at least one capturing group, else it's an error.\n        // - `$0` (not followed by 1-9) and `$00` are the entire match.\n        // Native behavior, for comparison:\n        // - Backrefs end after 1 or 2 digits. Cannot reference capturing group 100+.\n        // - `$1` is a literal `$1` if no capturing groups.\n        // - `$10` is `$1` followed by a literal `0` if less than 10 capturing groups.\n        // - `$01` is `$1` if at least one capturing group, else it's a literal `$01`.\n        // - `$0` is a literal `$0`.\n\n        if (!isNaN(dollarToken)) {\n          if (dollarToken > args.length - 3) {\n            throw new SyntaxError(\"Backreference to undefined group \".concat($0));\n          }\n\n          return args[dollarToken] || '';\n        } // `$` followed by an unsupported char is an error, unlike native JS\n\n\n        throw new SyntaxError(\"Invalid token \".concat($0));\n      }\n    });\n  }\n\n  if (isRegex) {\n    if (search.global) {\n      // Fixes IE, Safari bug (last tested IE 9, Safari 5.1)\n      search.lastIndex = 0;\n    } else {\n      // Fixes IE, Opera bug (last tested IE 9, Opera 11.6)\n      search.lastIndex = origLastIndex;\n    }\n  }\n\n  return result;\n};\n/**\n * Fixes browser bugs in the native `String.prototype.split`. Use via `XRegExp.split`.\n *\n * @memberOf String\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {!Array} Array of substrings.\n */\n\n\nfixed.split = function (separator, limit) {\n  if (!XRegExp.isRegExp(separator)) {\n    // Browsers handle nonregex split correctly, so use the faster native method\n    return nativ.split.apply(this, arguments);\n  }\n\n  var str = String(this);\n  var output = [];\n  var origLastIndex = separator.lastIndex;\n  var lastLastIndex = 0;\n  var lastLength; // Values for `limit`, per the spec:\n  // If undefined: pow(2,32) - 1\n  // If 0, Infinity, or NaN: 0\n  // If positive number: limit = floor(limit); if (limit >= pow(2,32)) limit -= pow(2,32);\n  // If negative number: pow(2,32) - floor(abs(limit))\n  // If other: Type-convert, then use the above rules\n  // This line fails in very strange ways for some values of `limit` in Opera 10.5-10.63, unless\n  // Opera Dragonfly is open (go figure). It works in at least Opera 9.5-10.1 and 11+\n\n  limit = (limit === undefined ? -1 : limit) >>> 0;\n  (0, _forEach[\"default\"])(XRegExp).call(XRegExp, str, separator, function (match) {\n    // This condition is not the same as `if (match[0].length)`\n    if (match.index + match[0].length > lastLastIndex) {\n      output.push((0, _slice[\"default\"])(str).call(str, lastLastIndex, match.index));\n\n      if (match.length > 1 && match.index < str.length) {\n        Array.prototype.push.apply(output, (0, _slice[\"default\"])(match).call(match, 1));\n      }\n\n      lastLength = match[0].length;\n      lastLastIndex = match.index + lastLength;\n    }\n  });\n\n  if (lastLastIndex === str.length) {\n    if (!nativ.test.call(separator, '') || lastLength) {\n      output.push('');\n    }\n  } else {\n    output.push((0, _slice[\"default\"])(str).call(str, lastLastIndex));\n  }\n\n  separator.lastIndex = origLastIndex;\n  return output.length > limit ? (0, _slice[\"default\"])(output).call(output, 0, limit) : output;\n}; // ==--------------------------==\n// Built-in syntax/flag tokens\n// ==--------------------------==\n\n/*\n * Letter escapes that natively match literal characters: `\\a`, `\\A`, etc. These should be\n * SyntaxErrors but are allowed in web reality. XRegExp makes them errors for cross-browser\n * consistency and to reserve their syntax, but lets them be superseded by addons.\n */\n\n\nXRegExp.addToken(/\\\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\\dA-Fa-f]{4}|{[\\dA-Fa-f]+})|x(?![\\dA-Fa-f]{2}))/, function (match, scope) {\n  // \\B is allowed in default scope only\n  if (match[1] === 'B' && scope === defaultScope) {\n    return match[0];\n  }\n\n  throw new SyntaxError(\"Invalid escape \".concat(match[0]));\n}, {\n  scope: 'all',\n  leadChar: '\\\\'\n});\n/*\n * Unicode code point escape with curly braces: `\\u{N..}`. `N..` is any one or more digit\n * hexadecimal number from 0-10FFFF, and can include leading zeros. Requires the native ES6 `u` flag\n * to support code points greater than U+FFFF. Avoids converting code points above U+FFFF to\n * surrogate pairs (which could be done without flag `u`), since that could lead to broken behavior\n * if you follow a `\\u{N..}` token that references a code point above U+FFFF with a quantifier, or\n * if you use the same in a character class.\n */\n\nXRegExp.addToken(/\\\\u{([\\dA-Fa-f]+)}/, function (match, scope, flags) {\n  var code = dec(match[1]);\n\n  if (code > 0x10FFFF) {\n    throw new SyntaxError(\"Invalid Unicode code point \".concat(match[0]));\n  }\n\n  if (code <= 0xFFFF) {\n    // Converting to \\uNNNN avoids needing to escape the literal character and keep it\n    // separate from preceding tokens\n    return \"\\\\u\".concat(pad4(hex(code)));\n  } // If `code` is between 0xFFFF and 0x10FFFF, require and defer to native handling\n\n\n  if (hasNativeU && (0, _includes[\"default\"])(flags).call(flags, 'u')) {\n    return match[0];\n  }\n\n  throw new SyntaxError('Cannot use Unicode code point above \\\\u{FFFF} without flag u');\n}, {\n  scope: 'all',\n  leadChar: '\\\\'\n});\n/*\n * Empty character class: `[]` or `[^]`. This fixes a critical cross-browser syntax inconsistency.\n * Unless this is standardized (per the ES spec), regex syntax can't be accurately parsed because\n * character class endings can't be determined.\n */\n\nXRegExp.addToken(/\\[(\\^?)\\]/, // For cross-browser compatibility with ES3, convert [] to \\b\\B and [^] to [\\s\\S].\n// (?!) should work like \\b\\B, but is unreliable in some versions of Firefox\n\n/* eslint-disable no-confusing-arrow */\nfunction (match) {\n  return match[1] ? '[\\\\s\\\\S]' : '\\\\b\\\\B';\n},\n/* eslint-enable no-confusing-arrow */\n{\n  leadChar: '['\n});\n/*\n * Comment pattern: `(?# )`. Inline comments are an alternative to the line comments allowed in\n * free-spacing mode (flag x).\n */\n\nXRegExp.addToken(/\\(\\?#[^)]*\\)/, getContextualTokenSeparator, {\n  leadChar: '('\n});\n/*\n * Whitespace and line comments, in free-spacing mode (aka extended mode, flag x) only.\n */\n\nXRegExp.addToken(/\\s+|#[^\\n]*\\n?/, getContextualTokenSeparator, {\n  flag: 'x'\n});\n/*\n * Dot, in dotall mode (aka singleline mode, flag s) only.\n */\n\nXRegExp.addToken(/\\./, function () {\n  return '[\\\\s\\\\S]';\n}, {\n  flag: 's',\n  leadChar: '.'\n});\n/*\n * Named backreference: `\\k<name>`. Backreference names can use the characters A-Z, a-z, 0-9, _,\n * and $ only. Also allows numbered backreferences as `\\k<n>`.\n */\n\nXRegExp.addToken(/\\\\k<([\\w$]+)>/, function (match) {\n  var _context6, _context7;\n\n  // Groups with the same name is an error, else would need `lastIndexOf`\n  var index = isNaN(match[1]) ? (0, _indexOf[\"default\"])(_context6 = this.captureNames).call(_context6, match[1]) + 1 : +match[1];\n  var endIndex = match.index + match[0].length;\n\n  if (!index || index > this.captureNames.length) {\n    throw new SyntaxError(\"Backreference to undefined group \".concat(match[0]));\n  } // Keep backreferences separate from subsequent literal numbers. This avoids e.g.\n  // inadvertedly changing `(?<n>)\\k<n>1` to `()\\11`.\n\n\n  return (0, _concat[\"default\"])(_context7 = \"\\\\\".concat(index)).call(_context7, endIndex === match.input.length || isNaN(match.input[endIndex]) ? '' : '(?:)');\n}, {\n  leadChar: '\\\\'\n});\n/*\n * Numbered backreference or octal, plus any following digits: `\\0`, `\\11`, etc. Octals except `\\0`\n * not followed by 0-9 and backreferences to unopened capture groups throw an error. Other matches\n * are returned unaltered. IE < 9 doesn't support backreferences above `\\99` in regex syntax.\n */\n\nXRegExp.addToken(/\\\\(\\d+)/, function (match, scope) {\n  if (!(scope === defaultScope && /^[1-9]/.test(match[1]) && +match[1] <= this.captureNames.length) && match[1] !== '0') {\n    throw new SyntaxError(\"Cannot use octal escape or backreference to undefined group \".concat(match[0]));\n  }\n\n  return match[0];\n}, {\n  scope: 'all',\n  leadChar: '\\\\'\n});\n/*\n * Named capturing group; match the opening delimiter only: `(?<name>`. Capture names can use the\n * characters A-Z, a-z, 0-9, _, and $ only. Names can't be integers. Supports Python-style\n * `(?P<name>` as an alternate syntax to avoid issues in some older versions of Opera which natively\n * supported the Python-style syntax. Otherwise, XRegExp might treat numbered backreferences to\n * Python-style named capture as octals.\n */\n\nXRegExp.addToken(/\\(\\?P?<([\\w$]+)>/, function (match) {\n  var _context8;\n\n  // Disallow bare integers as names because named backreferences are added to match arrays\n  // and therefore numeric properties may lead to incorrect lookups\n  if (!isNaN(match[1])) {\n    throw new SyntaxError(\"Cannot use integer as capture name \".concat(match[0]));\n  }\n\n  if (!XRegExp.isInstalled('namespacing') && (match[1] === 'length' || match[1] === '__proto__')) {\n    throw new SyntaxError(\"Cannot use reserved word as capture name \".concat(match[0]));\n  }\n\n  if ((0, _includes[\"default\"])(_context8 = this.captureNames).call(_context8, match[1])) {\n    throw new SyntaxError(\"Cannot use same name for multiple groups \".concat(match[0]));\n  }\n\n  this.captureNames.push(match[1]);\n  this.hasNamedCapture = true;\n  return '(';\n}, {\n  leadChar: '('\n});\n/*\n * Capturing group; match the opening parenthesis only. Required for support of named capturing\n * groups. Also adds explicit capture mode (flag n).\n */\n\nXRegExp.addToken(/\\((?!\\?)/, function (match, scope, flags) {\n  if ((0, _includes[\"default\"])(flags).call(flags, 'n')) {\n    return '(?:';\n  }\n\n  this.captureNames.push(null);\n  return '(';\n}, {\n  optionalFlags: 'n',\n  leadChar: '('\n});\nvar _default = XRegExp;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","module.exports = require(\"core-js-pure/stable/instance/index-of\");","var parent = require('../../es/instance/index-of');\n\nmodule.exports = parent;\n","var indexOf = require('../array/virtual/index-of');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.indexOf;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.indexOf) ? indexOf : own;\n};\n","require('../../../modules/es.array.index-of');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').indexOf;\n","'use strict';\n/* eslint-disable es/no-array-prototype-indexof -- required for testing */\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = require(\"core-js-pure/stable/object/create\");","var parent = require('../../es/object/create');\n\nmodule.exports = parent;\n","require('../../modules/es.object.create');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nmodule.exports = function create(P, D) {\n  return Object.create(P, D);\n};\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _Array$isArray = require(\"@babel/runtime-corejs3/core-js/array/is-array\");\n\nfunction _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"core-js-pure/features/array/is-array\");","var parent = require('../../es/array/is-array');\n\nmodule.exports = parent;\n","var _Symbol = require(\"@babel/runtime-corejs3/core-js/symbol\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof _Symbol !== \"undefined\" && _getIteratorMethod(arr) || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"core-js-pure/features/symbol\");","var parent = require('../../es/symbol');\nrequire('../../modules/esnext.symbol.async-dispose');\nrequire('../../modules/esnext.symbol.dispose');\nrequire('../../modules/esnext.symbol.matcher');\nrequire('../../modules/esnext.symbol.metadata');\nrequire('../../modules/esnext.symbol.observable');\n// TODO: Remove from `core-js@4`\nrequire('../../modules/esnext.symbol.pattern-match');\n// TODO: Remove from `core-js@4`\nrequire('../../modules/esnext.symbol.replace-all');\n\nmodule.exports = parent;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncDispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('asyncDispose');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.dispose` well-known symbol\n// https://github.com/tc39/proposal-using-statement\ndefineWellKnownSymbol('dispose');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.matcher` well-known symbol\n// https://github.com/tc39/proposal-pattern-matching\ndefineWellKnownSymbol('matcher');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.metadata` well-known symbol\n// https://github.com/tc39/proposal-decorators\ndefineWellKnownSymbol('metadata');\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.observable` well-known symbol\n// https://github.com/tc39/proposal-observable\ndefineWellKnownSymbol('observable');\n","// TODO: remove from `core-js@4`\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.patternMatch` well-known symbol\n// https://github.com/tc39/proposal-pattern-matching\ndefineWellKnownSymbol('patternMatch');\n","// TODO: remove from `core-js@4`\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\ndefineWellKnownSymbol('replaceAll');\n","var _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js/instance/slice\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js/array/from\");\n\nvar arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context;\n\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context = Object.prototype.toString.call(o)).call(_context, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"core-js-pure/features/instance/slice\");","var parent = require('../../es/instance/slice');\n\nmodule.exports = parent;\n","module.exports = require(\"core-js-pure/features/array/from\");","var parent = require('../../es/array/from');\n\nmodule.exports = parent;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"core-js-pure/stable/parse-int\");","var parent = require('../es/parse-int');\n\nmodule.exports = parent;\n","require('../modules/es.parse-int');\nvar path = require('../internals/path');\n\nmodule.exports = path.parseInt;\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","module.exports = require(\"core-js-pure/stable/instance/sort\");","var parent = require('../../es/instance/sort');\n\nmodule.exports = parent;\n","var sort = require('../array/virtual/sort');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.sort;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.sort) ? sort : own;\n};\n","require('../../../modules/es.array.sort');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').sort;\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","module.exports = require(\"core-js-pure/stable/instance/flags\");","var parent = require('../../es/instance/flags');\n\nmodule.exports = parent;\n","var flags = require('../regexp/flags');\n\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (it) {\n  return (it === RegExpPrototype || it instanceof RegExp) && !('flags' in it) ? flags(it) : it.flags;\n};\n","require('../../modules/es.regexp.flags');\nvar flags = require('../../internals/regexp-flags');\n\nmodule.exports = function (it) {\n  return flags.call(it);\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Choice = void 0;\n/**\n * Pattern and walker for RNG's ``choice`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst errors_1 = require(\"../errors\");\nconst set_1 = require(\"../set\");\nconst base_1 = require(\"./base\");\nconst empty_1 = require(\"./empty\");\n/**\n * A pattern for ``<choice>``.\n */\nclass Choice extends base_1.TwoSubpatterns {\n    constructor(xmlPath, patA, patB) {\n        super(xmlPath, patA, patB);\n        this.optional = patA instanceof empty_1.Empty;\n    }\n    _computeHasEmptyPattern() {\n        return this.patA.hasEmptyPattern() || this.patB.hasEmptyPattern();\n    }\n    newWalker() {\n        const hasAttrs = this.hasAttrs();\n        const walkerB = this.patB.newWalker();\n        if (this.optional) {\n            // tslint:disable-next-line:no-use-before-declare\n            return new OptionalChoiceWalker(this, walkerB, hasAttrs, false, true, true);\n        }\n        else {\n            const walkerA = this.patA.newWalker();\n            // tslint:disable-next-line:no-use-before-declare\n            return new ChoiceWalker(this, walkerA, walkerB, hasAttrs, false, false, !hasAttrs || walkerA.canEndAttribute ||\n                walkerB.canEndAttribute, walkerA.canEnd || walkerB.canEnd);\n        }\n    }\n}\nexports.Choice = Choice;\n/**\n * Walker for [[Choice]].\n */\nclass ChoiceWalker {\n    constructor(el, walkerA, walkerB, hasAttrs, deactivateA, deactivateB, canEndAttribute, canEnd) {\n        this.el = el;\n        this.walkerA = walkerA;\n        this.walkerB = walkerB;\n        this.hasAttrs = hasAttrs;\n        this.deactivateA = deactivateA;\n        this.deactivateB = deactivateB;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new ChoiceWalker(this.el, this.walkerA.clone(), this.walkerB.clone(), this.hasAttrs, this.deactivateA, this.deactivateB, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        const walkerA = this.walkerA;\n        let ret = this.deactivateA ? undefined : walkerA.possible();\n        const walkerB = this.walkerB;\n        if (!this.deactivateB) {\n            const possibleB = walkerB.possible();\n            if (ret === undefined) {\n                ret = possibleB;\n            }\n            else {\n                set_1.union(ret, possibleB);\n            }\n        }\n        else if (ret === undefined) {\n            ret = new Set();\n        }\n        return ret;\n    }\n    possibleAttributes() {\n        const walkerA = this.walkerA;\n        let ret = this.deactivateA ? undefined : walkerA.possibleAttributes();\n        const walkerB = this.walkerB;\n        if (!this.deactivateB) {\n            const possibleB = walkerB.possibleAttributes();\n            if (ret === undefined) {\n                ret = possibleB;\n            }\n            else {\n                set_1.union(ret, possibleB);\n            }\n        }\n        else if (ret === undefined) {\n            ret = new Set();\n        }\n        return ret;\n    }\n    fireEvent(name, params, nameResolver) {\n        //\n        // It cannot happen that fireEvent be called when deactivateA and\n        // deactivateB are true at the same time.\n        //\n        // if (this.deactivateA && this.deactivateB) {\n        //   return new InternalFireEventResult(false);\n        // }\n        if (!this.hasAttrs && base_1.isAttributeEvent(name)) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        const { walkerA, walkerB } = this;\n        const retA = this.deactivateA ? new base_1.InternalFireEventResult(false) :\n            walkerA.fireEvent(name, params, nameResolver);\n        const retB = this.deactivateB ? new base_1.InternalFireEventResult(false) :\n            walkerB.fireEvent(name, params, nameResolver);\n        if (retA.matched) {\n            if (!retB.matched) {\n                this.deactivateB = true;\n                this.canEndAttribute = walkerA.canEndAttribute;\n                this.canEnd = walkerA.canEnd;\n            }\n            else {\n                this.canEndAttribute = walkerA.canEndAttribute ||\n                    walkerB.canEndAttribute;\n                this.canEnd = walkerA.canEnd || walkerB.canEnd;\n            }\n            return retA.combine(retB);\n        }\n        if (retB.matched) {\n            this.deactivateA = true;\n            this.canEndAttribute = walkerB.canEndAttribute;\n            this.canEnd = walkerB.canEnd;\n        }\n        return retB.combine(retA);\n    }\n    end() {\n        if (this.canEnd) {\n            // Instead of an ended flag, we set both flags.\n            this.deactivateA = true;\n            this.deactivateB = true;\n            return false;\n        }\n        const retA = this.deactivateA ? false : this.walkerA.end();\n        const retB = this.deactivateB ? false : this.walkerB.end();\n        if (!retA) {\n            return retB;\n        }\n        if (!retB) {\n            return retA;\n        }\n        // If we are here both walkers exist and returned an error. We combine the\n        // errors no matter which walker may have been deactivated.\n        const combined = this.combineChoices();\n        return combined.length !== 0 ? combined : retA;\n    }\n    endAttributes() {\n        if (this.canEndAttribute) {\n            return false;\n        }\n        const retA = this.deactivateA ? false : this.walkerA.endAttributes();\n        const retB = this.deactivateB ? false : this.walkerB.endAttributes();\n        if (!retA) {\n            return retB;\n        }\n        if (!retB) {\n            return retA;\n        }\n        // If we are here both walkers exist and returned an error. We combine the\n        // errors no matter which walker may have been deactivated.\n        const combined = this.combineChoices();\n        return combined.length !== 0 ? combined : retA;\n    }\n    combineChoices() {\n        const namesA = [];\n        const values = [];\n        for (const ev of this.walkerA.possible()) {\n            switch (ev.name) {\n                case \"enterStartTag\":\n                case \"attributeName\":\n                    namesA.push(ev.param);\n                    break;\n                case \"attributeValue\":\n                case \"text\":\n                    values.push(ev.param);\n                    break;\n                default:\n                    return []; // We cannot make a good combination.\n            }\n        }\n        const namesB = [];\n        for (const ev of this.walkerB.possible()) {\n            switch (ev.name) {\n                case \"enterStartTag\":\n                case \"attributeName\":\n                    namesB.push(ev.param);\n                    break;\n                case \"attributeValue\":\n                case \"text\":\n                    values.push(ev.param);\n                    break;\n                default:\n                    return []; // We cannot make a good combination.\n            }\n        }\n        return [\n            values.length !== 0 ?\n                new errors_1.ValidationError(`one value required from the following: ${values.join(\", \")}`) :\n                new errors_1.ChoiceError(namesA, namesB),\n        ];\n    }\n}\n/**\n * Walker for [[Choice]].\n */\nclass OptionalChoiceWalker {\n    constructor(el, walkerB, hasAttrs, ended, canEndAttribute, canEnd) {\n        this.el = el;\n        this.walkerB = walkerB;\n        this.hasAttrs = hasAttrs;\n        this.ended = ended;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new OptionalChoiceWalker(this.el, this.walkerB.clone(), this.hasAttrs, this.ended, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        return this.ended ? new Set() : this.walkerB.possible();\n    }\n    possibleAttributes() {\n        return this.ended ? new Set() : this.walkerB.possibleAttributes();\n    }\n    fireEvent(name, params, nameResolver) {\n        //\n        // It cannot happen that fireEvent is called with ended true.\n        //\n        // if (this.ended) {\n        //   return new InternalFireEventResult(false);\n        // }\n        //\n        if (!this.hasAttrs && base_1.isAttributeEvent(name)) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        if (name === \"text\" && !/\\S/.test(params[0])) {\n            return new base_1.InternalFireEventResult(true);\n        }\n        const { walkerB } = this;\n        const retB = walkerB.fireEvent(name, params, nameResolver);\n        if (retB.matched) {\n            this.canEndAttribute = walkerB.canEndAttribute;\n            this.canEnd = walkerB.canEnd;\n        }\n        return retB;\n    }\n    end() {\n        if (this.canEnd) {\n            this.ended = true;\n            return false;\n        }\n        return this.walkerB.end();\n    }\n    endAttributes() {\n        return this.canEndAttribute ? false : this.walkerB.endAttributes();\n    }\n}\n//  LocalWords:  RNG's MPL retA ChoiceWalker enterStartTag notAChoiceError\n//  LocalWords:  tslint ChoiceError\n//# sourceMappingURL=choice.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Define = void 0;\nconst base_1 = require(\"./base\");\n/**\n * A pattern for ``<define>``.\n */\nclass Define extends base_1.OneSubpattern {\n    /**\n     * @param xmlPath This is a string which uniquely identifies the\n     * element from the simplified RNG tree. Used in debugging.\n     *\n     * @param name The name of the definition.\n     *\n     * @param pat The pattern contained by this one.\n     */\n    constructor(xmlPath, name, pat) {\n        super(xmlPath, pat);\n        this.name = name;\n    }\n}\nexports.Define = Define;\n//# sourceMappingURL=define.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Element = void 0;\n/**\n * Pattern and walker for RNG's ``element`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst errors_1 = require(\"../errors\");\nconst events_1 = require(\"../events\");\nconst base_1 = require(\"./base\");\nconst not_allowed_1 = require(\"./not_allowed\");\n/**\n * A pattern for elements.\n */\nclass Element extends base_1.BasePattern {\n    /**\n     * @param xmlPath This is a string which uniquely identifies the\n     * element from the simplified RNG tree. Used in debugging.\n     *\n     * @param name The qualified name of the element.\n     *\n     * @param pat The pattern contained by this one.\n     */\n    constructor(xmlPath, name, pat) {\n        super(xmlPath);\n        this.name = name;\n        this.pat = pat;\n        this.notAllowed = pat instanceof not_allowed_1.NotAllowed;\n    }\n    newWalker(boundName) {\n        // tslint:disable-next-line:no-use-before-declare\n        return new ElementWalker(this, this.pat.hasAttrs(), this.pat.newWalker(), false, new events_1.EndTagEvent(boundName), boundName, true, false);\n    }\n    hasAttrs() {\n        return false;\n    }\n    hasEmptyPattern() {\n        // The question is whether an element allows empty content **in the context\n        // in which it appears**, not empty content inside it. So the answer is\n        // always negative.\n        return false;\n    }\n    _prepare(definitions, namespaces) {\n        this.name._recordNamespaces(namespaces, true);\n        this.pat._prepare(definitions, namespaces);\n    }\n}\nexports.Element = Element;\n/**\n *\n * Walker for [[Element]].\n */\nclass ElementWalker {\n    constructor(el, hasAttrs, walker, endedStartTag, endTagEvent, boundName, canEndAttribute, canEnd) {\n        this.el = el;\n        this.hasAttrs = hasAttrs;\n        this.walker = walker;\n        this.endedStartTag = endedStartTag;\n        this.endTagEvent = endTagEvent;\n        this.boundName = boundName;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new ElementWalker(this.el, this.hasAttrs, this.walker.clone(), this.endedStartTag, this.endTagEvent, this.boundName, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        // Contrarily to all other implementations, which must only return\n        // non-attribute events. This implementation actually returns all types of\n        // possible events. Representing this distinction through TS type\n        // declarations would be cumbersome. The exception works because of the way\n        // Relax NG constrains the structure of a simplified schema. The only\n        // possible caller for this method is ``GrammarWalker``, which also aims to\n        // return all possible events.\n        if (!this.endedStartTag) {\n            const walker = this.walker;\n            const ret = walker.possibleAttributes();\n            if (walker.canEndAttribute) {\n                ret.add(ElementWalker._leaveStartTagEvent);\n            }\n            return ret;\n        }\n        else if (!this.canEnd) {\n            const walker = this.walker;\n            const posses = walker.possible();\n            if (walker.canEnd) {\n                posses.add(this.endTagEvent);\n            }\n            return posses;\n        }\n        return new Set();\n    }\n    possibleAttributes() {\n        throw new Error(\"calling possibleAttributes on ElementWalker is invalid\");\n    }\n    /**\n     * Initialize this walker with initial attributes. This is provided to support\n     * ``startTagAndAttributes``.\n     *\n     * @param params The **entire** list of parameters passed with the\n     * ``startTagAndAttributes`` event.\n     *\n     * @param nameResolver The name resolver to use to resolve names.\n     *\n     * @returns The result of firing all the events for the attributes.\n     */\n    initWithAttributes(params, nameResolver) {\n        const { walker } = this;\n        // We need to handle all attributes and leave the start tag.\n        for (let ix = 2; ix < params.length; ix += 3) {\n            const attrRet = walker.fireEvent(\"attributeNameAndValue\", [params[ix], params[ix + 1],\n                params[ix + 2]], nameResolver);\n            if (!attrRet.matched) {\n                return attrRet;\n            }\n        }\n        // Make leaveStartTag effective.\n        this.endedStartTag = true;\n        return this.hasAttrs ?\n            base_1.InternalFireEventResult.fromEndResult(walker.endAttributes()) :\n            new base_1.InternalFireEventResult(true);\n    }\n    fireEvent(name, params, nameResolver) {\n        // This is not a useful optimization. canEnd becomes true once we see\n        // the end tag, which means that this walker will be popped of\n        // GrammarWalker's stack and won't be called again.\n        //\n        // if (this.canEnd) {\n        //   return undefined;\n        // }\n        const walker = this.walker;\n        if (this.endedStartTag) {\n            if (name === \"endTag\") {\n                // We cannot get here if canEnd is already true. So this will\n                // necessarily leave it false or set it to true but it won't set a true\n                // canEnd back to false.\n                this.canEnd = this.boundName.match(params[0], params[1]);\n                return base_1.InternalFireEventResult.fromEndResult(walker.end());\n            }\n            return walker.fireEvent(name, params, nameResolver);\n        }\n        if (name === \"leaveStartTag\") {\n            this.endedStartTag = true;\n            return this.hasAttrs ?\n                base_1.InternalFireEventResult.fromEndResult(walker.endAttributes()) :\n                new base_1.InternalFireEventResult(true);\n        }\n        return walker.fireEvent(name, params, nameResolver);\n    }\n    end() {\n        if (this.canEnd) {\n            return false;\n        }\n        const err = new errors_1.ElementNameError(this.endedStartTag ?\n            \"tag not closed\" :\n            \"start tag not terminated\", this.boundName);\n        const walkerRet = this.walker.end();\n        return walkerRet ? walkerRet.concat(err) : [err];\n    }\n    endAttributes() {\n        throw new Error(\"calling endAttributes on ElementWalker is illegal\");\n    }\n}\nElementWalker._leaveStartTagEvent = new events_1.LeaveStartTagEvent();\n//  LocalWords:  RNG's MPL RNG ElementWalker leaveStartTag valueEvs\n//  LocalWords:  enterStartTag attributeValue endTag errored subwalker\n//  LocalWords:  neutralizeAttribute boundName fireEvent suppressAttributes\n//# sourceMappingURL=element.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Group = void 0;\n/**\n * Pattern and walker for RNG's ``group`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst errors_1 = require(\"../errors\");\nconst set_1 = require(\"../set\");\nconst base_1 = require(\"./base\");\n/**\n * A pattern for ``<group>``.\n */\nclass Group extends base_1.TwoSubpatterns {\n    _computeHasEmptyPattern() {\n        return this.patA.hasEmptyPattern() && this.patB.hasEmptyPattern();\n    }\n    newWalker() {\n        const hasAttrs = this.hasAttrs();\n        const walkerA = this.patA.newWalker();\n        const walkerB = this.patB.newWalker();\n        // tslint:disable-next-line:no-use-before-declare\n        return new GroupWalker(this, walkerA, walkerB, hasAttrs, false, false, !hasAttrs ||\n            (walkerA.canEndAttribute && walkerB.canEndAttribute), walkerA.canEnd && walkerB.canEnd);\n    }\n}\nexports.Group = Group;\n/**\n * Walker for [[Group]].\n */\nclass GroupWalker {\n    constructor(el, walkerA, walkerB, hasAttrs, ended, endedA, canEndAttribute, canEnd) {\n        this.el = el;\n        this.walkerA = walkerA;\n        this.walkerB = walkerB;\n        this.hasAttrs = hasAttrs;\n        this.ended = ended;\n        this.endedA = endedA;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new GroupWalker(this.el, this.walkerA.clone(), this.walkerB.clone(), this.hasAttrs, this.ended, this.endedA, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        if (this.ended) {\n            return new Set();\n        }\n        const ret = this.walkerA.possible();\n        if (this.walkerA.canEnd) {\n            set_1.union(ret, this.walkerB.possible());\n        }\n        return ret;\n    }\n    possibleAttributes() {\n        if (this.ended) {\n            return new Set();\n        }\n        const ret = this.walkerA.possibleAttributes();\n        set_1.union(ret, this.walkerB.possibleAttributes());\n        return ret;\n    }\n    fireEvent(name, params, nameResolver) {\n        const evIsAttributeEvent = base_1.isAttributeEvent(name);\n        if (evIsAttributeEvent && !this.hasAttrs) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        //\n        // fireEvent is not called after ended becomes true\n        //\n        // if (this.ended) {\n        //   return new InternalFireEventResult(false);\n        // }\n        const { walkerA, walkerB } = this;\n        if (!this.endedA) {\n            const retA = walkerA.fireEvent(name, params, nameResolver);\n            if (retA.matched || retA.errors !== undefined) {\n                this.canEndAttribute = walkerA.canEndAttribute &&\n                    walkerB.canEndAttribute;\n                this.canEnd = walkerA.canEnd && walkerB.canEnd;\n                return retA;\n            }\n            // We must return right away if walkerA cannot yet end. Only attribute\n            // events are allowed to move forward.\n            if (!evIsAttributeEvent && !walkerA.canEnd) {\n                return retA;\n            }\n        }\n        const retB = walkerB.fireEvent(name, params, nameResolver);\n        this.canEndAttribute = walkerA.canEndAttribute && walkerB.canEndAttribute;\n        this.canEnd = walkerA.canEnd && walkerB.canEnd;\n        // Non-attribute event: if walker b matched the event then we must end\n        // walkerA, if we've not already done so.\n        if (!evIsAttributeEvent && retB.matched) {\n            this.endedA = true;\n            // Having an end that errors here is not possible.\n            if (walkerA.end() !== false) {\n                throw new Error(\"walkerA can end but does not end cleanly!\");\n            }\n        }\n        return retB;\n    }\n    end() {\n        if (this.ended) {\n            return false;\n        }\n        if (this.canEnd) {\n            this.ended = true;\n            return false;\n        }\n        const retA = this.walkerA.end();\n        // If we get here and the only errors we get are attribute errors, we must\n        // move on to check the second walker too.\n        if (retA) {\n            for (const err of retA) {\n                if (!(err instanceof errors_1.AttributeValueError ||\n                    err instanceof errors_1.AttributeNameError)) {\n                    // We ran into a non-attribute error. We can stop here.\n                    return retA;\n                }\n            }\n        }\n        const retB = this.walkerB.end();\n        if (retB) {\n            return retA ? retA.concat(retB) : retB;\n        }\n        return retA;\n    }\n    endAttributes() {\n        if (this.canEndAttribute) {\n            return false;\n        }\n        const endA = this.walkerA.endAttributes();\n        const endB = this.walkerB.endAttributes();\n        if (endB) {\n            return endA ? endA.concat(endB) : endB;\n        }\n        return endA;\n    }\n}\n//  LocalWords:  RNG's MPL instantiateWalkers walkerA retB canEnd endedA\n//# sourceMappingURL=group.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Interleave = void 0;\nconst set_1 = require(\"../set\");\nconst base_1 = require(\"./base\");\n/**\n * A pattern for ``<interleave>``.\n */\nclass Interleave extends base_1.TwoSubpatterns {\n    _computeHasEmptyPattern() {\n        return this.patA.hasEmptyPattern() && this.patB.hasEmptyPattern();\n    }\n    newWalker() {\n        const hasAttrs = this.hasAttrs();\n        const walkerA = this.patA.newWalker();\n        const walkerB = this.patB.newWalker();\n        // tslint:disable-next-line:no-use-before-declare\n        return new InterleaveWalker(this, walkerA, walkerB, hasAttrs, false, !hasAttrs || (walkerA.canEndAttribute &&\n            walkerB.canEndAttribute), walkerA.canEnd && walkerB.canEnd);\n    }\n}\nexports.Interleave = Interleave;\n/**\n * Walker for [[Interleave]].\n */\nclass InterleaveWalker {\n    constructor(el, walkerA, walkerB, hasAttrs, ended, canEndAttribute, canEnd) {\n        this.el = el;\n        this.walkerA = walkerA;\n        this.walkerB = walkerB;\n        this.hasAttrs = hasAttrs;\n        this.ended = ended;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new InterleaveWalker(this.el, this.walkerA.clone(), this.walkerB.clone(), this.hasAttrs, this.ended, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        if (this.ended) {\n            return new Set();\n        }\n        const ret = this.walkerA.possible();\n        set_1.union(ret, this.walkerB.possible());\n        return ret;\n    }\n    possibleAttributes() {\n        if (this.ended) {\n            return new Set();\n        }\n        const ret = this.walkerA.possibleAttributes();\n        set_1.union(ret, this.walkerB.possibleAttributes());\n        return ret;\n    }\n    //\n    // Interleave is very unusual among the patterns due to the fact that it\n    // ignores subpattern order. For instance\n    //\n    // <interleave>A<interleave>B C</interleave></interleave>\n    //\n    // can match any permutation of the patterns A B and C. In particular, the\n    // sequence B A C needs to be handled by the inner interleave, then by the\n    // pattern for A and then by the inner interleave again.\n    //\n    // Moreover, while validating, it may match subpatterns only partially.\n    // For instance:\n    //\n    // <interleave><group>A B</group>C</interleave>\n    //\n    // will match all permutations of A B C where A appears before B (so A B C, A\n    // C B and C A B). The sequence A C B is particularly problematic as it means\n    // matching the inner group, then matching C, then going back to the inner\n    // group!\n    //\n    // When an interleave subpattern starts to match, we may not switch to\n    // another subpattern until that subpattern is done. However, \"done\" here is\n    // not synonymous with ``canEnd === true``. Looking again at the B A C\n    // scenario above, we can switch to A when B is done but the inner level\n    // interleave is itself not \"done\" because C has not matched yet.\n    //\n    // We work around the issue by counting the number of start tags and end tags\n    // seen by a pattern. When they are equal we can switch away from from the\n    // pattern to another one.\n    //\n    fireEvent(name, params, nameResolver) {\n        if (!this.hasAttrs && base_1.isAttributeEvent(name)) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        //\n        // fireEvent is not called after ended is true\n        // if (this.ended) {\n        //   return new InternalFireEventResult(false);\n        // }\n        //\n        const { walkerA, walkerB } = this;\n        const retA = walkerA.fireEvent(name, params, nameResolver);\n        if (retA.matched) {\n            this.canEndAttribute = walkerA.canEndAttribute && walkerB.canEndAttribute;\n            this.canEnd = walkerA.canEnd && walkerB.canEnd;\n            // The constraints on interleave do not allow for two child patterns of\n            // interleave to match. So if the first walker matched, the second\n            // cannot. So we don't have to fireEvent on the second walker if the\n            // first matched.\n            return retA;\n        }\n        const retB = walkerB.fireEvent(name, params, nameResolver);\n        if (retB.matched) {\n            this.canEndAttribute =\n                walkerA.canEndAttribute && walkerB.canEndAttribute;\n            this.canEnd = walkerA.canEnd && walkerB.canEnd;\n            return retB;\n        }\n        return new base_1.InternalFireEventResult(false);\n    }\n    end() {\n        if (this.ended) {\n            return false;\n        }\n        if (this.canEnd) {\n            this.ended = true;\n            return false;\n        }\n        const retA = this.walkerA.end();\n        const retB = this.walkerB.end();\n        if (retA) {\n            return !retB ? retA : retA.concat(retB);\n        }\n        return retB;\n    }\n    endAttributes() {\n        if (this.canEndAttribute) {\n            return false;\n        }\n        const retA = this.walkerA.endAttributes();\n        const retB = this.walkerB.endAttributes();\n        if (retA) {\n            return retB ? retA.concat(retB) : retA;\n        }\n        return retB;\n    }\n}\n//  LocalWords:  RNG's MPL NG inA inB instantiateWalkers fireEvent retA retB\n//# sourceMappingURL=interleave.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.List = void 0;\n/**\n * Pattern and walker for RNG's ``list`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst errors_1 = require(\"../errors\");\nconst base_1 = require(\"./base\");\n/**\n * List pattern.\n */\nclass List extends base_1.OneSubpattern {\n    // We override these because lists cannot contain attributes so there's\n    // no point in caching _hasAttrs's result.\n    _prepare(definitions, namespaces) {\n        this.pat._prepare(definitions, namespaces);\n        this._cachedHasEmptyPattern = this.pat.hasEmptyPattern();\n    }\n    hasAttrs() {\n        return false;\n    }\n    newWalker() {\n        const hasEmptyPattern = this.hasEmptyPattern();\n        // tslint:disable-next-line:no-use-before-declare\n        return new ListWalker(this, this.pat.newWalker(), hasEmptyPattern, hasEmptyPattern);\n    }\n}\nexports.List = List;\n/**\n * Walker for [[List]].\n *\n */\nclass ListWalker {\n    constructor(el, subwalker, canEndAttribute, canEnd) {\n        this.el = el;\n        this.subwalker = subwalker;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new ListWalker(this.el, this.subwalker.clone(), this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        return this.subwalker.possible();\n    }\n    possibleAttributes() {\n        return new Set();\n    }\n    fireEvent(name, params, nameResolver) {\n        // Only this can match.\n        if (name !== \"text\") {\n            return new base_1.InternalFireEventResult(false);\n        }\n        const trimmed = params[0].trim();\n        // The list walker cannot send empty strings to its children because it\n        // validates a list of **tokens**.\n        if (trimmed === \"\") {\n            return new base_1.InternalFireEventResult(true);\n        }\n        // ret is necessarily set by the loop because we deal with the empty case\n        // above.\n        let ret;\n        for (const token of trimmed.split(/\\s+/)) {\n            ret = this.subwalker.fireEvent(\"text\", [token], nameResolver);\n            if (!ret.matched) {\n                this.canEndAttribute = this.canEnd = false;\n                return ret;\n            }\n        }\n        this.canEndAttribute = this.canEnd = this.subwalker.canEnd;\n        // It is not possible for ret to be undefined here.\n        return ret;\n    }\n    end() {\n        if (this.canEnd) {\n            return false;\n        }\n        const ret = this.subwalker.end();\n        return ret !== false ? ret : [new errors_1.ValidationError(\"unfulfilled list\")];\n    }\n    endAttributes() {\n        return false;\n    }\n}\n//  LocalWords:  RNG's MPL nd\n//# sourceMappingURL=list.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OneOrMore = void 0;\nconst set_1 = require(\"../set\");\nconst base_1 = require(\"./base\");\n/**\n * A pattern for ``<oneOrMore>``.\n */\nclass OneOrMore extends base_1.OneSubpattern {\n    newWalker() {\n        const hasAttrs = this.hasAttrs();\n        const currentIteration = this.pat.newWalker();\n        // tslint:disable-next-line:no-use-before-declare\n        return new OneOrMoreWalker(this, currentIteration, undefined, hasAttrs, this.pat, !hasAttrs || currentIteration.canEndAttribute, currentIteration.canEnd);\n    }\n}\nexports.OneOrMore = OneOrMore;\n/**\n * Walker for [[OneOrMore]]\n */\nclass OneOrMoreWalker {\n    constructor(el, currentIteration, nextIteration, hasAttrs, subPat, canEndAttribute, canEnd) {\n        this.el = el;\n        this.currentIteration = currentIteration;\n        this.nextIteration = nextIteration;\n        this.hasAttrs = hasAttrs;\n        this.subPat = subPat;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new OneOrMoreWalker(this.el, this.currentIteration.clone(), this.nextIteration !== undefined ?\n            this.nextIteration.clone() : undefined, this.hasAttrs, this.subPat, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        const ret = this.currentIteration.possible();\n        if (this.currentIteration.canEnd) {\n            if (this.nextIteration === undefined) {\n                this.nextIteration = this.subPat.newWalker();\n            }\n            set_1.union(ret, this.nextIteration.possible());\n        }\n        return ret;\n    }\n    possibleAttributes() {\n        const ret = this.currentIteration.possibleAttributes();\n        if (this.currentIteration.canEnd) {\n            if (this.nextIteration === undefined) {\n                this.nextIteration = this.subPat.newWalker();\n            }\n            set_1.union(ret, this.nextIteration.possibleAttributes());\n        }\n        return ret;\n    }\n    fireEvent(name, params, nameResolver) {\n        if (!this.hasAttrs && base_1.isAttributeEvent(name)) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        const currentIteration = this.currentIteration;\n        const ret = currentIteration.fireEvent(name, params, nameResolver);\n        if (ret.matched) {\n            this.canEndAttribute = currentIteration.canEndAttribute;\n            this.canEnd = currentIteration.canEnd;\n            return ret;\n        }\n        if (currentIteration.canEnd) {\n            let next = this.nextIteration;\n            if (next === undefined) {\n                next = this.nextIteration = this.subPat.newWalker();\n            }\n            const nextRet = next.fireEvent(name, params, nameResolver);\n            if (nextRet.matched) {\n                if (currentIteration.end()) {\n                    throw new Error(\"internal error; canEnd returns true but end() fails\");\n                }\n                this.currentIteration = next;\n                this.nextIteration = undefined;\n                this.canEndAttribute = next.canEndAttribute;\n                this.canEnd = next.canEnd;\n            }\n            return nextRet;\n        }\n        return ret;\n    }\n    end() {\n        return this.canEnd ? false : this.currentIteration.end();\n    }\n    endAttributes() {\n        return this.canEndAttribute ? false : this.currentIteration.endAttributes();\n    }\n}\n//  LocalWords:  RNG's MPL currentIteration nextIteration canEnd oneOrMore rng\n//  LocalWords:  anyName suppressAttributes instantiateCurrentIteration\n//# sourceMappingURL=one_or_more.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Param = void 0;\n/**\n * Pattern for RNG's ``param`` element.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst base_1 = require(\"./base\");\n/**\n * This is a defunct pattern. During the processing of the RNG file all\n * ``param`` elements are converted into parameters to [[\"patterns/data\".Data]]\n * so we never end up with a converted file that contains an instance of this\n * class.\n */\nclass Param extends base_1.Pattern {\n    constructor(xmlPath) {\n        super(xmlPath);\n        throw new Error(\"this pattern is a placeholder and should never actually \" +\n            \"be used\");\n    }\n}\nexports.Param = Param;\n//  LocalWords:  RNG's MPL\n//# sourceMappingURL=param.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Value = void 0;\n/**\n * Pattern and walker for RNG's ``list`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst datatypes_1 = require(\"../datatypes\");\nconst ename_1 = require(\"../ename\");\nconst errors_1 = require(\"../errors\");\nconst events_1 = require(\"../events\");\nconst base_1 = require(\"./base\");\n/**\n * Value pattern.\n */\nclass Value extends base_1.Pattern {\n    /**\n     * @param xmlPath This is a string which uniquely identifies the\n     * element from the simplified RNG tree. Used in debugging.\n     *\n     * @param value The value expected in the document.\n     *\n     * @param type The type of value. ``undefined`` means\n     * ``\"token\"``.\n     *\n     * @param datatypeLibrary The URI of the datatype library to\n     * use. ``undefined`` means use the builtin library.\n     *\n     * @param ns The namespace in which to interpret the value.\n     *\n     * @param documentation Documentation about the value.\n     */\n    // tslint:disable-next-line: no-reserved-keywords\n    constructor(xmlPath, value, type = \"token\", datatypeLibrary = \"\", ns = \"\", documentation) {\n        super(xmlPath);\n        this.type = type;\n        this.datatypeLibrary = datatypeLibrary;\n        this.ns = ns;\n        this.datatype = datatypes_1.registry.get(this.datatypeLibrary).types[this.type];\n        if (this.datatype === undefined) {\n            throw new Error(`unknown type: ${type}`);\n        }\n        this.rawValue = value;\n        this.documentation = documentation;\n    }\n    get value() {\n        let ret = this._value;\n        if (ret != null) {\n            return ret;\n        }\n        // We construct a pseudo-context representing the context in the schema\n        // file.\n        let context;\n        if (this.datatype.needsContext) {\n            context = {\n                resolver: {\n                    resolveName: (name) => {\n                        return new ename_1.EName(this.ns, name);\n                    },\n                    clone() {\n                        throw new Error(\"cannot clone this resolver\");\n                    },\n                },\n            };\n        }\n        ret = this._value = this.datatype.parseValue(this.xmlPath, this.rawValue, context);\n        return ret;\n    }\n    hasEmptyPattern() {\n        return this.rawValue === \"\";\n    }\n    newWalker() {\n        const hasEmptyPattern = this.hasEmptyPattern();\n        // tslint:disable-next-line:no-use-before-declare\n        return new ValueWalker(this, false, hasEmptyPattern, hasEmptyPattern);\n    }\n}\nexports.Value = Value;\n/**\n * Walker for [[Value]].\n */\nclass ValueWalker {\n    constructor(el, matched, canEndAttribute, canEnd) {\n        this.el = el;\n        this.matched = matched;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new ValueWalker(this.el, this.matched, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        return new Set(this.matched ? undefined :\n            [new events_1.TextEvent(this.el.rawValue, this.el.documentation)]);\n    }\n    possibleAttributes() {\n        return new Set();\n    }\n    fireEvent(name, params, nameResolver) {\n        if (this.matched || name !== \"text\" ||\n            !this.el.datatype.equal(params[0], this.el.value, { resolver: nameResolver })) {\n            return new base_1.InternalFireEventResult(false);\n        }\n        this.matched = true;\n        this.canEndAttribute = this.canEnd = true;\n        return new base_1.InternalFireEventResult(true);\n    }\n    end() {\n        return this.canEnd ? false :\n            [new errors_1.ValidationError(`value required: ${this.el.rawValue}`)];\n    }\n    endAttributes() {\n        return this.canEndAttribute ? false :\n            [new errors_1.ValidationError(`value required: ${this.el.rawValue}`)];\n    }\n}\n//  LocalWords:  RNG's MPL RNG nd possibleCached\n//# sourceMappingURL=value.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RefWalker = exports.Ref = void 0;\nconst errors_1 = require(\"../errors\");\nconst events_1 = require(\"../events\");\nconst base_1 = require(\"./base\");\n/**\n * A pattern for RNG references.\n */\nclass Ref extends base_1.Pattern {\n    /**\n     *\n     * @param xmlPath This is a string which uniquely identifies the\n     * element from the simplified RNG tree. Used in debugging.\n     *\n     * @param name The reference name.\n     */\n    constructor(xmlPath, name) {\n        super(xmlPath);\n        this.name = name;\n    }\n    _prepare(definitions) {\n        this.resolvesTo = definitions.get(this.name);\n        if (this.resolvesTo === undefined) {\n            throw new Error(\"${this.name} cannot be resolved\");\n        }\n    }\n    hasEmptyPattern() {\n        // Refs always contain an element at the top level.\n        return false;\n    }\n    get element() {\n        const resolvesTo = this.resolvesTo;\n        if (resolvesTo === undefined) {\n            throw new Error(\"trying to get an element on a ref hat has not been \\\nresolved\");\n        }\n        return resolvesTo.pat;\n    }\n    newWalker() {\n        const element = this.element;\n        return element.notAllowed ?\n            element.pat.newWalker() :\n            // tslint:disable-next-line:no-use-before-declare\n            new RefWalker(this, element, element.name, new events_1.EnterStartTagEvent(element.name), true, false);\n    }\n}\nexports.Ref = Ref;\nclass RefWalker {\n    /**\n     * @param el The pattern for which this walker was constructed.\n     */\n    constructor(el, element, startName, startTagEvent, canEndAttribute, canEnd) {\n        this.el = el;\n        this.element = element;\n        this.startName = startName;\n        this.startTagEvent = startTagEvent;\n        this.canEndAttribute = canEndAttribute;\n        this.canEnd = canEnd;\n    }\n    clone() {\n        return new RefWalker(this.el, this.element, this.startName, this.startTagEvent, this.canEndAttribute, this.canEnd);\n    }\n    possible() {\n        return new Set(this.canEnd ? undefined : [this.startTagEvent]);\n    }\n    possibleAttributes() {\n        return new Set();\n    }\n    fireEvent(name, params) {\n        if (!this.canEnd &&\n            (name === \"enterStartTag\" || name === \"startTagAndAttributes\") &&\n            this.startName.match(params[0], params[1])) {\n            this.canEnd = true;\n            return new base_1.InternalFireEventResult(true, undefined, [this]);\n        }\n        return new base_1.InternalFireEventResult(false);\n    }\n    end() {\n        return !this.canEnd ?\n            [new errors_1.ElementNameError(\"tag required\", this.startName)] : false;\n    }\n    endAttributes() {\n        return false;\n    }\n}\nexports.RefWalker = RefWalker;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GrammarWalker = exports.Grammar = void 0;\n/**\n * Pattern and walker for RNG's ``grammar`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst errors_1 = require(\"../errors\");\nconst name_patterns_1 = require(\"../name_patterns\");\nconst set_1 = require(\"../set\");\nconst base_1 = require(\"./base\");\n/**\n * Grammar object. Users of this library normally do not create objects of this\n * class themselves but rely on the conversion facilities of salve to create\n * these objects.\n */\nclass Grammar extends base_1.BasePattern {\n    /**\n     * @param xmlPath This is a string which uniquely identifies the\n     * element from the simplified RNG tree. Used in debugging.\n     *\n     * @param start The start pattern of this grammar.\n     *\n     * @param definitions An array which contain all definitions specified in this\n     * grammar.\n     *\n     * @throws {Error} When any definition in the original\n     * schema refers to a schema entity which is not defined in the schema.\n     */\n    constructor(xmlPath, start, definitions) {\n        super(xmlPath);\n        this.xmlPath = xmlPath;\n        this.start = start;\n        this._namespaces = new Set();\n        const mapInit = [];\n        if (definitions !== undefined) {\n            for (const def of definitions) {\n                mapInit.push([def.name, def]);\n            }\n        }\n        this.definitions = new Map(mapInit);\n        this._prepare(this.definitions, this._namespaces);\n    }\n    /**\n     * Adds a definition.\n     *\n     * @param d The definition to add.\n     */\n    add(d) {\n        this.definitions.set(d.name, d);\n    }\n    get elementDefinitions() {\n        const ret = this._elementDefinitions;\n        if (ret !== undefined) {\n            return ret;\n        }\n        const newDef = this._elementDefinitions = Object.create(null);\n        for (const def of this.definitions.values()) {\n            const el = def.pat;\n            const key = el.name.toString();\n            if (newDef[key] === undefined) {\n                newDef[key] = [el];\n            }\n            else {\n                newDef[key].push(el);\n            }\n        }\n        return newDef;\n    }\n    /**\n     * @returns ``true`` if the schema is wholly context independent. This means\n     * that each element in the schema can be validated purely on the basis of\n     * knowing its expanded name. ``false`` otherwise.\n     */\n    whollyContextIndependent() {\n        const defs = this.elementDefinitions;\n        for (const v in defs) {\n            if (defs[v].length > 1) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * @returns An array of all namespaces used in the schema.  The array may\n     * contain two special values: ``*`` indicates that there was an ``anyName``\n     * element in the schema and thus that it is probably possible to insert more\n     * than the namespaces listed in the array, ``::except`` indicates that an\n     * ``except`` element is affecting what namespaces are acceptable to the\n     * schema.\n     */\n    getNamespaces() {\n        return Array.from(this._namespaces);\n    }\n    _prepare(definitions, namespaces) {\n        this.start._prepare(definitions, namespaces);\n        for (const d of this.definitions.values()) {\n            d._prepare(definitions, namespaces);\n        }\n    }\n    /**\n     * Creates a new walker to walk this pattern.\n     *\n     * @returns A walker.\n     */\n    newWalker(nameResolver) {\n        // tslint:disable-next-line:no-use-before-declare\n        return GrammarWalker.make(this, nameResolver);\n    }\n}\nexports.Grammar = Grammar;\nclass MisplacedElementWalker {\n    constructor() {\n        this.canEnd = true;\n        this.canEndAttribute = true;\n    }\n    fireEvent(name, params) {\n        // The strategy here is to accept everything except for elements.  The lack\n        // of match that occurs on enterStartTag and startTagAndAttributes is\n        // handled elsewhere.\n        switch (name) {\n            case \"enterStartTag\":\n            case \"startTagAndAttributes\":\n                return new base_1.InternalFireEventResult(false);\n            default:\n                return new base_1.InternalFireEventResult(true);\n        }\n    }\n    end() {\n        return false;\n    }\n    possible() {\n        return new Set();\n    }\n    clone() {\n        return new this.constructor();\n    }\n}\n/**\n * Walker for [[Grammar]].\n */\nclass GrammarWalker {\n    constructor(el, nameResolver, elementWalkerStack, misplacedDepth, _swallowAttributeValue, suspendedWs, ignoreNextWs) {\n        this.el = el;\n        this.nameResolver = nameResolver;\n        this.elementWalkerStack = elementWalkerStack;\n        this.misplacedDepth = misplacedDepth;\n        this._swallowAttributeValue = _swallowAttributeValue;\n        this.suspendedWs = suspendedWs;\n        this.ignoreNextWs = ignoreNextWs;\n    }\n    static make(el, nameResolver) {\n        return new GrammarWalker(el, nameResolver, [[el.start.newWalker()]], 0, false, undefined, false);\n    }\n    clone() {\n        return new GrammarWalker(this.el, this.nameResolver.clone(), this.elementWalkerStack\n            .map(walkers => walkers.map(x => x.clone())), this.misplacedDepth, this._swallowAttributeValue, this.suspendedWs, this.ignoreNextWs);\n    }\n    /**\n     * On a [[GrammarWalker]] this method cannot return ``undefined``. An\n     * undefined value would mean nothing matched, which is a validation error.\n     *\n     * @param name The event name.\n     *\n     * @param params The event parameters.\n     *\n     * @returns ``false`` if there is no error or an array errors.\n     *\n     * @throws {Error} When trying to process an event type unknown to salve.\n     */\n    fireEvent(name, params) {\n        // Whitespaces are problematic. On the one hand, if an element may contain\n        // only other elements and no text, then XML allows putting whitespace\n        // between the elements. This whitespace must not cause a validation\n        // error. When mixed content is possible, everywhere where text is allowed,\n        // a text of length 0 is possible. (``<text/>`` does not allow specifying a\n        // pattern or minimum length. And Relax NG constraints do not allow having\n        // an element whose content is a mixture of ``element`` and ``data`` and\n        // ``value`` that would constrain specific text patterns between the\n        // elements.) We can satisfy all situations by dropping text events that\n        // contain only whitespace.\n        //\n        // The only case where we'd want to pass a node consisting entirely of\n        // whitespace is to satisfy a data or value pattern because they can require\n        // a sequence of whitespaces.\n        let wsMatch = true;\n        switch (name) {\n            case \"text\": {\n                // Earlier versions of salve processed text events ahead of this switch\n                // block, but we moved it here to improve performance. There's no issue\n                // with having a case for text here because salve disallows firing more\n                // than one text event in sequence.\n                const text = params[0];\n                // Process whitespace nodes\n                if (!/\\S/.test(text)) {\n                    if (text === \"\") {\n                        throw new Error(\"firing empty text events makes no sense\");\n                    }\n                    // We don't check the old value of suspendedWs because salve does not\n                    // allow two text events in a row. So we should never have to\n                    // concatenate values.\n                    this.suspendedWs = text;\n                    return false;\n                }\n                break;\n            }\n            case \"endTag\":\n                if (!this.ignoreNextWs && this.suspendedWs !== undefined) {\n                    wsMatch = this._fireSuspendedWsOnCurrentWalkers();\n                }\n                this.ignoreNextWs = true;\n                break;\n            default:\n                this.ignoreNextWs = false;\n        }\n        // Absorb the whitespace: poof, gone!\n        this.suspendedWs = undefined;\n        // This would happen if the user puts an attribute on a tag that does not\n        // allow one. Instead of generating errors for both the attribute name\n        // and value, we generate an error for the name and ignore the value.\n        if (this._swallowAttributeValue) {\n            // Swallow only one event.\n            this._swallowAttributeValue = false;\n            return name === \"attributeValue\" ? false :\n                [new errors_1.ValidationError(\"attribute value required\")];\n        }\n        const ret = this._fireOnCurrentWalkers(name, params);\n        if (name === \"endTag\") {\n            // We do not need to end the walkers because the fireEvent handler\n            // for elements calls end when it sees an \"endTag\" event.\n            // We do not reduce the stack to nothing.\n            if (this.elementWalkerStack.length > 1) {\n                this.elementWalkerStack.pop();\n            }\n            if (this.misplacedDepth > 0) {\n                this.misplacedDepth--;\n            }\n        }\n        if (ret.matched) {\n            const { refs } = ret;\n            if (refs !== undefined && refs.length !== 0) {\n                this._processRefs(name, refs, params);\n                return false;\n            }\n            // There may still have been a problem a problem with the whitespace.\n            return wsMatch ? false : [new errors_1.ValidationError(\"text not allowed here\")];\n        }\n        return ret.errors !== undefined ? ret.errors :\n            this.diagnose(name, params, wsMatch);\n    }\n    diagnose(name, params, wsMatch) {\n        switch (name) {\n            case \"enterStartTag\":\n            case \"startTagAndAttributes\":\n                // Once in dumb mode, we remain in dumb mode.\n                if (this.misplacedDepth > 0) {\n                    this.misplacedDepth++;\n                    this.elementWalkerStack.push([new MisplacedElementWalker()]);\n                    return wsMatch ? false :\n                        [new errors_1.ValidationError(\"text not allowed here\")];\n                }\n                const elName = new name_patterns_1.Name(params[0], params[1]);\n                // Try to infer what element is meant by this errant tag. If we can't\n                // find a candidate, then fall back to a dumb mode.\n                const candidates = this.el.elementDefinitions[elName.toString()];\n                if (candidates !== undefined && candidates.length === 1) {\n                    const newWalker = candidates[0].newWalker(elName);\n                    this.elementWalkerStack.push([newWalker]);\n                    if (name === \"startTagAndAttributes\") {\n                        if (!newWalker.initWithAttributes(params, this.nameResolver).matched) {\n                            throw new Error(\"internal error: the inferred element \" +\n                                \"does not accept its initial event\");\n                        }\n                    }\n                }\n                else {\n                    // Dumb mode...\n                    this.misplacedDepth++;\n                    this.elementWalkerStack.push([new MisplacedElementWalker()]);\n                }\n                return [new errors_1.ElementNameError(name === \"enterStartTag\" ?\n                        \"tag not allowed here\" :\n                        \"tag not allowed here with these attributes\", elName)];\n            case \"endTag\":\n                return [new errors_1.ElementNameError(\"unexpected end tag\", new name_patterns_1.Name(params[0], params[1]))];\n            case \"attributeName\":\n                this._swallowAttributeValue = true;\n                return [new errors_1.AttributeNameError(\"attribute not allowed here\", new name_patterns_1.Name(params[0], params[1]))];\n            case \"attributeNameAndValue\":\n                return [new errors_1.AttributeNameError(\"attribute not allowed here\", new name_patterns_1.Name(params[0], params[1]))];\n            case \"attributeValue\":\n                return [new errors_1.ValidationError(\"unexpected attributeValue event; it \\\nis likely that fireEvent is incorrectly called\")];\n            case \"text\":\n                return [new errors_1.ValidationError(\"text not allowed here\")];\n            case \"leaveStartTag\":\n            // If MisplacedElementWalker did not exist then we would get here if a\n            // file being validated contains a tag which is not allowed. But it\n            // exists, so we cannot get here. If we do end up here, then there is\n            // an internal error somewhere.\n            /* falls through */\n            default:\n                throw new Error(`unexpected event type in GrammarWalker's fireEvent: \\\n${name}`);\n        }\n    }\n    // A text event either matches or does not match. It does not generate by\n    // itself an error. So we do not track errors in this specialized function,\n    // nor do we track references.\n    _fireSuspendedWsOnCurrentWalkers() {\n        const { elementWalkerStack } = this;\n        const last = elementWalkerStack.length - 1;\n        const walkers = elementWalkerStack[last];\n        // Checking whether walkers.length === 0 would not be a particularly useful\n        // optimization, as we don't let that happen.\n        // This optimization for the single walker case is significant.\n        if (walkers.length === 1) {\n            return walkers[0].fireEvent(\"text\", [this.suspendedWs], this.nameResolver).matched;\n        }\n        const params = [this.suspendedWs];\n        const remainingWalkers = [];\n        for (const walker of walkers) {\n            const result = walker.fireEvent(\"text\", params, this.nameResolver);\n            // We immediately filter out results that report a match (i.e. false).\n            if (result.matched) {\n                remainingWalkers.push(walker);\n            }\n        }\n        // We don't remove all walkers. If some walkers were successful and some\n        // were not, then we just keep the successful ones. But removing all walkers\n        // at once prevents us from giving useful error messages.\n        if (remainingWalkers.length !== 0) {\n            elementWalkerStack[last] = remainingWalkers;\n            return true;\n        }\n        return false;\n    }\n    _fireOnCurrentWalkers(name, params) {\n        const { elementWalkerStack } = this;\n        const last = elementWalkerStack.length - 1;\n        const walkers = elementWalkerStack[last];\n        // Checking whether walkers.length === 0 would not be a particularly useful\n        // optimization, as we don't let that happen.\n        // This optimization for the single walker case is significant.\n        if (walkers.length === 1) {\n            return walkers[0].fireEvent(name, params, this.nameResolver);\n        }\n        const errors = [];\n        const refs = [];\n        const remainingWalkers = [];\n        for (const walker of walkers) {\n            const result = walker.fireEvent(name, params, this.nameResolver);\n            // We immediately filter out results that report a match (i.e. false).\n            if (result.matched) {\n                remainingWalkers.push(walker);\n                if (result.refs !== undefined) {\n                    refs.push(...result.refs);\n                }\n            }\n            // There's no point in recording errors if we're going to toss them\n            // anyway.\n            else if ((remainingWalkers.length === 0) &&\n                (result.errors !== undefined)) {\n                errors.push(...result.errors);\n            }\n        }\n        // We don't remove all walkers. If some walkers were successful and some\n        // were not, then we just keep the successful ones. But removing all walkers\n        // at once prevents us from giving useful error messages.\n        if (remainingWalkers.length !== 0) {\n            elementWalkerStack[last] = remainingWalkers;\n            // If some of the walkers matched, we ignore the errors from the other\n            // walkers.\n            return new base_1.InternalFireEventResult(true, undefined, refs.length !== 0 ? refs : undefined);\n        }\n        return new base_1.InternalFireEventResult(false, errors.length !== 0 ? errors :\n            undefined);\n    }\n    _processRefs(name, refs, params) {\n        const newWalkers = [];\n        const boundName = new name_patterns_1.Name(params[0], params[1]);\n        if (name === \"startTagAndAttributes\") {\n            for (const item of refs) {\n                const walker = item.element.newWalker(boundName);\n                // If we get anything else than false here, the internal logic is\n                // wrong.\n                if (!walker.initWithAttributes(params, this.nameResolver).matched) {\n                    throw new Error(\"error or failed to match on a new element \\\nwalker: the internal logic is incorrect\");\n                }\n                newWalkers.push(walker);\n            }\n        }\n        else {\n            for (const item of refs) {\n                newWalkers.push(item.element.newWalker(boundName));\n            }\n        }\n        this.elementWalkerStack.push(newWalkers);\n    }\n    canEnd() {\n        const top = this.elementWalkerStack[this.elementWalkerStack.length - 1];\n        return this.elementWalkerStack.length === 1 &&\n            top.length > 0 && top[0].canEnd;\n    }\n    end() {\n        if (this.elementWalkerStack.length < 1) {\n            throw new Error(\"stack underflow\");\n        }\n        let finalResult = [];\n        for (let ix = this.elementWalkerStack.length - 1; ix >= 0; --ix) {\n            const stackElement = this.elementWalkerStack[ix];\n            for (const walker of stackElement) {\n                const result = walker.end();\n                if (result) {\n                    finalResult = finalResult.concat(result);\n                }\n            }\n        }\n        return finalResult.length !== 0 ? finalResult : false;\n    }\n    possible() {\n        let possible = new Set();\n        for (const walker of this.elementWalkerStack[this.elementWalkerStack.length - 1]) {\n            set_1.union(possible, walker.possible());\n        }\n        // If we have any attributeValue possible, then the only possible\n        // events are attributeValue events.\n        if (possible.size !== 0) {\n            const valueEvs = set_1.filter(possible, ({ name }) => name === \"attributeValue\");\n            if (valueEvs.size !== 0) {\n                possible = valueEvs;\n            }\n        }\n        return possible;\n    }\n}\nexports.GrammarWalker = GrammarWalker;\n//  LocalWords:  RNG's MPL unresolvable runtime RNG NG firstName enterContext\n//  LocalWords:  leaveContext definePrefix whitespace enterStartTag endTag\n//  LocalWords:  fireEvent attributeValue attributeName leaveStartTag\n//  LocalWords:  misplacedElements ElementNameError GrammarWalker's\n//  LocalWords:  suppressAttributes GrammarWalker\n//# sourceMappingURL=grammar.js.map","/**\n * This module contains utilities used for converting Relax NG files to the\n * format required by salve.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n *\n */\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar convert_1 = require(\"./conversion/convert\");\nObject.defineProperty(exports, \"convertRNGToPattern\", { enumerable: true, get: function () { return convert_1.convertRNGToPattern; } });\nvar parser_1 = require(\"./conversion/parser\");\nObject.defineProperty(exports, \"Element\", { enumerable: true, get: function () { return parser_1.Element; } });\nObject.defineProperty(exports, \"parseSimplifiedSchema\", { enumerable: true, get: function () { return parser_1.parseSimplifiedSchema; } });\nObject.defineProperty(exports, \"Text\", { enumerable: true, get: function () { return parser_1.Text; } });\nvar resource_loader_1 = require(\"./conversion/resource-loader\");\nObject.defineProperty(exports, \"makeResourceLoader\", { enumerable: true, get: function () { return resource_loader_1.makeResourceLoader; } });\nvar serializer_1 = require(\"./conversion/serializer\");\nObject.defineProperty(exports, \"serialize\", { enumerable: true, get: function () { return serializer_1.serialize; } });\nvar schema_simplification_1 = require(\"./conversion/schema-simplification\");\nObject.defineProperty(exports, \"getAvailableSimplifiers\", { enumerable: true, get: function () { return schema_simplification_1.getAvailableSimplifiers; } });\nObject.defineProperty(exports, \"makeSimplifier\", { enumerable: true, get: function () { return schema_simplification_1.makeSimplifier; } });\nvar schema_validation_1 = require(\"./conversion/schema-validation\");\nObject.defineProperty(exports, \"getAvailableValidators\", { enumerable: true, get: function () { return schema_validation_1.getAvailableValidators; } });\nObject.defineProperty(exports, \"makeValidator\", { enumerable: true, get: function () { return schema_validation_1.makeValidator; } });\nObject.defineProperty(exports, \"SchemaValidationError\", { enumerable: true, get: function () { return schema_validation_1.SchemaValidationError; } });\n//# sourceMappingURL=conversion.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertRNGToPattern = void 0;\nconst tslib_1 = require(\"tslib\");\nconst convert_simplified_1 = require(\"./convert-simplified\");\nconst resource_loader_1 = require(\"./resource-loader\");\nconst internal_1 = require(\"./schema-simplifiers/internal\");\nconst DEFAULT_OPTIONS = {\n    createManifest: false,\n    manifestHashAlgorithm: \"SHA-1\",\n    resourceLoader: undefined,\n};\n/**\n * Validate, simplify and convert a schema to a pattern, which can then be used\n * to validate an XML document. This function uses the internal simplification\n * and validation code.\n *\n * @param schemaPath The schema's location. The schema must be in the XML Relax\n * NG format. (Not the compact notation.)\n *\n * @param options The options driving the conversion.\n *\n * @returns The converted pattern.\n */\nfunction convertRNGToPattern(schemaPath, options = DEFAULT_OPTIONS) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const resourceLoader = options.resourceLoader !== undefined ?\n            options.resourceLoader : resource_loader_1.makeResourceLoader();\n        const simplifier = new internal_1.InternalSimplifier({\n            verbose: false,\n            timing: false,\n            keepTemp: false,\n            simplifyTo: Infinity,\n            resourceLoader,\n            validate: true,\n            createManifest: options.createManifest,\n            manifestHashAlgorithm: options.manifestHashAlgorithm,\n        });\n        const { simplified, warnings, manifest } = yield simplifier.simplify(schemaPath);\n        return {\n            pattern: convert_simplified_1.makePatternFromSimplifiedSchema(simplified),\n            simplified,\n            warnings,\n            manifest,\n        };\n    });\n}\nexports.convertRNGToPattern = convertRNGToPattern;\n//# sourceMappingURL=convert.js.map","\"use strict\";\n/**\n * This module contains the logic for converting a simplified schema to a\n * pattern.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makePatternFromSimplifiedSchema = void 0;\nconst name_patterns_1 = require(\"../name_patterns\");\nconst patterns_1 = require(\"../patterns\");\nfunction walk(el) {\n    switch (el.local) {\n        //  \"param\" is not needed as a separate case, because it is handled in\n        //  \"data\"\n        //\n        case \"grammar\":\n            return new patterns_1.Grammar(el.path, walk(el.children[0]), el.children.slice(1)\n                .map(x => walk(x)));\n        case \"except\":\n        case \"start\":\n            return walk(el.children[0]);\n        case \"define\":\n            return new patterns_1.Define(el.path, el.mustGetAttribute(\"name\"), walk(el.children[0]));\n        case \"ref\":\n            return new patterns_1.Ref(el.path, el.mustGetAttribute(\"name\"));\n        case \"value\":\n            return new patterns_1.Value(el.path, el.text, el.mustGetAttribute(\"type\"), el.mustGetAttribute(\"datatypeLibrary\"), el.mustGetAttribute(\"ns\"), el.documentation);\n        case \"data\":\n            const children = el.children;\n            const length = children.length;\n            const last = children[length - 1];\n            const except = (length !== 0 && last.local === \"except\") ? last : undefined;\n            const params = (except === undefined ? children : children.slice(0, -1))\n                .map(param => ({ name: param.mustGetAttribute(\"name\"),\n                value: param.children[0].text }));\n            return new patterns_1.Data(el.path, el.mustGetAttribute(\"type\"), el.mustGetAttribute(\"datatypeLibrary\"), params, except !== undefined ?\n                walk(except) :\n                undefined);\n        case \"group\":\n            return new patterns_1.Group(el.path, walk(el.children[0]), walk(el.children[1]));\n        case \"interleave\":\n            return new patterns_1.Interleave(el.path, walk(el.children[0]), walk(el.children[1]));\n        case \"choice\":\n            return new patterns_1.Choice(el.path, walk(el.children[0]), walk(el.children[1]));\n        case \"oneOrMore\":\n            return new patterns_1.OneOrMore(el.path, walk(el.children[0]));\n        case \"element\":\n            return new patterns_1.Element(el.path, walkNameClass(el.children[0]), walk(el.children[1]));\n        case \"attribute\":\n            return new patterns_1.Attribute(el.path, walkNameClass(el.children[0]), walk(el.children[1]));\n        case \"empty\":\n            return new patterns_1.Empty(el.path);\n        case \"text\":\n            return new patterns_1.Text(el.path);\n        case \"list\":\n            return new patterns_1.List(el.path, walk(el.children[0]));\n        case \"notAllowed\":\n            return new patterns_1.NotAllowed(el.path);\n        default:\n            throw new Error(`unexpected local name: ${el.local}`);\n    }\n}\nfunction walkNameClass(el) {\n    switch (el.local) {\n        case \"choice\":\n            return new name_patterns_1.NameChoice(walkNameClass(el.children[0]), walkNameClass(el.children[1]));\n        case \"name\":\n            return new name_patterns_1.Name(el.mustGetAttribute(\"ns\"), el.text, el.documentation);\n        case \"nsName\":\n            return new name_patterns_1.NsName(el.mustGetAttribute(\"ns\"), el.children.length !== 0 ?\n                walkNameClass(el.children[0]) :\n                undefined);\n        case \"anyName\":\n            return new name_patterns_1.AnyName(el.children.length !== 0 ?\n                walkNameClass(el.children[0]) :\n                undefined);\n        case \"except\":\n            return walkNameClass(el.children[0]);\n        default:\n            throw new Error(`unexpected local name: ${el.local}`);\n    }\n}\nfunction makePatternFromSimplifiedSchema(tree) {\n    const ret = walk(tree);\n    if (!(ret instanceof patterns_1.Grammar)) {\n        throw new Error(\"tree did not produce a Grammar!\");\n    }\n    return ret;\n}\nexports.makePatternFromSimplifiedSchema = makePatternFromSimplifiedSchema;\n//# sourceMappingURL=convert-simplified.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FetchResourceLoader = exports.FetchResource = void 0;\nconst tslib_1 = require(\"tslib\");\n// tslint:disable-next-line:no-typeof-undefined\nif (typeof fetch === \"undefined\") {\n    throw new Error(\"trying to load the fetch loader when fetch is absent\");\n}\nclass FetchResource {\n    constructor(url, response) {\n        this.url = url;\n        this.response = response;\n    }\n    getText() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return this.response.text();\n        });\n    }\n}\nexports.FetchResource = FetchResource;\n/**\n * A resource loader that loads resources using ``fetch``. It can only be used\n * in an environment where ``fetch`` is native or provided by a polyfill.\n *\n * This loader does not allow loading from ``file://``.\n */\nclass FetchResourceLoader {\n    load(url) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (url.protocol === \"file:\") {\n                throw new Error(\"this loader cannot load from the file system\");\n            }\n            const response = yield fetch(url.toString());\n            if (!response.ok) {\n                throw new Error(`unable to fetch ${url}`);\n            }\n            return new FetchResource(url, response);\n        });\n    }\n}\nexports.FetchResourceLoader = FetchResourceLoader;\n//# sourceMappingURL=fetch.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalSimplifier = void 0;\nconst tslib_1 = require(\"tslib\");\n/**\n * A simplifier implemented in TypeScript (thus internal to Salve).\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nconst saxes_1 = require(\"saxes\");\nconst datatypes_1 = require(\"../../datatypes\");\nconst default_name_resolver_1 = require(\"../../default_name_resolver\");\nconst read_1 = require(\"../../json-format/read\");\nconst patterns_1 = require(\"../../patterns\");\nconst relaxng = tslib_1.__importStar(require(\"../../schemas/relaxng.json\"));\nconst parser_1 = require(\"../parser\");\nconst schema_simplification_1 = require(\"../schema-simplification\");\nconst schema_validation_1 = require(\"../schema-validation\");\nconst simplifier = tslib_1.__importStar(require(\"../simplifier\"));\nconst util_1 = require(\"../simplifier/util\");\nconst base_1 = require(\"./base\");\nconst common_1 = require(\"./common\");\nfunction makeNamePattern(el) {\n    switch (el.local) {\n        case \"name\":\n            return new patterns_1.Name(el.mustGetAttribute(\"ns\"), el.text, el.documentation);\n        case \"choice\":\n            return new patterns_1.NameChoice(makeNamePattern(el.children[0]), makeNamePattern(el.children[1]));\n        case \"anyName\": {\n            const first = el.children[0];\n            return new patterns_1.AnyName(first !== undefined ? makeNamePattern(first) :\n                undefined);\n        }\n        case \"nsName\": {\n            const first = el.children[0];\n            return new patterns_1.NsName(el.mustGetAttribute(\"ns\"), first !== undefined ? makeNamePattern(first) :\n                undefined);\n        }\n        case \"except\":\n            return makeNamePattern(el.children[0]);\n        default:\n            throw new Error(`unexpected element in name pattern ${el.local}`);\n    }\n}\nclass ProhibitedPath extends schema_validation_1.SchemaValidationError {\n    constructor(path) {\n        super(`prohibited path: ${path}`);\n    }\n}\nclass ProhibitedAttributePath extends schema_validation_1.SchemaValidationError {\n    constructor(name) {\n        super(`attribute//${name}`);\n    }\n}\nclass ProhibitedListPath extends schema_validation_1.SchemaValidationError {\n    constructor(name) {\n        super(`list//${name}`);\n    }\n}\nclass ProhibitedStartPath extends schema_validation_1.SchemaValidationError {\n    constructor(name) {\n        super(`start//${name}`);\n    }\n}\nclass ProhibitedDataExceptPath extends schema_validation_1.SchemaValidationError {\n    constructor(name) {\n        super(`data/except//${name}`);\n    }\n}\nconst EMPTY_ELEMENT_ARRAY = [];\nconst EMPTY_NAME_ARRAY = [];\nconst TEXT_RESULT = {\n    contentType: 1 /* COMPLEX */,\n    occurringAttributeNames: EMPTY_NAME_ARRAY,\n    occurringRefs: EMPTY_ELEMENT_ARRAY,\n    occurringTexts: true,\n};\nconst EMPTY_RESULT = {\n    contentType: 0 /* EMPTY */,\n    occurringAttributeNames: EMPTY_NAME_ARRAY,\n    occurringRefs: EMPTY_ELEMENT_ARRAY,\n    occurringTexts: false,\n};\nconst DATA_RESULT = {\n    contentType: 2 /* SIMPLE */,\n    occurringAttributeNames: EMPTY_NAME_ARRAY,\n    occurringRefs: EMPTY_ELEMENT_ARRAY,\n    occurringTexts: false,\n};\nconst LIST_RESULT = DATA_RESULT;\nconst VALUE_RESULT = DATA_RESULT;\nconst NOT_ALLOWED_RESULT = {\n    contentType: null,\n    occurringAttributeNames: EMPTY_NAME_ARRAY,\n    occurringRefs: EMPTY_ELEMENT_ARRAY,\n    occurringTexts: false,\n};\nconst FORBIDDEN_IN_START = [\"attribute\", \"data\", \"value\", \"text\", \"list\",\n    \"group\", \"interleave\", \"oneOrMore\", \"empty\"];\n/**\n * Perform the final constraint checks, and record some information\n * for checkInterleaveRestriction.\n */\nclass GeneralChecker {\n    constructor() {\n        this.defineNameToElementNames = new Map();\n        this.typeWarnings = [];\n    }\n    check(el) {\n        const { children } = el;\n        const definesByName = new Map();\n        for (let ix = 1; ix < children.length; ++ix) {\n            const child = children[ix];\n            definesByName.set(child.mustGetAttribute(\"name\"), child);\n        }\n        this.definesByName = definesByName;\n        const start = children[0];\n        const found = util_1.findMultiDescendantsByLocalName(start, FORBIDDEN_IN_START);\n        for (const forbidden of FORBIDDEN_IN_START) {\n            if (found[forbidden].length !== 0) {\n                throw new ProhibitedStartPath(forbidden);\n            }\n        }\n        const state = {\n            inAttribute: false,\n            inList: false,\n            inDataExcept: false,\n            inOneOrMore: false,\n            inOneOrMoreGroup: false,\n            inOneOrMoreInterleave: false,\n            inInterlave: false,\n            inGroup: false,\n        };\n        // The first child of <grammar> is necessarily <start>. So we handle\n        // start here.\n        this._check(start.children[0], state);\n        // The other children are necessarily <define>.\n        for (let ix = 1; ix < children.length; ++ix) {\n            // <define> elements necessarily have a single child which is an\n            // <element>.\n            const element = children[ix].children[0];\n            // The first child is the name class, which we do not need to walk.\n            const pattern = element.children[1];\n            const { contentType } = this._check(pattern, state);\n            if (contentType === null && pattern.local !== \"notAllowed\") {\n                throw new schema_validation_1.SchemaValidationError(`definition ${el.mustGetAttribute(\"name\")} violates the constraint \\\non string values (section 7.2)`);\n            }\n        }\n    }\n    _check(el, state) {\n        return this[`${el.local}Handler`]\n            .call(this, el, state);\n    }\n    attributeHandler(el, state) {\n        if (state.inOneOrMoreGroup) {\n            throw new ProhibitedPath(\"oneOrMore//group//attribute\");\n        }\n        if (state.inOneOrMoreInterleave) {\n            throw new ProhibitedPath(\"oneOrMore//interleave//attribute\");\n        }\n        if (state.inAttribute) {\n            throw new ProhibitedAttributePath(el.local);\n        }\n        if (state.inList) {\n            throw new ProhibitedListPath(el.local);\n        }\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        const [first, second] = el.children;\n        const name = makeNamePattern(first);\n        if (!state.inOneOrMore && !name.simple()) {\n            throw new schema_validation_1.SchemaValidationError(\"an attribute with an infinite name \\\nclass must be a descendant of oneOrMore (section 7.3)\");\n        }\n        // The first child is the name class, which we do not need to walk.\n        this._check(second, Object.assign(Object.assign({}, state), { inAttribute: true }));\n        return {\n            contentType: 0 /* EMPTY */,\n            occurringAttributeNames: [name],\n            occurringRefs: EMPTY_ELEMENT_ARRAY,\n            occurringTexts: false,\n        };\n    }\n    oneOrMoreHandler(el, state) {\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        const { contentType, occurringAttributeNames, occurringRefs, occurringTexts } = this._check(el.children[0], Object.assign(Object.assign({}, state), { inOneOrMore: true }));\n        // The test would be\n        //\n        // ct !== null && groupable(ct, ct)\n        //\n        // but the only thing not groupable with itself is ContentType.SIMPLE\n        // and if ct === null then forcibly ct !== ContentType.SIMPLE\n        // is true so we can simplify to the following.\n        return {\n            contentType: contentType !== 2 /* SIMPLE */ ? contentType : null,\n            occurringAttributeNames,\n            occurringRefs,\n            occurringTexts,\n        };\n    }\n    groupHandler(el, state) {\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        return this.groupInterleaveHandler(el.children, Object.assign(Object.assign({}, state), { inGroup: true, inOneOrMoreGroup: state.inOneOrMore }), false);\n    }\n    interleaveHandler(el, state) {\n        if (state.inList) {\n            throw new ProhibitedListPath(el.local);\n        }\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        return this.groupInterleaveHandler(el.children, Object.assign(Object.assign({}, state), { inInterlave: true, inOneOrMoreInterleave: state.inOneOrMore }), true);\n    }\n    choiceHandler(el, state) {\n        const { contentType: firstCt, occurringAttributeNames: firstAttributes, occurringRefs: firstRefs, occurringTexts: firstTexts } = this._check(el.children[0], state);\n        const { contentType: secondCt, occurringAttributeNames: secondAttributes, occurringRefs: secondRefs, occurringTexts: secondTexts } = this._check(el.children[1], state);\n        return {\n            contentType: firstCt !== null && secondCt !== null ?\n                (firstCt > secondCt ? firstCt : secondCt) : null,\n            occurringAttributeNames: firstAttributes.concat(secondAttributes),\n            occurringRefs: firstRefs.concat(secondRefs),\n            occurringTexts: firstTexts || secondTexts,\n        };\n    }\n    listHandler(el, state) {\n        if (state.inList) {\n            throw new ProhibitedListPath(el.local);\n        }\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        this._check(el.children[0], Object.assign(Object.assign({}, state), { inList: true }));\n        return LIST_RESULT;\n    }\n    dataHandler(el, state) {\n        const typeAttr = el.mustGetAttribute(\"type\");\n        const libname = el.mustGetAttribute(\"datatypeLibrary\");\n        const lib = datatypes_1.registry.find(libname);\n        if (lib === undefined) {\n            throw new datatypes_1.ValueValidationError(el.path, [new datatypes_1.ValueError(`unknown datatype library: ${libname}`)]);\n        }\n        const datatype = lib.types[typeAttr];\n        if (datatype === undefined) {\n            throw new datatypes_1.ValueValidationError(el.path, [new datatypes_1.ValueError(`unknown datatype ${typeAttr} in \\\n${(libname === \"\") ? \"default library\" : `library ${libname}`}`)]);\n        }\n        const { children } = el;\n        if (children.length !== 0) {\n            const last = children[children.length - 1];\n            // We only need to scan the possible except child, which is necessarily\n            // last.\n            const hasExcept = last.local === \"except\";\n            const limit = hasExcept ? children.length - 1 : children.length;\n            // Running parseParams if we have no params is expensive. And if there are\n            // no params, there's nothing to check so don't run parseParams without\n            // params.\n            if (limit > 0) {\n                const params = [];\n                for (let ix = 0; ix < limit; ++ix) {\n                    const child = children[ix];\n                    params.push({\n                        name: child.mustGetAttribute(\"name\"),\n                        value: child.text,\n                    });\n                }\n                datatype.parseParams(el.path, params);\n            }\n            if (hasExcept) {\n                this._check(last.children[0], state.inDataExcept ? state : Object.assign(Object.assign({}, state), { inDataExcept: true }));\n            }\n        }\n        // tslint:disable-next-line: no-http-string\n        if (libname === \"http://www.w3.org/2001/XMLSchema-datatypes\" &&\n            (typeAttr === \"ENTITY\" || typeAttr === \"ENTITIES\")) {\n            this.typeWarnings.push(`WARNING: ${el.path} uses the ${typeAttr} type in library \\\n${libname}`);\n        }\n        return DATA_RESULT;\n    }\n    valueHandler(el, state) {\n        const typeAttr = el.mustGetAttribute(\"type\");\n        const libname = el.mustGetAttribute(\"datatypeLibrary\");\n        let ns = el.mustGetAttribute(\"ns\");\n        const lib = datatypes_1.registry.find(libname);\n        if (lib === undefined) {\n            throw new datatypes_1.ValueValidationError(el.path, [new datatypes_1.ValueError(`unknown datatype library: ${libname}`)]);\n        }\n        const datatype = lib.types[typeAttr];\n        if (datatype === undefined) {\n            throw new datatypes_1.ValueValidationError(el.path, [new datatypes_1.ValueError(`unknown datatype ${typeAttr} in \\\n${(libname === \"\") ? \"default library\" : `library ${libname}`}`)]);\n        }\n        let value = el.text;\n        let context;\n        if (datatype.needsContext) {\n            // Change ns to the namespace we need.\n            ns = common_1.fromQNameToURI(value, el);\n            value = common_1.localName(value);\n            el.setAttribute(\"ns\", ns);\n            el.replaceContent([new parser_1.Text(value)]);\n            const nr = new default_name_resolver_1.DefaultNameResolver();\n            nr.definePrefix(\"\", ns);\n            context = { resolver: nr };\n        }\n        datatype.parseValue(el.path, value, context);\n        // tslint:disable-next-line: no-http-string\n        if (libname === \"http://www.w3.org/2001/XMLSchema-datatypes\" &&\n            (typeAttr === \"ENTITY\" || typeAttr === \"ENTITIES\")) {\n            this.typeWarnings.push(`WARNING: ${el.path} uses the ${typeAttr} type in library \\\n${libname}`);\n        }\n        return VALUE_RESULT;\n    }\n    textHandler(el, state) {\n        if (state.inList) {\n            throw new ProhibitedListPath(el.local);\n        }\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        return TEXT_RESULT;\n    }\n    refHandler(el, state) {\n        if (state.inList) {\n            throw new ProhibitedListPath(el.local);\n        }\n        if (state.inAttribute) {\n            throw new ProhibitedAttributePath(el.local);\n        }\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        return {\n            contentType: 1 /* COMPLEX */,\n            occurringAttributeNames: EMPTY_NAME_ARRAY,\n            occurringRefs: [el],\n            occurringTexts: false,\n        };\n    }\n    emptyHandler(el, state) {\n        if (state.inDataExcept) {\n            throw new ProhibitedDataExceptPath(el.local);\n        }\n        return EMPTY_RESULT;\n    }\n    notAllowedHandler() {\n        return NOT_ALLOWED_RESULT;\n    }\n    getElementNamesForDefine(name) {\n        let pattern = this.defineNameToElementNames.get(name);\n        if (pattern === undefined) {\n            const def = this.definesByName.get(name);\n            // tslint:disable-next-line:no-non-null-assertion\n            const element = def.children[0];\n            const namePattern = element.children[0];\n            pattern = makeNamePattern(namePattern);\n            this.defineNameToElementNames.set(name, pattern);\n        }\n        return pattern;\n    }\n    groupInterleaveHandler(children, newState, isInterleave) {\n        const { contentType: firstCt, occurringAttributeNames: firstAttributes, occurringRefs: firstRefs, occurringTexts: firstTexts } = this._check(children[0], newState);\n        const { contentType: secondCt, occurringAttributeNames: secondAttributes, occurringRefs: secondRefs, occurringTexts: secondTexts } = this._check(children[1], newState);\n        for (const attr1 of firstAttributes) {\n            for (const attr2 of secondAttributes) {\n                if (attr1.intersects(attr2)) {\n                    throw new schema_validation_1.SchemaValidationError(`the name classes of two attributes in the same group or\ninterleave intersect (section 7.3): ${attr1} and ${attr2}`);\n                }\n            }\n        }\n        if (isInterleave) {\n            if (firstTexts && secondTexts) {\n                throw new schema_validation_1.SchemaValidationError(\"text present in both patterns of an interleave (section 7.4)\");\n            }\n            for (const ref1 of firstRefs) {\n                const name1 = this.getElementNamesForDefine(ref1.mustGetAttribute(\"name\"));\n                for (const ref2 of secondRefs) {\n                    const name2 = this.getElementNamesForDefine(ref2.mustGetAttribute(\"name\"));\n                    if (name1.intersects(name2)) {\n                        throw new schema_validation_1.SchemaValidationError(`name classes of elements in both \\\npatterns of an interleave intersect (section 7.4): ${name1} and ${name2}`);\n                    }\n                }\n            }\n        }\n        // These tests combine the groupable(firstCt, secondCt) test together with\n        // the requirement that we return the content type which is the greatest.\n        let contentType;\n        if (firstCt === 1 /* COMPLEX */ && secondCt === 1 /* COMPLEX */) {\n            contentType = 1 /* COMPLEX */;\n        }\n        else if (firstCt === 0 /* EMPTY */) {\n            contentType = secondCt;\n        }\n        else {\n            contentType = (secondCt === 0 /* EMPTY */) ? firstCt : null;\n        }\n        return {\n            contentType,\n            occurringAttributeNames: firstAttributes.concat(secondAttributes),\n            occurringRefs: firstRefs.concat(secondRefs),\n            occurringTexts: firstTexts || secondTexts,\n        };\n    }\n}\nlet cachedGrammar;\nfunction getGrammar() {\n    if (cachedGrammar === undefined) {\n        cachedGrammar = read_1.readTreeFromJSON(relaxng);\n    }\n    return cachedGrammar;\n}\n/**\n * A simplifier implemented in TypeScript (thus internal to Salve).\n */\nclass InternalSimplifier extends base_1.BaseSimplifier {\n    constructor(options) {\n        super(options);\n        this.manifestPromises = [];\n        if (options.timing) {\n            options.verbose = true;\n        }\n    }\n    parse(filePath) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const schemaResource = yield this.options.resourceLoader.load(filePath);\n            const schemaText = yield schemaResource.getText();\n            const fileName = filePath.toString();\n            const saxesParser = new saxes_1.SaxesParser({ xmlns: true,\n                position: false,\n                fileName });\n            let validator;\n            if (this.options.validate) {\n                validator = new parser_1.Validator(getGrammar(), saxesParser);\n            }\n            const parser = new parser_1.BasicParser(saxesParser, validator);\n            parser.saxesParser.write(schemaText);\n            parser.saxesParser.close();\n            if (validator !== undefined) {\n                if (validator.errors.length !== 0) {\n                    const message = validator.errors.map(x => x.toString()).join(\"\\n\");\n                    throw new schema_validation_1.SchemaValidationError(message);\n                }\n            }\n            if (this.options.createManifest) {\n                const algo = this.options.manifestHashAlgorithm;\n                if (typeof algo === \"string\") {\n                    this.manifestPromises.push((() => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                        const digest = \n                        // tslint:disable-next-line:await-promise\n                        yield crypto.subtle.digest(algo, new TextEncoder().encode(schemaText));\n                        const arr = new Uint8Array(digest);\n                        let hash = `${algo}-`;\n                        for (const x of arr) {\n                            const hex = x.toString(16);\n                            hash += x > 0xF ? hex : `0${hex}`;\n                        }\n                        return { filePath: fileName, hash };\n                    }))());\n                }\n                else {\n                    this.manifestPromises.push((() => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                        const hash = yield algo(schemaResource);\n                        return { filePath: fileName, hash };\n                    }))());\n                }\n            }\n            return parser.root;\n        });\n    }\n    stepStart(no) {\n        this.stepTiming();\n        if (this.options.verbose) {\n            // tslint:disable-next-line:no-console\n            console.log(`Simplification step ${no}`);\n        }\n    }\n    stepTiming() {\n        if (!this.options.timing) {\n            return;\n        }\n        if (this.lastStepStart !== undefined) {\n            // tslint:disable-next-line:no-console\n            console.log(`${Date.now() - this.lastStepStart}ms`);\n            this.lastStepStart = undefined;\n        }\n        this.lastStepStart = Date.now();\n    }\n    simplify(schemaPath) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let startTime;\n            if (this.options.verbose) {\n                // tslint:disable-next-line:no-console\n                console.log(\"Simplifying...\");\n                if (this.options.timing) {\n                    startTime = Date.now();\n                }\n            }\n            let warnings = [];\n            let tree;\n            if (this.options.simplifyTo >= 1) {\n                this.stepStart(1);\n                tree = yield this.parse(schemaPath);\n                tree = yield simplifier.step1(schemaPath, tree, this.parse.bind(this));\n            }\n            if (this.options.simplifyTo >= 4) {\n                this.stepStart(4);\n                tree = simplifier.step4(tree);\n            }\n            if (this.options.simplifyTo >= 6) {\n                this.stepStart(6);\n                tree = simplifier.step6(tree);\n            }\n            if (this.options.simplifyTo >= 9) {\n                this.stepStart(9);\n                tree = simplifier.step9(tree);\n            }\n            if (this.options.simplifyTo >= 10) {\n                this.stepStart(10);\n                tree = simplifier.step10(tree, this.options.validate);\n            }\n            if (this.options.simplifyTo >= 14) {\n                this.stepStart(14);\n                tree = simplifier.step14(tree);\n            }\n            if (this.options.simplifyTo >= 15) {\n                this.stepStart(15);\n                tree = simplifier.step15(tree);\n            }\n            if (this.options.simplifyTo >= 16) {\n                this.stepStart(16);\n                tree = simplifier.step16(tree);\n            }\n            if (this.options.simplifyTo >= 17) {\n                this.stepStart(17);\n                tree = simplifier.step17(tree);\n            }\n            if (this.options.simplifyTo >= 18) {\n                this.stepStart(18);\n                tree = simplifier.step18(tree);\n                if (this.options.validate) {\n                    let checkStart;\n                    if (this.options.timing) {\n                        checkStart = Date.now();\n                    }\n                    const checker = new GeneralChecker();\n                    checker.check(tree);\n                    warnings = checker.typeWarnings;\n                    if (this.options.timing) {\n                        // tslint:disable-next-line:no-non-null-assertion no-console\n                        console.log(`Step 18 check delta: ${Date.now() - checkStart}`);\n                    }\n                }\n            }\n            if (this.options.timing) {\n                this.stepTiming(); // Output the last timing.\n                // tslint:disable-next-line:no-non-null-assertion no-console\n                console.log(`Simplification delta: ${Date.now() - startTime}`);\n            }\n            return {\n                simplified: tree,\n                warnings,\n                manifest: yield Promise.all(this.manifestPromises),\n            };\n        });\n    }\n}\nexports.InternalSimplifier = InternalSimplifier;\nInternalSimplifier.validates = true;\nInternalSimplifier.createsManifest = true;\nschema_simplification_1.registerSimplifier(\"internal\", InternalSimplifier);\n//# sourceMappingURL=internal.js.map","\"use strict\";\n/**\n * Character classes and associated utilities for the 5th edition of XML 1.0.\n *\n * @author Louis-Dominique Dubeau\n * @license MIT\n * @copyright Louis-Dominique Dubeau\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//\n// Fragments.\n//\nexports.CHAR = \"\\t\\n\\r -\\uD7FF\\uE000-\\uFFFD\\uD800\\uDC00-\\uDBFF\\uDFFF\";\nexports.S = \" \\t\\r\\n\";\n// tslint:disable-next-line:max-line-length\nexports.NAME_START_CHAR = \":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\uD800\\uDC00-\\uDB7F\\uDFFF\";\nexports.NAME_CHAR = \"-\" + exports.NAME_START_CHAR + \".0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040\";\n//\n// Regular expressions.\n//\nexports.CHAR_RE = new RegExp(\"^[\" + exports.CHAR + \"]$\", \"u\");\nexports.S_RE = new RegExp(\"^[\" + exports.S + \"]+$\", \"u\");\nexports.NAME_START_CHAR_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"]$\", \"u\");\nexports.NAME_CHAR_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]$\", \"u\");\nexports.NAME_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"][\" + exports.NAME_CHAR + \"]*$\", \"u\");\nexports.NMTOKEN_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]+$\", \"u\");\nvar TAB = 9;\nvar NL = 0xA;\nvar CR = 0xD;\nvar SPACE = 0x20;\n//\n// Lists.\n//\n/** All characters in the ``S`` production. */\nexports.S_LIST = [SPACE, NL, CR, TAB];\n/**\n * Determines whether a codepoint matches the ``CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``CHAR``.\n */\nfunction isChar(c) {\n    return (c >= SPACE && c <= 0xD7FF) ||\n        c === NL || c === CR || c === TAB ||\n        (c >= 0xE000 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0x10FFFF);\n}\nexports.isChar = isChar;\n/**\n * Determines whether a codepoint matches the ``S`` (space) production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``S``.\n */\nfunction isS(c) {\n    return c === SPACE || c === NL || c === CR || c === TAB;\n}\nexports.isS = isS;\n/**\n * Determines whether a codepoint matches the ``NAME_START_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_START_CHAR``.\n */\nfunction isNameStartChar(c) {\n    return ((c >= 0x41 && c <= 0x5A) ||\n        (c >= 0x61 && c <= 0x7A) ||\n        c === 0x3A ||\n        c === 0x5F ||\n        c === 0x200C ||\n        c === 0x200D ||\n        (c >= 0xC0 && c <= 0xD6) ||\n        (c >= 0xD8 && c <= 0xF6) ||\n        (c >= 0x00F8 && c <= 0x02FF) ||\n        (c >= 0x0370 && c <= 0x037D) ||\n        (c >= 0x037F && c <= 0x1FFF) ||\n        (c >= 0x2070 && c <= 0x218F) ||\n        (c >= 0x2C00 && c <= 0x2FEF) ||\n        (c >= 0x3001 && c <= 0xD7FF) ||\n        (c >= 0xF900 && c <= 0xFDCF) ||\n        (c >= 0xFDF0 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0xEFFFF));\n}\nexports.isNameStartChar = isNameStartChar;\n/**\n * Determines whether a codepoint matches the ``NAME_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_CHAR``.\n */\nfunction isNameChar(c) {\n    return isNameStartChar(c) ||\n        (c >= 0x30 && c <= 0x39) ||\n        c === 0x2D ||\n        c === 0x2E ||\n        c === 0xB7 ||\n        (c >= 0x0300 && c <= 0x036F) ||\n        (c >= 0x203F && c <= 0x2040);\n}\nexports.isNameChar = isNameChar;\n//# sourceMappingURL=ed5.js.map","\"use strict\";\n/**\n * Character classes and associated utilities for the 2nd edition of XML 1.1.\n *\n * @author Louis-Dominique Dubeau\n * @license MIT\n * @copyright Louis-Dominique Dubeau\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//\n// Fragments.\n//\nexports.CHAR = \"\\u0001-\\uD7FF\\uE000-\\uFFFD\\uD800\\uDC00-\\uDBFF\\uDFFF\";\nexports.RESTRICTED_CHAR = \"\\u0001-\\u0008\\u000B\\u000C\\u000E-\\u001F\\u007F-\\u0084\\u0086-\\u009F\";\nexports.S = \" \\t\\r\\n\";\n// tslint:disable-next-line:max-line-length\nexports.NAME_START_CHAR = \":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\uD800\\uDC00-\\uDB7F\\uDFFF\";\nexports.NAME_CHAR = \"-\" + exports.NAME_START_CHAR + \".0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040\";\n//\n// Regular expressions.\n//\nexports.CHAR_RE = new RegExp(\"^[\" + exports.CHAR + \"]$\", \"u\");\nexports.RESTRICTED_CHAR_RE = new RegExp(\"^[\" + exports.RESTRICTED_CHAR + \"]$\", \"u\");\nexports.S_RE = new RegExp(\"^[\" + exports.S + \"]+$\", \"u\");\nexports.NAME_START_CHAR_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"]$\", \"u\");\nexports.NAME_CHAR_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]$\", \"u\");\nexports.NAME_RE = new RegExp(\"^[\" + exports.NAME_START_CHAR + \"][\" + exports.NAME_CHAR + \"]*$\", \"u\");\nexports.NMTOKEN_RE = new RegExp(\"^[\" + exports.NAME_CHAR + \"]+$\", \"u\");\nvar TAB = 9;\nvar NL = 0xA;\nvar CR = 0xD;\nvar SPACE = 0x20;\n//\n// Lists.\n//\n/** All characters in the ``S`` production. */\nexports.S_LIST = [SPACE, NL, CR, TAB];\n/**\n * Determines whether a codepoint matches the ``CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``CHAR``.\n */\nfunction isChar(c) {\n    return (c >= 0x0001 && c <= 0xD7FF) ||\n        (c >= 0xE000 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0x10FFFF);\n}\nexports.isChar = isChar;\n/**\n * Determines whether a codepoint matches the ``RESTRICTED_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``RESTRICTED_CHAR``.\n */\nfunction isRestrictedChar(c) {\n    return (c >= 0x1 && c <= 0x8) ||\n        c === 0xB ||\n        c === 0xC ||\n        (c >= 0xE && c <= 0x1F) ||\n        (c >= 0x7F && c <= 0x84) ||\n        (c >= 0x86 && c <= 0x9F);\n}\nexports.isRestrictedChar = isRestrictedChar;\n/**\n * Determines whether a codepoint matches the ``CHAR`` production and does not\n * match the ``RESTRICTED_CHAR`` production. ``isCharAndNotRestricted(x)`` is\n * equivalent to ``isChar(x) && !isRestrictedChar(x)``. This function is faster\n * than running the two-call equivalent.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``CHAR`` and does not match\n * ``RESTRICTED_CHAR``.\n */\nfunction isCharAndNotRestricted(c) {\n    return (c === 0x9) ||\n        (c === 0xA) ||\n        (c === 0xD) ||\n        (c > 0x1F && c < 0x7F) ||\n        (c === 0x85) ||\n        (c > 0x9F && c <= 0xD7FF) ||\n        (c >= 0xE000 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0x10FFFF);\n}\nexports.isCharAndNotRestricted = isCharAndNotRestricted;\n/**\n * Determines whether a codepoint matches the ``S`` (space) production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``S``.\n */\nfunction isS(c) {\n    return c === SPACE || c === NL || c === CR || c === TAB;\n}\nexports.isS = isS;\n/**\n * Determines whether a codepoint matches the ``NAME_START_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_START_CHAR``.\n */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction isNameStartChar(c) {\n    return ((c >= 0x41 && c <= 0x5A) ||\n        (c >= 0x61 && c <= 0x7A) ||\n        c === 0x3A ||\n        c === 0x5F ||\n        c === 0x200C ||\n        c === 0x200D ||\n        (c >= 0xC0 && c <= 0xD6) ||\n        (c >= 0xD8 && c <= 0xF6) ||\n        (c >= 0x00F8 && c <= 0x02FF) ||\n        (c >= 0x0370 && c <= 0x037D) ||\n        (c >= 0x037F && c <= 0x1FFF) ||\n        (c >= 0x2070 && c <= 0x218F) ||\n        (c >= 0x2C00 && c <= 0x2FEF) ||\n        (c >= 0x3001 && c <= 0xD7FF) ||\n        (c >= 0xF900 && c <= 0xFDCF) ||\n        (c >= 0xFDF0 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0xEFFFF));\n}\nexports.isNameStartChar = isNameStartChar;\n/**\n * Determines whether a codepoint matches the ``NAME_CHAR`` production.\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches ``NAME_CHAR``.\n */\nfunction isNameChar(c) {\n    return isNameStartChar(c) ||\n        (c >= 0x30 && c <= 0x39) ||\n        c === 0x2D ||\n        c === 0x2E ||\n        c === 0xB7 ||\n        (c >= 0x0300 && c <= 0x036F) ||\n        (c >= 0x203F && c <= 0x2040);\n}\nexports.isNameChar = isNameChar;\n//# sourceMappingURL=ed2.js.map","\"use strict\";\n/**\n * Character class utilities for XML NS 1.0 edition 3.\n *\n * @author Louis-Dominique Dubeau\n * @license MIT\n * @copyright Louis-Dominique Dubeau\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//\n// Fragments.\n//\n// tslint:disable-next-line:max-line-length\nexports.NC_NAME_START_CHAR = \"A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\uD800\\uDC00-\\uDB7F\\uDFFF\";\nexports.NC_NAME_CHAR = \"-\" + exports.NC_NAME_START_CHAR + \".0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040\";\n//\n// Regular expressions.\n//\nexports.NC_NAME_START_CHAR_RE = new RegExp(\"^[\" + exports.NC_NAME_START_CHAR + \"]$\", \"u\");\nexports.NC_NAME_CHAR_RE = new RegExp(\"^[\" + exports.NC_NAME_CHAR + \"]$\", \"u\");\nexports.NC_NAME_RE = new RegExp(\"^[\" + exports.NC_NAME_START_CHAR + \"][\" + exports.NC_NAME_CHAR + \"]*$\", \"u\");\n/**\n * Determines whether a codepoint matches [[NC_NAME_START_CHAR]].\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches.\n */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction isNCNameStartChar(c) {\n    return ((c >= 0x41 && c <= 0x5A) ||\n        c === 0x5F ||\n        (c >= 0x61 && c <= 0x7A) ||\n        (c >= 0xC0 && c <= 0xD6) ||\n        (c >= 0xD8 && c <= 0xF6) ||\n        (c >= 0x00F8 && c <= 0x02FF) ||\n        (c >= 0x0370 && c <= 0x037D) ||\n        (c >= 0x037F && c <= 0x1FFF) ||\n        (c >= 0x200C && c <= 0x200D) ||\n        (c >= 0x2070 && c <= 0x218F) ||\n        (c >= 0x2C00 && c <= 0x2FEF) ||\n        (c >= 0x3001 && c <= 0xD7FF) ||\n        (c >= 0xF900 && c <= 0xFDCF) ||\n        (c >= 0xFDF0 && c <= 0xFFFD) ||\n        (c >= 0x10000 && c <= 0xEFFFF));\n}\nexports.isNCNameStartChar = isNCNameStartChar;\n/**\n * Determines whether a codepoint matches [[NC_NAME_CHAR]].\n *\n * @param c The code point.\n *\n * @returns ``true`` if the codepoint matches.\n */\nfunction isNCNameChar(c) {\n    return isNCNameStartChar(c) ||\n        (c === 0x2D ||\n            c === 0x2E ||\n            (c >= 0x30 && c <= 0x39) ||\n            c === 0x00B7 ||\n            (c >= 0x0300 && c <= 0x036F) ||\n            (c >= 0x203F && c <= 0x2040));\n}\nexports.isNCNameChar = isNCNameChar;\n//# sourceMappingURL=ed3.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Simplification support for trees produced by the parser module.\n *\n * This is an implementation in TypeScript of the XSLT pipeline we've been\n * using. The step numbers are equivalent to those in the XSLT pipeline with the\n * following exceptions:\n *\n * - Some steps are combined. The driving principles are:\n *\n *  + Steps are not combined if a later step is entirely dependent on the work\n *    of an earlier step.\n *\n *  + Steps are combined if they offer substantial performance benefits.\n *\n * Eventually the goal is to completely eliminate the XSLT pipeline. However,\n * during the transition phase we aim for relative parity with what the XSLT\n * pipeline does, in order to simplify testing. With a few small exceptions, we\n * can provide an input to a step and expect the same output in the XSLT and\n * TypeScript pipelines. So the TypeScript implementation may do things that\n * appears senseless. For instance, at some point all ``define`` elements are\n * renamed to make them unique, even those that do not have name clashes. We\n * replicate the XSLT process, where only renaming clashing defines would be\n * onerous. (It would also require the renaming operation to verify that new\n * names do not clash with those names that are not changed. If we change all\n * names, then this clash cannot occur.)\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nvar step1_1 = require(\"./simplifier/step1\");\nObject.defineProperty(exports, \"step1\", { enumerable: true, get: function () { return step1_1.step1; } });\n// Step 2-3 are covered by step 1.\nvar step4_1 = require(\"./simplifier/step4\");\nObject.defineProperty(exports, \"step4\", { enumerable: true, get: function () { return step4_1.step4; } });\n// Step 5 is covered by step 4.\nvar step6_1 = require(\"./simplifier/step6\");\nObject.defineProperty(exports, \"step6\", { enumerable: true, get: function () { return step6_1.step6; } });\n// Steps 7-8 are covered by step 6.\nvar step9_1 = require(\"./simplifier/step9\");\nObject.defineProperty(exports, \"step9\", { enumerable: true, get: function () { return step9_1.step9; } });\nvar step10_1 = require(\"./simplifier/step10\");\nObject.defineProperty(exports, \"step10\", { enumerable: true, get: function () { return step10_1.step10; } });\n// Steps 11-13 are covered by step 10.\nvar step14_1 = require(\"./simplifier/step14\");\nObject.defineProperty(exports, \"step14\", { enumerable: true, get: function () { return step14_1.step14; } });\nvar step15_1 = require(\"./simplifier/step15\");\nObject.defineProperty(exports, \"step15\", { enumerable: true, get: function () { return step15_1.step15; } });\nvar step16_1 = require(\"./simplifier/step16\");\nObject.defineProperty(exports, \"step16\", { enumerable: true, get: function () { return step16_1.step16; } });\nvar step17_1 = require(\"./simplifier/step17\");\nObject.defineProperty(exports, \"step17\", { enumerable: true, get: function () { return step17_1.step17; } });\nvar step18_1 = require(\"./simplifier/step18\");\nObject.defineProperty(exports, \"step18\", { enumerable: true, get: function () { return step18_1.step18; } });\n//# sourceMappingURL=simplifier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step1 = exports.resolveURL = void 0;\nconst tslib_1 = require(\"tslib\");\n/**\n * Simplification step 1.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst schema_validation_1 = require(\"../schema-validation\");\nconst util_1 = require(\"./util\");\nfunction resolveURL(base, tail) {\n    return new URL(tail, base.toString());\n}\nexports.resolveURL = resolveURL;\nfunction loadFromElement(currentBase, seenURLs, el, parse) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const resolved = resolveURL(currentBase, el.mustGetAttribute(\"href\"));\n        if (seenURLs.includes(resolved.toString())) {\n            throw new schema_validation_1.SchemaValidationError(`detected an import loop: \\\n${seenURLs.reverse().concat(resolved.toString()).join(\"\\n\")}`);\n        }\n        return { tree: yield parse(resolved), resolved };\n    });\n}\nclass Step1 {\n    constructor(parser) {\n        this.parser = parser;\n    }\n    walk(parentBase, seenURLs, el) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            // The XML parser we use immediately drops all *elements* which are not in\n            // the RELAXNG_URI namespace so we don't have to remove them here.\n            // We move all RNG nodes into the default namespace.\n            el.prefix = \"\";\n            // At this point it is safe to drop all the attributes in the XML\n            // namespace. \"xml:base\" in particular is no longer of any use. We do keep\n            // namespace declarations, as they are used later for resolving QNames.\n            const attrs = el.getRawAttributes();\n            let baseAttr;\n            for (const name of Object.keys(attrs)) {\n                const attr = attrs[name];\n                const { uri, prefix } = attr;\n                if (name !== \"xmlns\" && uri !== \"\" && prefix !== \"xmlns\") {\n                    if (name === \"xml:base\") {\n                        baseAttr = attr.value;\n                    }\n                    delete attrs[name];\n                }\n                else if (name === \"name\" ||\n                    name === \"type\" ||\n                    name === \"combine\") {\n                    attr.value = attr.value.trim();\n                }\n            }\n            const currentBase = baseAttr === undefined ? parentBase :\n                resolveURL(parentBase, baseAttr);\n            const { children, local } = el;\n            if (children.length !== 0) {\n                // We don't normalize text nodes in param or value.\n                if (local === \"param\" || local === \"value\") {\n                    for (const child of children) {\n                        if (parser_1.isElement(child)) {\n                            yield this.walk(currentBase, seenURLs, child);\n                        }\n                    }\n                }\n                else {\n                    const newChildren = [];\n                    for (const child of children) {\n                        if (parser_1.isElement(child)) {\n                            const replace = yield this.walk(currentBase, seenURLs, child);\n                            newChildren.push(replace === null ? child : replace);\n                            continue;\n                        }\n                        const orig = child.text;\n                        const clean = orig.trim();\n                        if (clean !== \"\") {\n                            // name gets the trimmed value\n                            newChildren.push(local === \"name\" && orig !== clean ?\n                                // We're triming text.\n                                new parser_1.Text(clean) :\n                                child);\n                        }\n                        // else we drop a node consisting entirely of whitespace\n                    }\n                    el.replaceContent(newChildren);\n                }\n            }\n            const handler = this[local];\n            if (handler === undefined) {\n                return el;\n            }\n            const replacement = yield handler.call(this, currentBase, seenURLs, el);\n            return replacement === null ? el : replacement;\n        });\n    }\n    externalRef(currentBase, seenURLs, el) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            // tslint:disable-next-line:prefer-const\n            let { tree: includedTree, resolved } = yield loadFromElement(currentBase, seenURLs, el, this.parser);\n            includedTree = yield this.walk(resolved, [resolved.toString(), ...seenURLs], includedTree);\n            const ns = el.getAttribute(\"ns\");\n            const treeNs = includedTree.getAttribute(\"ns\");\n            if (ns !== undefined && treeNs === undefined) {\n                includedTree.setAttribute(\"ns\", ns);\n            }\n            // See the comment in ``include`` below for the rational as to why we are\n            // setting the value here.\n            if (includedTree.getAttribute(\"datatypeLibrary\") === undefined) {\n                includedTree.setAttribute(\"datatypeLibrary\", \"\");\n            }\n            // If parent is null then we are at the root and we cannot remove the\n            // element.\n            if (el.parent !== undefined) {\n                // By this point, the tree's default namespace is the Relax NG one. So we\n                // can remove it to avoid redeclaring it. We don't want to do this though\n                // if we're forming the root of the new tree.\n                includedTree.removeAttribute(\"xmlns\");\n                el.parent.replaceChildWith(el, includedTree);\n            }\n            return includedTree;\n        });\n    }\n    include(currentBase, seenURLs, el) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { tree: includedTree, resolved } = yield loadFromElement(currentBase, seenURLs, el, this.parser);\n            yield this.walk(resolved, [resolved.toString(), ...seenURLs], includedTree);\n            // By this point, the tree's default namespace is the Relax NG one. So we\n            // can remove it to avoid redeclaring it.\n            includedTree.removeAttribute(\"xmlns\");\n            if (includedTree.local !== \"grammar\") {\n                throw new schema_validation_1.SchemaValidationError(\"include does not point to a document \" +\n                    \"that has a grammar element as root\");\n            }\n            const { start: includeStarts, define: includeDefs } = util_1.findMultiDescendantsByLocalName(el, [\"start\", \"define\"]);\n            const { start: grammarStarts, define: grammarDefs } = util_1.findMultiDescendantsByLocalName(includedTree, [\"start\", \"define\"]);\n            if (includeStarts.length !== 0) {\n                if (grammarStarts.length === 0) {\n                    throw new schema_validation_1.SchemaValidationError(\"include contains start element but grammar does not\");\n                }\n                for (const start of grammarStarts) {\n                    start.parent.removeChild(start);\n                }\n            }\n            const includeDefsMap = util_1.indexBy(includeDefs, util_1.getName);\n            const grammarDefsMap = util_1.groupBy(grammarDefs, util_1.getName);\n            for (const key of includeDefsMap.keys()) {\n                const defs = grammarDefsMap.get(key);\n                if (defs === undefined) {\n                    throw new schema_validation_1.SchemaValidationError(`include has define with name ${name} which is not present in \\\ngrammar`);\n                }\n                for (const def of defs) {\n                    def.parent.removeChild(def);\n                }\n            }\n            el.local = \"div\";\n            el.removeAttribute(\"href\");\n            includedTree.local = \"div\";\n            //\n            // In the RNG specification, the propagation of datatypeLibrary elements is\n            // an earlier processing step (4.3) than the resolution of external\n            // references (4.5). This means that upon reading an external resource, an\n            // algorithm that follows the spec to the letter would have to apply to the\n            // resource the steps 4.1 to 4.4 before resolving any external references in\n            // the newly loaded resource.\n            //\n            // Here we follow the order set in the XSL pipeline: we first resolve all\n            // external references and then later we will propagate datatypeLibrary.\n            //\n            // This deivation from the spec requires that if datatypeLibrary is not set\n            // on a imported element we MUST set it to the empty string. Otherwise, when\n            // we do propagate datatypeLibrary, it would \"cross\" resource boundaries, so\n            // to speak. This would be incorrect.\n            //\n            if (includedTree.getAttribute(\"datatypeLibrary\") === undefined) {\n                includedTree.setAttribute(\"datatypeLibrary\", \"\");\n            }\n            // Insert the grammar element (now named \"div\") into the include element\n            // (also now named \"div\").\n            el.prependChild(includedTree);\n            return null;\n        });\n    }\n}\n/**\n * Modify the tree:\n *\n * - All references to external resources (``externalRef`` and ``include``) are\n *   replaced by the contents of the references. It essentially \"flattens\" a\n *   schema made of group of documents to a single document.\n *\n * - Remove text nodes that contain only white spaces.  Text nodes in the\n *   elements ``param`` and ``value`` are excluded.\n *\n * - Trim the text node in the elements named ``name``.\n *\n * - Also trim the values of the attributes ``name``, ``type`` and ``combine``.\n *\n * Note that step1 also subsumes what was step2 and step3 in the XSLT-based\n * transforms.\n *\n * @param documentBase The base URI of the tree being processed.\n *\n * @param tree The XML tree to process.\n *\n * @param parser A function through which we load and parse XML files.\n *\n * @returns A promise that resolves to the new tree root when processing is\n * done.\n */\nfunction step1(documentBase, tree, parser) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        return new Step1(parser).walk(documentBase, [documentBase.toString()], tree);\n    });\n}\nexports.step1 = step1;\n//# sourceMappingURL=step1.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step4 = void 0;\n/**\n * Simplification step 4.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst schema_validation_1 = require(\"../schema-validation\");\nfunction walk(el, parentLibrary) {\n    const local = el.local;\n    const currentLibrary = el.getAttribute(\"datatypeLibrary\");\n    if (currentLibrary !== undefined && currentLibrary !== \"\") {\n        let url;\n        try {\n            // tslint:disable-next-line:no-unused-expression\n            url = new URL(currentLibrary);\n        }\n        catch (e) {\n            throw new schema_validation_1.SchemaValidationError(`invalid datatypeLibrary URL: ${currentLibrary}`);\n        }\n        // We have to test for \"#\" a the end of href because that's also an\n        // error per Relax NG but the hash will still be empty. :-/\n        if (url.hash !== \"\" || url.href.endsWith(\"#\")) {\n            throw new schema_validation_1.SchemaValidationError(`datatypeLibrary URL must not have a fragment identifier: \\\n${currentLibrary}`);\n        }\n    }\n    if (local === \"data\" || local === \"value\") {\n        // ``value`` elements without a ``@type`` get ``@type`` set to ``\"token\"``\n        // and ``@datatypeLibrary`` set to the empty string.\n        if (local === \"value\" && el.getAttribute(\"type\") === undefined) {\n            el.setAttribute(\"datatypeLibrary\", \"\");\n            el.setAttribute(\"type\", \"token\");\n        }\n        else if (currentLibrary === undefined) {\n            // Inherit from parent.\n            el.setAttribute(\"datatypeLibrary\", parentLibrary);\n        }\n    }\n    else if (currentLibrary !== undefined) {\n        // All other elements lose their ``@datatypeLibrary``.\n        el.removeAttribute(\"datatypeLibrary\");\n    }\n    const childLib = currentLibrary !== undefined ? currentLibrary : parentLibrary;\n    for (const child of el.children) {\n        if (parser_1.isElement(child)) {\n            walk(child, childLib);\n        }\n    }\n}\n/**\n * Implements steps 4 and 5 of the XSL pipeline. Namely:\n *\n * - ``data`` and ``value`` elements that don't have ``@datatypeLibrary`` get\n *    one from the closest ancestor with such a value.\n *\n * - ``value`` elements without a ``@type`` get ``@type`` set to ``\"token\"`` and\n *    ``@datatypeLibrary`` set to the empty string. (This is irrespective of the\n *    1st transformation above.)\n *\n * - All elements other than ``data`` and ``value`` lose their\n *   ``@datatypeLibrary`` attribute.\n *\n * Note that this step currently does not perform any URI encoding required by\n * the Relax NG spec. As we speak, salve does not support loading arbitrary type\n * libraries, and the supported URIs do not need special encoding.\n *\n * Even in the general case, it is unclear that we need to perform the encoding\n * transformation *here*. The URIs could be passed as-are to a library that\n * performs the encoding before fetching.\n *\n * @param el The tree to process. It is modified in-place.\n *\n * @returns The new root of the tree.\n */\nfunction step4(el) {\n    walk(el, \"\");\n    return el;\n}\nexports.step4 = step4;\n//# sourceMappingURL=step4.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step6 = void 0;\n/**\n * Simplification step 6.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst schema_validation_1 = require(\"../schema-validation\");\nfunction walk(el, parentNs) {\n    const local = el.local;\n    let currentNs = el.getAttribute(\"ns\");\n    switch (local) {\n        case \"element\":\n        case \"attribute\":\n            const name = el.getAttribute(\"name\");\n            if (name !== undefined) {\n                el.removeAttribute(\"name\");\n                const nameEl = parser_1.Element.makeElement(\"name\", [new parser_1.Text(name)], el.documentation);\n                if (currentNs === undefined) {\n                    if (local === \"attribute\") {\n                        nameEl.setAttribute(\"ns\", \"\");\n                        // We have to set currentNs here. The attribute is effectively in\n                        // \"no namespace\", and this fact has to carry over to child elements\n                        // that may care.\n                        currentNs = \"\";\n                    }\n                    else if (parentNs !== null) {\n                        nameEl.setAttribute(\"ns\", parentNs);\n                        currentNs = parentNs;\n                    }\n                }\n                el.prependChild(nameEl);\n            }\n            if (currentNs !== undefined) {\n                el.removeAttribute(\"ns\");\n            }\n            break;\n        case \"name\":\n            const { text } = el.children[0];\n            const colon = text.indexOf(\":\");\n            if (colon !== -1) {\n                const prefix = text.substr(0, colon);\n                const localName = text.substr(colon + 1);\n                if (localName.includes(\":\")) {\n                    throw new Error(`${text} is not a valid QName`);\n                }\n                const ns = el.resolve(prefix);\n                if (ns === undefined) {\n                    throw new schema_validation_1.SchemaValidationError(`cannot resolve name ${text}`);\n                }\n                el.setAttribute(\"ns\", ns);\n                currentNs = ns;\n                el.replaceChildAt(0, new parser_1.Text(localName));\n            }\n        // Yes, we fall through.\n        case \"nsName\":\n        case \"value\":\n            if (currentNs === undefined) {\n                currentNs = parentNs === null ? \"\" : parentNs;\n                el.setAttribute(\"ns\", currentNs);\n            }\n            break;\n        default:\n            if (currentNs !== undefined) {\n                el.removeAttribute(\"ns\");\n            }\n    }\n    const nextNs = currentNs !== undefined ? currentNs : parentNs;\n    for (const child of el.children) {\n        if (parser_1.isElement(child)) {\n            walk(child, nextNs);\n        }\n    }\n}\n/**\n * Implements steps 6, 7 and 8 of the XSL pipeline. Namely:\n *\n * - ``@name`` on ``element`` or ``attribute`` elements is converted to a\n *   ``name`` element.\n *\n * - If a ``name`` element is created for an ``attribute`` element which does\n *   not have an ``@ns``, the ``name`` element has ``@ns=\"\"``.\n *\n * - Any ``name``, ``nsName`` and ``value`` element that does not have an\n *   ``@ns`` gets an ``@ns`` from the closest ancestor with such a value, or the\n *   empty string if there is no such ancestor.\n *\n * - ``@ns`` is removed from all elements except those in the previous point.\n *\n * - When a ``name`` element contains a QName with a prefix, the prefix is\n *   removed from the QName, and a ``@ns`` is added to the ``name`` by resolving\n *   the prefix against the namespaces in effect in the XML file. (We're talking\n *   here about resolving the prefix against the prefixes declared by\n *   ``xmlns:...``. Note that the default namespace set through ``xmlns``\n *   *never* participates in the resolution performed here.)\n *\n * @param el The tree to process. It is modified in-place.\n *\n * @returns The new root of the tree.\n */\nfunction step6(el) {\n    walk(el, null);\n    return el;\n}\nexports.step6 = step6;\n//# sourceMappingURL=step6.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step9 = void 0;\n/**\n * Simplification step 9.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\n/**\n * Implements step 9 of the XSL pipeline. Namely:\n *\n * - ``div`` elements are replaced with their children.\n *\n * @param el The tree to process. It is modified in-place.\n *\n * @returns The new root of the tree.\n */\nfunction step9(el) {\n    // We walk the children first so that subtrees are modified first.\n    for (let ix = 0; ix < el.children.length; ++ix) {\n        const child = el.children[ix];\n        if (parser_1.isElement(child)) {\n            if (child.local === \"div\") {\n                if (child.children.length > 0) {\n                    el.insertAt(ix + 1, child.children.slice());\n                }\n                el.removeChildAt(ix);\n                // Go back, and process what is the new child at the location where the\n                // div was.\n                --ix;\n            }\n            else {\n                step9(child);\n            }\n        }\n    }\n    return el;\n}\nexports.step9 = step9;\n//# sourceMappingURL=step9.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step10 = void 0;\n/**\n * Simplification step 10.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst schema_validation_1 = require(\"../schema-validation\");\nconst util_1 = require(\"./util\");\n// We do not do the checks on ``data`` and ``value`` here. They are done\n// later. The upshot is that fragments of the schema that may be removed in\n// later steps are not checked here.\nfunction checkNames(el) {\n    if (el.local === \"except\") {\n        // parent cannot be undefined at this point.\n        // tslint:disable-next-line:no-non-null-assertion\n        switch (el.parent.local) {\n            case \"anyName\":\n                if (util_1.findDescendantsByLocalName(el, \"anyName\").length !== 0) {\n                    throw new schema_validation_1.SchemaValidationError(\"an except in anyName has an anyName descendant\");\n                }\n                break;\n            case \"nsName\": {\n                const { anyName: anyNames, nsName: nsNames } = util_1.findMultiDescendantsByLocalName(el, [\"anyName\", \"nsName\"]);\n                if (anyNames.length !== 0) {\n                    throw new schema_validation_1.SchemaValidationError(\"an except in nsName has an anyName descendant\");\n                }\n                if (nsNames.length !== 0) {\n                    throw new schema_validation_1.SchemaValidationError(\"an except in nsName has an nsName descendant\");\n                }\n                break;\n            }\n            default:\n        }\n    }\n    for (const child of el.children) {\n        if (!parser_1.isElement(child)) {\n            continue;\n        }\n        checkNames(child);\n    }\n}\n// tslint:disable-next-line:max-func-body-length\nfunction walk(check, el) {\n    const { local, children } = el;\n    switch (local) {\n        case \"choice\":\n        case \"group\":\n        case \"interleave\":\n            if (children.length === 1) {\n                const replaceWith = children[0];\n                if (el.parent !== undefined) {\n                    el.parent.replaceChildWith(el, replaceWith);\n                }\n                else {\n                    el.removeChildAt(0); // This removes replaceWith from el.\n                    // By this stage in the process, this is the only attribute that need\n                    // be carried over.\n                    const xmlns = el.getAttribute(\"xmlns\");\n                    if (xmlns !== undefined) {\n                        replaceWith.setXMLNS(xmlns);\n                    }\n                }\n                return replaceWith;\n            }\n            else {\n                while (children.length > 2) {\n                    el.prependChild(parser_1.Element.makeElement(local, [children[0], children[1]]));\n                }\n            }\n            break;\n        case \"element\":\n            if (children.length > 2) {\n                el.appendChild(parser_1.Element.makeElement(\"group\", children.slice(1)));\n            }\n            if (check) {\n                checkNames(children[0]);\n            }\n            break;\n        case \"attribute\":\n            if (children.length === 1) {\n                el.appendChild(parser_1.Element.makeElement(\"text\", []));\n            }\n            if (check) {\n                checkNames(children[0]);\n                for (const attrName of util_1.findMultiNames(el, [\"name\"]).name) {\n                    switch (attrName.getAttribute(\"ns\")) {\n                        case \"\":\n                            if (attrName.text === \"xmlns\") {\n                                throw new schema_validation_1.SchemaValidationError(\"found attribute with name xmlns outside all namespaces\");\n                            }\n                            break;\n                        // tslint:disable-next-line:no-http-string\n                        case \"http://www.w3.org/2000/xmlns\":\n                            throw new schema_validation_1.SchemaValidationError(\"found attribute in namespace http://www.w3.org/2000/xmlns\");\n                        default:\n                    }\n                }\n            }\n            break;\n        case \"define\":\n        case \"oneOrMore\":\n        case \"list\":\n            if (children.length > 1) {\n                const group = parser_1.Element.makeElement(\"group\", []);\n                group.grabChildren(el);\n                el.appendChild(group);\n            }\n            break;\n        case \"zeroOrMore\": {\n            el.local = \"choice\";\n            const oneOrMore = parser_1.Element.makeElement(\"oneOrMore\", []);\n            if (children.length > 1) {\n                const group = parser_1.Element.makeElement(\"group\", []);\n                group.grabChildren(el);\n                oneOrMore.appendChild(group);\n            }\n            else {\n                oneOrMore.grabChildren(el);\n            }\n            el.appendChildren([oneOrMore, parser_1.Element.makeElement(\"empty\", [])]);\n            break;\n        }\n        case \"optional\":\n            el.local = \"choice\";\n            if (children.length > 1) {\n                const group = parser_1.Element.makeElement(\"group\", []);\n                group.grabChildren(el);\n                el.appendChild(group);\n            }\n            el.appendChild(parser_1.Element.makeElement(\"empty\", []));\n            break;\n        case \"mixed\":\n            el.local = \"interleave\";\n            if (children.length > 1) {\n                const group = parser_1.Element.makeElement(\"group\", []);\n                group.grabChildren(el);\n                el.appendChild(group);\n            }\n            el.appendChild(parser_1.Element.makeElement(\"text\", []));\n            break;\n        case \"except\":\n            if (children.length > 1) {\n                const choice = parser_1.Element.makeElement(\"choice\", []);\n                choice.grabChildren(el);\n                el.appendChild(choice);\n            }\n            break;\n        default:\n    }\n    // tslint:disable-next-line:prefer-for-of\n    for (let ix = 0; ix < children.length; ++ix) {\n        const child = children[ix];\n        if (!parser_1.isElement(child)) {\n            continue;\n        }\n        let replaced = walk(check, child);\n        while (replaced !== null) {\n            replaced = walk(check, replaced);\n        }\n    }\n    return null;\n}\n/**\n * Implements steps 10 to 13 of the XSL pipeline. Namely:\n *\n * - ``define``, ``oneOrMore``, ``zeroOrMore``, ``optional``, ``list`` and\n *   ``mixed`` elements with more than one child have their children wrapped in\n *   a ``group`` element.\n *\n * - ``element`` elements with more than two children have their children\n *   wrapped in a ``group`` element. (This means more than one child in addition\n *   to the name class which is the 1sts element of ``element`` at this point.)\n *\n * - ``except`` elements with more than one child have their children wrapped in\n *   a ``group`` element.\n *\n * - ``attribute`` elements with only one child (only a ``name`` element) get a\n *   ``<text/>`` child.\n *\n * - ``choice``, ``group`` and ``interleave`` elements with only one child are\n *   replaced by their single child.\n *\n * - ``choice``, ``group`` and ``interleave`` elements with more than 2 children\n *   have their first 2 children wrapped in an element of the same name, and\n *   this is repeated until the top level element contains only two\n *   children. (This transformation applies to elements that were part of the\n *   input and those elements created by the transformations above.)\n *\n * - ``mixed`` elements are converted to ``interleave`` elements containing the\n *    single child of ``mixed``, and ``<text/>``.\n *\n * - ``optional`` elements are converted to ``choice`` elements containing the\n *   single child of ``optional``, and ``<empty/>``.\n *\n * - ``zeroOrMore`` elements are converted to ``choice`` elements. The single\n *   child of the original ``zeroOrMore`` element is wrapped in a ``oneOrMore``\n *   element, and ``<empty/>`` is added to the ``choice`` element.\n *\n * @param el The tree to process. It is modified in-place.\n *\n * @param check Whether to perform constraint checks.\n *\n * @returns The new root of the tree.\n */\nfunction step10(el, check) {\n    let replaced = walk(check, el);\n    while (replaced !== null) {\n        el = replaced;\n        replaced = walk(check, el);\n    }\n    return el;\n}\nexports.step10 = step10;\n//# sourceMappingURL=step10.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step14 = void 0;\n/**\n * Simplification step 14.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst schema_validation_1 = require(\"../schema-validation\");\nconst util_1 = require(\"./util\");\nfunction makeName(el) {\n    let ret = el.local;\n    if (ret === \"def\") {\n        ret += `@name=\"${util_1.getName(el)}\"`;\n    }\n    return ret;\n}\nfunction combine(els) {\n    if (els.length < 2) {\n        // There's nothing to actually *combine*.\n        if (els.length > 0) {\n            // Delete the useless combine attribute that may be present.\n            els[0].removeAttribute(\"combine\");\n        }\n        return;\n    }\n    let undefinedCombine = false;\n    let combineAs;\n    for (const el of els) {\n        const combineAttr = el.getAttribute(\"combine\");\n        if (combineAttr === undefined) {\n            if (undefinedCombine) {\n                throw new schema_validation_1.SchemaValidationError(`more than one ${makeName(el)} without @combine`);\n            }\n            undefinedCombine = true;\n        }\n        else {\n            if (combineAs === undefined) {\n                combineAs = combineAttr;\n            }\n            else if (combineAs !== combineAttr) {\n                throw new schema_validation_1.SchemaValidationError(`inconsistent values on ${makeName(el)}/@combine`);\n            }\n        }\n    }\n    if (combineAs === undefined) {\n        throw new Error(\"no combination value found\");\n    }\n    let wrapper = parser_1.Element.makeElement(combineAs, []);\n    const [first, second, ...rest] = els;\n    wrapper.grabChildren(first);\n    wrapper.grabChildren(second);\n    second.parent.removeChild(second);\n    for (const el of rest) {\n        const newWrapper = parser_1.Element.makeElement(combineAs, [wrapper]);\n        newWrapper.grabChildren(el);\n        el.parent.removeChild(el);\n        wrapper = newWrapper;\n    }\n    first.appendChild(wrapper);\n    first.removeAttribute(\"combine\");\n}\n/**\n * Implements step 14 of the XSL pipeline. Namely, in each grammar:\n *\n * - ``start`` elements are combined.\n *\n * - ``define`` elements with the same name are combined.\n *\n * The scope of the transformation performed for a grammar include all ``start``\n * and ``define`` elements, *excluding* those that may be in a descendant\n * ``grammar`` element.\n *\n * @param el The tree to process. It is modified in-place.\n *\n * @returns The new root of the tree.\n */\nfunction step14(el) {\n    const grammars = util_1.findDescendantsByLocalName(el, \"grammar\");\n    if (el.local === \"grammar\") {\n        grammars.unshift(el);\n    }\n    for (const grammar of grammars) {\n        combine(util_1.findChildrenByLocalName(grammar, \"start\"));\n        const defs = util_1.findChildrenByLocalName(grammar, \"define\");\n        const grouped = util_1.groupBy(defs, util_1.getName);\n        for (const group of grouped.values()) {\n            combine(group);\n        }\n    }\n    return el;\n}\nexports.step14 = step14;\n//# sourceMappingURL=step14.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step15 = void 0;\n/**\n * Simplification step 15.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst schema_validation_1 = require(\"../schema-validation\");\nconst util_1 = require(\"./util\");\nclass GrammarNode {\n    constructor(id, grammar) {\n        this.id = id;\n        this.grammar = grammar;\n        this.childGrammars = [];\n        this.defines = [];\n        this.refs = [];\n        this.parentRefs = [];\n        this.refNames = new Set();\n        this.parentRefNames = new Set();\n        this.defineNames = new Set();\n    }\n}\nfunction gatherGrammars(el, state) {\n    const { local } = el;\n    const { stack } = state;\n    const top = stack[stack.length - 1];\n    let pop = false;\n    switch (local) {\n        case \"ref\":\n            top.refs.push(el);\n            top.refNames.add(el.mustGetAttribute(\"name\"));\n            break;\n        case \"define\":\n            top.defines.push(el);\n            top.defineNames.add(el.mustGetAttribute(\"name\"));\n            break;\n        case \"grammar\":\n            pop = true;\n            const thisGrammar = new GrammarNode(++state.latestId, el);\n            stack.push(thisGrammar);\n            if (top !== undefined) {\n                top.childGrammars.push(thisGrammar);\n            }\n            break;\n        case \"parentRef\":\n            top.parentRefs.push(el);\n            top.parentRefNames.add(el.mustGetAttribute(\"name\"));\n            break;\n        default:\n            if (state.root === null) {\n                stack.push(new GrammarNode(++state.latestId, el));\n                pop = true;\n            }\n    }\n    if (state.root === null) {\n        // We have to acquire it from stack[0] and not from the variable top.\n        state.root = stack[0];\n    }\n    for (const child of el.children) {\n        if (!parser_1.isElement(child)) {\n            continue;\n        }\n        gatherGrammars(child, state);\n    }\n    if (pop) {\n        stack.pop();\n    }\n}\nfunction transformGrammars(multiple, root, parent, grammar) {\n    for (const name of grammar.refNames) {\n        if (!grammar.defineNames.has(name)) {\n            throw new schema_validation_1.SchemaValidationError(`dangling ref: ${name}`);\n        }\n    }\n    if (parent === null && grammar.parentRefNames.size !== 0) {\n        throw new schema_validation_1.SchemaValidationError(\"top-level grammar contains parentRef!\");\n    }\n    for (const name of grammar.parentRefNames) {\n        // The test above ensures parent is not null.\n        // tslint:disable-next-line:no-non-null-assertion\n        if (!parent.defineNames.has(name)) {\n            throw new schema_validation_1.SchemaValidationError(`dangling parentRef: ${name}`);\n        }\n    }\n    const toRename = grammar.defines.concat(grammar.refs, ...grammar.childGrammars.map(x => x.parentRefs));\n    const suffix = `-gr-${grammar.id}`;\n    // Make all names unique globally.\n    for (const el of toRename) {\n        el.setAttribute(\"name\", el.mustGetAttribute(\"name\") + suffix);\n    }\n    // Move the ``define`` elements to the root grammar. We do this on the root\n    // grammar too so that the ``define`` elements are moved after ``start``.\n    root.grammar.appendChildren(grammar.defines);\n    for (const child of grammar.childGrammars) {\n        transformGrammars(multiple, root, grammar, child);\n    }\n    // Rename all parentRef elements to ref elements.\n    for (const parentRef of grammar.parentRefs) {\n        parentRef.local = \"ref\";\n    }\n    const start = grammar.grammar.children[0];\n    if (start.local !== \"start\") {\n        throw new Error(\"there should be a single start element in the grammar!\");\n    }\n    if (grammar !== root) {\n        // Remove the remaining ``grammar`` and ``start`` elements.\n        grammar.grammar.parent.replaceChildWith(grammar.grammar, start.children[0]);\n    }\n}\n/**\n * Implements step 15 of the XSL pipeline. Namely:\n *\n * - Rename each ``define`` element so as to make it unique across the\n *   schema. We do this by giving a unique id to each ``grammar`` element, which\n *   is the number of ``grammar`` elements before it, in document reading order,\n *   plus 1. Then we add to ``define/@name`` the string ``-gr-{id}`` where\n *   ``{id}`` is the grammar's id of the grammar to which the ``define``\n *   belongs. NOTE: this pattern was selected to avoid a clash with step 16,\n *   which creates new ``define`` elements.\n *\n * - Rename each ``ref`` and ``parentRef`` to preserve the references the\n *   establish to ``define`` elements.\n *\n * - Create a top level ``grammar/start`` structure, if necessary.\n *\n * - Move all ``define`` elements to the top ``grammar``.\n *\n * - Rename all ``parentRef`` elements to ``ref``.\n *\n * - Replace all ``grammar/start`` elements with the expression contained\n *   therein, except for the top level ``grammar/start``.\n *\n * @param el The tree to process. It is modified in-place.\n *\n * @returns The new tree root.\n */\nfunction step15(el) {\n    let root = el;\n    if (el.local !== \"grammar\") {\n        root = parser_1.Element.makeElement(\"grammar\", [parser_1.Element.makeElement(\"start\", [el])]);\n        root.setXMLNS(util_1.RELAXNG_URI);\n        el.removeAttribute(\"xmlns\");\n    }\n    const state = {\n        latestId: 0,\n        root: null,\n        stack: [],\n    };\n    gatherGrammars(root, state);\n    const multiple = state.latestId !== 1;\n    // tslint:disable-next-line:no-non-null-assertion\n    const grammar = state.root;\n    if (multiple) {\n        transformGrammars(multiple, grammar, null, grammar);\n    }\n    else {\n        // If we have only a single grammar, we can reduce the work to this.\n        for (const name of grammar.refNames) {\n            if (!grammar.defineNames.has(name)) {\n                throw new schema_validation_1.SchemaValidationError(`dangling ref: ${name}`);\n            }\n        }\n        if (grammar.parentRefNames.size !== 0) {\n            throw new schema_validation_1.SchemaValidationError(\"top-level grammar contains parentRef!\");\n        }\n        let start = grammar.grammar.children[0];\n        if (start.local !== \"start\") {\n            // The first element is not start. Move the defines around.\n            grammar.grammar.appendChildren(grammar.defines);\n            start = grammar.grammar.children[0];\n            if (start.local !== \"start\") {\n                // Somehow it did not work!\n                throw new Error(\"there should be a single start element in the \\\ngrammar!\");\n            }\n        }\n    }\n    return root;\n}\nexports.step15 = step15;\n//# sourceMappingURL=step15.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step16 = void 0;\n/**\n * Simplification step 16.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst schema_validation_1 = require(\"../schema-validation\");\nconst util_1 = require(\"./util\");\n// Elements that cannot contain references.\nconst skip = new Set([\"name\", \"anyName\", \"nsName\", \"param\", \"empty\",\n    \"text\", \"value\", \"notAllowed\", \"ref\"]);\nfunction wrapElements(state, root) {\n    let elementCount = 0;\n    const { seenRefs } = state;\n    const toAppend = [];\n    for (const el of util_1.findDescendantsByLocalName(root, \"element\")) {\n        elementCount++;\n        // If an element is not appearing in a define element, then create one for\n        // it.\n        // tslint:disable-next-line:no-non-null-assertion\n        if (el.parent.local !== \"define\") {\n            // The first child of an ``element`` element is a name class but not\n            // necessarily ``name``.\n            const first = el.children[0];\n            const elName = first.local === \"name\" ? first.text : \"\";\n            // Note that elName in the following string is not necessary to guarantee\n            // uniqueness. It is a convenience that allows recognizing names more\n            // easily. So the value ``\"\"`` used when we don't have a name element does\n            // not harm the uniqueness of the name.\n            const name = `__${elName}-elt-${elementCount}`;\n            const ref = parser_1.Element.makeElement(\"ref\", []);\n            ref.setAttribute(\"name\", name);\n            el.parent.replaceChildWith(el, ref);\n            seenRefs.add(name);\n            const defEl = parser_1.Element.makeElement(\"define\", [el]);\n            toAppend.push(defEl);\n            defEl.setAttribute(\"name\", name);\n        }\n    }\n    return toAppend;\n}\nfunction removeDefsWithoutElement(state, el) {\n    // A define which does not contain an ``element`` child is going to be\n    // removed. Any reference to it will have to be replaced with the content of\n    // the ``define``.\n    const removedDefines = state.removedDefines;\n    const children = el.children;\n    // We always keep ``start``.\n    const keep = [children[0]];\n    // The el parameter is the grammar. By this stage, it has a ``start`` element\n    // as its first child, and ``define`` elements for the remainder of its\n    // children.\n    for (let ix = 1; ix < children.length; ++ix) {\n        const child = children[ix];\n        // Define elements by this time have a single child, which is an\n        // element (but may not be an ``element`` element).\n        const topElement = child.children[0];\n        if (topElement.local === \"element\") {\n            keep.push(child);\n            continue;\n        }\n        child.removeChildAt(0); // Remove topElement from child.\n        removedDefines.set(child.mustGetAttribute(\"name\"), { topElement, used: false });\n    }\n    el.replaceContent(keep);\n}\n/**\n * Substitute ``ref`` elements that point to ``define`` elements that have been\n * removed due to not containing a top-level ``element`` with the content of the\n * referred define.\n *\n * @param state The transformation state.\n *\n * @param el The element to process.\n *\n * @returns A replacement for the element, which may be equal to ``el`` if there\n * is no replacement.\n */\nfunction substituteRefs(state, el, seenNames) {\n    const local = el.local;\n    let ret = el;\n    if (local === \"ref\") {\n        // If a reference is to a definition that does not contain an element\n        // element as the top element, move the definition in place of the ref.\n        const name = el.mustGetAttribute(\"name\");\n        if (seenNames.has(name)) {\n            throw new schema_validation_1.SchemaValidationError(`circularity on the definition named ${name}`);\n        }\n        const def = state.removedDefines.get(name);\n        if (def === undefined) {\n            // We are keeping this reference, so mark it as seen. Otherwise, we're\n            // going to remove it, and we don't need to mark it.\n            state.seenRefs.add(name);\n        }\n        else {\n            // If the definition was used, clone it to allow for multiple copies of\n            // the definition's content to be put into the tree if it is references\n            // multiple times.\n            if (def.used) {\n                ret = def.topElement.clone();\n            }\n            else {\n                // Walk the element we're about to put into the tree. We walk it only\n                // once, and record the result of walking it.\n                const newNames = new Set(seenNames);\n                newNames.add(name);\n                def.topElement = ret = substituteRefs(state, def.topElement, newNames);\n                def.used = true;\n            }\n        }\n    }\n    else if (!skip.has(local)) {\n        //\n        // By this point, the majority of elements have at most two children.\n        // (<grammar> is the exception.)\n        //\n        // Due to the !skip.has(local) test above, first, and second are Element\n        // object, if they exists. So we assert instead of testing.\n        //\n        const [first, second] = el.children;\n        if (first !== undefined) {\n            const sub1 = substituteRefs(state, first, seenNames);\n            if (first !== sub1) {\n                el.replaceChildAt(0, sub1);\n            }\n            if (second !== undefined) {\n                const sub2 = substituteRefs(state, second, seenNames);\n                if (second !== sub2) {\n                    el.replaceChildAt(1, sub2);\n                }\n            }\n        }\n    }\n    return ret;\n}\n/**\n * Implements step 16 of the XSL pipeline. Namely:\n *\n * - All ``element`` elements that are not wrapped in a ``define`` element are\n *   wrapped in new ``define`` elements. And a ``ref`` element takes the\n *   place of the original ``element`` and refers to the new ``define``.\n *\n * - ``ref`` elements that reference a ``define`` which does not contain an\n *   ``element`` element as the top element are replaced by the contents of the\n *   ``define`` element they reference.\n *\n * - Remove ``define`` elements that are not referenced.\n *\n * @param tree The tree to process. It is modified in-place.\n *\n * @returns The new root of the tree.\n */\nfunction step16(tree) {\n    const currentTree = tree;\n    if (currentTree.local !== \"grammar\") {\n        throw new Error(\"must be called with a grammar element\");\n    }\n    const state = {\n        // By this point the top element must be the only grammar in the tree.\n        removedDefines: new Map(),\n        seenRefs: new Set(),\n    };\n    // The specification is not super clear about this, but we have to perform the\n    // wrapping of ``element`` in ``define`` before starting with ref substitution\n    // because ref subsitution is liable to get into an infinite loop where\n    // ``define/@name=\"x\"`` contains a ``ref/@name=\"x\"``. By doing the element\n    // wrapping first, we eliminate those cases that are valid Relax NG. Any\n    // remaining ``define`` which is without a top-level ``element`` and is\n    // self-referential is invalid.\n    const toAppend = wrapElements(state, currentTree);\n    // We wait until appending the new definitions so that the following operation\n    // does not have to scan through them needlessly. The new definitions contain\n    // ``element`` as their top pattern so they cannot be removed.\n    removeDefsWithoutElement(state, currentTree);\n    currentTree.appendChildren(toAppend);\n    const seenNames = new Set();\n    const { children } = currentTree;\n    for (let ix = 0; ix < children.length; ++ix) {\n        const child = children[ix];\n        if (!parser_1.isElement(child)) {\n            continue;\n        }\n        const substitute = substituteRefs(state, child, seenNames);\n        if (child !== substitute) {\n            currentTree.replaceChildAt(ix, substitute);\n        }\n    }\n    util_1.removeUnreferencedDefs(currentTree, state.seenRefs);\n    return currentTree;\n}\nexports.step16 = step16;\n//# sourceMappingURL=step16.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step17 = void 0;\n/**\n * Simplification step 17.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\nconst util_1 = require(\"./util\");\n// These are elements that cannot contain notAllowed and cannot contain\n// references.\nconst skip = new Set([\"name\", \"anyName\", \"nsName\", \"param\", \"empty\",\n    \"text\", \"value\", \"notAllowed\", \"ref\"]);\nfunction walk(el, ix, refs) {\n    const { local, children } = el;\n    // Skip those elements that are empty or that cannot contain notAllowed.\n    if (children.length === 0 || skip.has(local)) {\n        return;\n    }\n    // Since we walk the children first, all the transformations that pertain to\n    // the children are applied before we deal with the parent, and there should\n    // not be any need to process the tree multiple times.\n    // At this stage of processing, most elements contain at most two\n    // children. And due to the skip.has(local) test above, these children must be\n    // Element objects. (<grammar> is the exception.)\n    let [first, second] = children;\n    walk(first, 0, refs);\n    if (second !== undefined) {\n        walk(second, 1, refs);\n    }\n    // Elements may be removed by the above walks.\n    if (children.length === 0) {\n        return;\n    }\n    // Reacquire.\n    ([first, second] = children);\n    const firstNA = first.local === \"notAllowed\";\n    const secondNA = second !== undefined && second.local === \"notAllowed\";\n    if (firstNA || secondNA) {\n        // tslint:disable-next-line:no-non-null-assertion\n        const parent = el.parent;\n        // We used to have a map from which we'd get a handler to call but that\n        // method is not faster than this switch.\n        switch (local) {\n            case \"choice\":\n                if (firstNA && secondNA) {\n                    // A choice with two notAllowed is replaced with notAllowed.\n                    parent.replaceChildAt(ix, parser_1.Element.makeElement(\"notAllowed\", []));\n                }\n                else {\n                    // A choice with exactly one notAllowed is replaced with the other\n                    // child of the choice.\n                    parent.replaceChildAt(ix, firstNA ? second : first);\n                }\n                return;\n            case \"group\":\n            case \"oneOrMore\":\n            case \"interleave\":\n            case \"attribute\":\n            case \"list\":\n                // An attribute (or list, group, interleave, oneOrMore) with at least\n                // one notAllowed is replaced with notAllowed.\n                parent.replaceChildAt(ix, parser_1.Element.makeElement(\"notAllowed\", []));\n                return;\n            case \"except\":\n                // An except with notAllowed is removed.\n                parent.removeChildAt(ix);\n                return;\n            default:\n        }\n    }\n    if (first.local === \"ref\") {\n        refs.add(first.mustGetAttribute(\"name\"));\n    }\n    if (second !== undefined && second.local === \"ref\") {\n        refs.add(second.mustGetAttribute(\"name\"));\n    }\n}\n/**\n * Implements step 17 of the XSL pipeline. Namely:\n *\n * - All ``attribute``, ``list``, ``group``, ``interleave``, and ``oneOrMore``\n *   elements having a ``notAllowed`` child are replaced with a ``notAllowed``\n *   element.\n *\n * - A ``choice`` element with two ``notAllowed`` children is replaced with a\n *   ``notAllowed`` element.\n *\n * - A ``choice`` element with a single ``notAllowed`` child is replaced with\n *   the other child.\n *\n * - An ``except`` element with a ``notAllowed`` child is removed.\n *\n * These transformations are repeated until they no longer modify the tree. (The\n * way we apply the transformations obviates the need to repeat them.)\n *\n * Any ``define`` element that becomes unreachable after transformation is\n * removed.\n *\n * @param tree The tree to process. It is modified in-place.\n *\n * @returns The new root of the tree.\n */\nfunction step17(tree) {\n    const refs = new Set();\n    // The top element is necessarily <grammar>, and it has only element children.\n    let ix = 0;\n    for (const child of tree.children) {\n        walk(child, ix++, refs);\n    }\n    util_1.removeUnreferencedDefs(tree, refs);\n    return tree;\n}\nexports.step17 = step17;\n//# sourceMappingURL=step17.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.step18 = void 0;\n/**\n * Simplification step 18.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright 2013, 2014 Mangalam Research Center for Buddhist Languages\n */\nconst parser_1 = require(\"../parser\");\n// These are elements that cannot contain empty.\nconst skip = new Set([\"name\", \"anyName\", \"nsName\", \"param\", \"empty\",\n    \"text\", \"value\", \"notAllowed\", \"ref\"]);\nfunction walk(el, ix) {\n    const { local, children } = el;\n    if (children.length === 0 || skip.has(local)) {\n        return;\n    }\n    let [first, second] = children;\n    walk(first, 0);\n    if (second !== undefined) {\n        walk(second, 1);\n    }\n    // The children may have changed.\n    ([first, second] = children);\n    const firstEmpty = first.local === \"empty\";\n    const secondEmpty = second !== undefined && second.local === \"empty\";\n    if (!(firstEmpty || secondEmpty)) {\n        return;\n    }\n    switch (local) {\n        case \"choice\":\n            if (secondEmpty) {\n                if (!firstEmpty) {\n                    // If a choice has empty in the 2nd position, the children are\n                    // swapped.\n                    children[0] = second;\n                    children[1] = first;\n                }\n                else {\n                    // A choice with two empty elements is replaced with empty.\n                    el.parent.replaceChildAt(ix, parser_1.Element.makeElement(\"empty\", []));\n                }\n            }\n            break;\n        case \"group\":\n        case \"interleave\":\n            el.parent.replaceChildAt(ix, firstEmpty && secondEmpty ?\n                // A group (or interleave) with two empty\n                // elements is replaced with empty.\n                parser_1.Element.makeElement(\"empty\", []) :\n                // A group (or interleave) with only one empty\n                // element is replaced with the non-empty one.\n                (firstEmpty ? second : first));\n            break;\n        case \"oneOrMore\":\n            // A oneOrMore with an empty element is replaced with empty.\n            el.parent.replaceChildAt(ix, parser_1.Element.makeElement(\"empty\", []));\n            break;\n        default:\n    }\n}\n/**\n * Implements step 18 of the XSL pipeline. Namely:\n *\n * - All ``group``, ``interleave`` and ``choice`` elements with two ``empty``\n *   children are replaced with ``empty``.\n *\n * - All ``group`` and ``interleave`` elements with one ``empty`` child\n *   are transformed into their other child.\n *\n * - All ``choice`` elements with ``empty`` as the second child have their\n *   children swapped.\n *\n * - All ``oneOrMore`` elements with an ``empty`` child are replaced with\n *   ``empty``.\n *\n * These transformations are repeated until they no longer modify the tree. (The\n * way we apply the transformations obviates the need to repeat them.)\n *\n * Note that none of the transformations above remove ``ref`` elements from the\n * schema. So it is not necessary to check for unreferenced ``define``\n * elements. (To ascertain that this is the case, you need to take into account\n * the previous transformations. For instance, ``oneOrMore`` by this stage has\n * only one possible child so replacing ``oneOrMore`` with ``empty`` if it has\n * an ``empty`` child **cannot** remove a ``ref`` element from the tree. Similar\n * reasoning applies to the other transformations.)\n *\n * @param tree The tree to process. It is modified in-place.\n *\n * @returns The new root of the tree.\n */\nfunction step18(tree) {\n    // The top element is necessarily <grammar>, and it has only element children.\n    let ix = 0;\n    for (const child of tree.children) {\n        walk(child, ix++);\n    }\n    return tree;\n}\nexports.step18 = step18;\n//  LocalWords:  XSL oneOrMore\n//# sourceMappingURL=step18.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseSimplifier = void 0;\nclass BaseSimplifier {\n    constructor(options) {\n        this.options = options;\n        if (options.timing) {\n            options.verbose = true;\n        }\n        if (options.validate &&\n            !this.constructor.validates) {\n            throw new Error(\"requested validation on a simplifier that does not validate\");\n        }\n        if (options.createManifest &&\n            !this.constructor.createsManifest) {\n            throw new Error(\"requested a manifest on a simplifier that does not create manifests\");\n        }\n    }\n}\nexports.BaseSimplifier = BaseSimplifier;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DatatypeProcessor = exports.fromQNameToURI = exports.localName = void 0;\nconst tslib_1 = require(\"tslib\");\nconst datatypes = tslib_1.__importStar(require(\"../../datatypes\"));\nconst patterns_1 = require(\"../../patterns\");\nconst parser_1 = require(\"../parser\");\nconst warnAboutTheseTypes = [\n    \"ENTITY\",\n    \"ENTITIES\",\n];\n/**\n * @private\n *\n * @param el Element to start the search from.\n *\n * @returns ``true`` if ``el`` is an attribute or is in an RNG\n * ``<attribute>`` element. ``false`` otherwise.\n */\nfunction inAttribute(el) {\n    let current = el;\n    while (current !== undefined) {\n        if (current.local === \"attribute\") {\n            return true;\n        }\n        current = current.parent;\n    }\n    return false;\n}\nfunction localName(value) {\n    const sep = value.indexOf(\":\");\n    return (sep === -1) ? value : value.slice(sep + 1);\n}\nexports.localName = localName;\nfunction fromQNameToURI(value, el) {\n    const colon = value.indexOf(\":\");\n    let prefix;\n    if (colon === -1) { // If there is no prefix\n        if (inAttribute(el)) { // Attribute in undefined namespace\n            return \"\";\n        }\n        // We are searching for the default namespace currently in effect.\n        prefix = \"\";\n    }\n    else {\n        prefix = value.substr(0, colon);\n        if (value.lastIndexOf(\":\") !== colon) {\n            throw new Error(\"invalid name\");\n        }\n    }\n    if (prefix === \"\") {\n        // Yes, we return the empty string even if that what @ns is set to:\n        // there is no default namespace when @ns is set to ''.\n        return el.mustGetAttribute(\"ns\");\n    }\n    //\n    // We have a prefix, in which case @ns is useless. We have to get the\n    // namespace from the namespaces declared in the XML file that contains the\n    // schema. At this stage, @xmlns and @xmlns:prefix attributes should no longer\n    // be available available. So we just ask the element to use its internal\n    // namespace data to resolve the prefix.\n    //\n    // (Note: in fact in the current implementation of the simplifiers the xmlns\n    // nodes are still available. The XSLT simplifier *cannot* carry the namespace\n    // information we need without keeping those nodes around, or producing a\n    // workaround. The internal simplifier does the same thing as the XSLT\n    // simplifier for ease of debugging (we can expect the same results from\n    // both). However... in any case the information is available through the\n    // namespace information stored on the nodes. So...)\n    //\n    const uri = el.resolve(prefix);\n    if (uri === undefined) {\n        throw new Error(`cannot resolve prefix: ${prefix}`);\n    }\n    return uri;\n}\nexports.fromQNameToURI = fromQNameToURI;\n/**\n * This walker checks that the types used in the tree can be used, and does\n * special processing for ``QName`` and ``NOTATION``.\n */\nclass DatatypeProcessor {\n    constructor() {\n        /**\n         * The warnings generated during the walk. This array is populated while\n         * walking.\n         */\n        this.warnings = [];\n    }\n    // tslint:disable-next-line:max-func-body-length\n    walk(el) {\n        let libname;\n        let type; // tslint:disable-line: no-reserved-keywords\n        const name = el.local;\n        switch (name) {\n            case \"value\": {\n                let value = el.text;\n                type = el.mustGetAttribute(\"type\");\n                libname = el.mustGetAttribute(\"datatypeLibrary\");\n                let ns = el.mustGetAttribute(\"ns\");\n                const lib = datatypes.registry.find(libname);\n                if (lib === undefined) {\n                    throw new datatypes.ValueValidationError(el.path, [new datatypes.ValueError(`unknown datatype library: ${libname}`)]);\n                }\n                const datatype = lib.types[type];\n                if (datatype === undefined) {\n                    throw new datatypes.ValueValidationError(el.path, [new datatypes.ValueError(`unknown datatype ${type} in \\\n${(libname === \"\") ? \"default library\" : `library ${libname}`}`)]);\n                }\n                if (datatype.needsContext &&\n                    // tslint:disable-next-line: no-http-string\n                    !(libname === \"http://www.w3.org/2001/XMLSchema-datatypes\" &&\n                        (type === \"QName\" || type === \"NOTATION\"))) {\n                    throw new Error(\"datatype needs context but is not QName or NOTATION \\\nform the XML Schema library: don't know how to handle\");\n                }\n                if (datatype.needsContext) {\n                    // Change ns to the namespace we need.\n                    ns = fromQNameToURI(value, el);\n                    value = localName(value);\n                    el.setAttribute(\"ns\", ns);\n                    el.replaceContent([new parser_1.Text(value)]);\n                }\n                const valuePattern = new patterns_1.Value(el.path, value, type, libname, ns, el.documentation);\n                // Accessing the value will cause it to be validated.\n                // tslint:disable-next-line:no-unused-expression\n                valuePattern.value;\n                break;\n            }\n            case \"data\": {\n                // Except is necessarily last.\n                const hasExcept = (el.children.length !== 0 &&\n                    el.children[el.children.length - 1]\n                        .local === \"except\");\n                type = el.mustGetAttribute(\"type\");\n                libname = el.mustGetAttribute(\"datatypeLibrary\");\n                const lib = datatypes.registry.find(libname);\n                if (lib === undefined) {\n                    throw new datatypes.ValueValidationError(el.path, [new datatypes.ValueError(`unknown datatype library: ${libname}`)]);\n                }\n                if (lib.types[type] === undefined) {\n                    throw new datatypes.ValueValidationError(el.path, [new datatypes.ValueError(`unknown datatype ${type} in \\\n${(libname === \"\") ? \"default library\" : `library ${libname}`}`)]);\n                }\n                const params = el.children.slice(0, hasExcept ? el.children.length - 1 : undefined).map((child) => ({\n                    name: child.mustGetAttribute(\"name\"),\n                    value: child.text,\n                }));\n                const data = new patterns_1.Data(el.path, type, libname, params);\n                // This causes the parameters to be checked. We do not need to do\n                // anything with the value.\n                // tslint:disable-next-line:no-unused-expression\n                data.params;\n                break;\n            }\n            default:\n        }\n        // tslint:disable-next-line: no-http-string\n        if (libname === \"http://www.w3.org/2001/XMLSchema-datatypes\" &&\n            // tslint:disable-next-line:no-non-null-assertion\n            warnAboutTheseTypes.includes(type)) {\n            this.warnings.push(`WARNING: ${el.path} uses the ${type} type in library ${libname}`);\n        }\n        for (const child of el.children) {\n            if (parser_1.isElement(child)) {\n                this.walk(child);\n            }\n        }\n    }\n}\nexports.DatatypeProcessor = DatatypeProcessor;\n//# sourceMappingURL=common.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serialize = void 0;\n/**\n * Serialize a tree previously produced by [[\"conversion/parser\".BasicParser]].\n *\n * @param tree The tree to serialize.\n *\n * @param options Options specifying how to perform the serialization.\n *\n * @returns The serialized tree.\n */\nfunction serialize(tree, options = {}) {\n    const normalized = {\n        prettyPrint: options.prettyPrint === true,\n    };\n    let out = `<?xml version=\"1.0\"?>\\n${_serialize(false, \"\", tree, normalized)}`;\n    if (out[out.length - 1] !== \"\\n\") {\n        out += \"\\n\";\n    }\n    return out;\n}\nexports.serialize = serialize;\n/**\n * Escape characters that cannot be represented literally in XML.\n *\n * @param text The text to escape.\n *\n * @param isAttr Whether the text is part of an attribute.\n *\n * @returns The escaped text.\n */\nfunction escape(text, isAttr) {\n    // Even though the > escape is not *mandatory* in all cases, we still do it\n    // everywhere.\n    let ret = text.replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\");\n    if (isAttr) {\n        ret = ret.replace(/\"/g, \"&quot;\");\n    }\n    return ret;\n}\n/**\n * Serialize an element and its children, recursively.\n *\n * @param mixed Whether or not the element being converted is in mixed contents.\n *\n * @param curIndent The current indentation. This is represented as a string of\n * white spaces.\n *\n * @param el The element to serialize.\n *\n * @param options Options specifying how to perform the serialization.\n *\n * @returns The serialization.\n */\nfunction _serialize(mixed, curIndent, el, options) {\n    let buf = \"\";\n    buf += `${curIndent}<${el.local}`;\n    const attrs = el.getRawAttributes();\n    const names = Object.keys(attrs);\n    names.sort();\n    for (const name of names) {\n        buf += ` ${name}=\"${escape(el.mustGetAttribute(name), true)}\"`;\n    }\n    if (el.children.length === 0) {\n        buf += \"/>\";\n    }\n    else {\n        let childrenMixed = false;\n        for (const child of el.children) {\n            if (child.kind === \"text\") {\n                childrenMixed = true;\n                break;\n            }\n        }\n        buf += \">\";\n        if (options.prettyPrint && !childrenMixed) {\n            buf += \"\\n\";\n        }\n        const childIndent = options.prettyPrint ? `${curIndent}  ` : \"\";\n        for (const child of el.children) {\n            buf += child.kind === \"text\" ? escape(child.text, false) :\n                _serialize(childrenMixed, childIndent, child, options);\n        }\n        if (!childrenMixed) {\n            buf += curIndent;\n        }\n        buf += `</${el.local}>`;\n    }\n    if (options.prettyPrint && !mixed) {\n        buf += \"\\n\";\n    }\n    return buf;\n}\n//# sourceMappingURL=serializer.js.map","\"use strict\";\n/**\n * This module contains classes for writing salve's internal schema format.\n *\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.writeTreeToJSON = void 0;\nconst parser_1 = require(\"../conversion/parser\");\nconst common_1 = require(\"./common\");\nconst NAME_TO_METHOD_NAME = {\n    __proto__: null,\n    group: \"_group\",\n    interleave: \"_interleave\",\n    choice: \"_choice\",\n    oneOrMore: \"_oneOrMore\",\n    element: \"_element\",\n    attribute: \"_attribute\",\n    ref: \"_ref\",\n    define: \"_define\",\n    value: \"_value\",\n    data: \"_data\",\n    list: \"_list\",\n    notAllowed: \"_notAllowed\",\n    empty: \"_empty\",\n    text: \"_text\",\n    name: \"_name\",\n    nameChoice: \"_nameChoice\",\n    nsName: \"_nsName\",\n    anyName: \"_anyName\",\n}; // Unfortunately __proto__ requires ``as any``.\nclass RNGToJSONConverter {\n    /**\n     * @param version The version of the format to produce.\n     *\n     * @param nameMap A map for renaming named elements.\n     *\n     * @param includePaths Whether to include paths in the output.\n     *\n     * @param verbose Whether to output verbosely.\n     *\n     * @throws {Error} If the version requested in ``version`` is not supported.\n     */\n    constructor(version, nameMap, includePaths, verbose) {\n        this.nameMap = nameMap;\n        this.includePaths = includePaths;\n        this.verbose = verbose;\n        this._output = \"\";\n        this._firstItem = true;\n        if (version !== 3) {\n            throw new Error(\"DefaultConversionWalker only supports version 3\");\n        }\n        this.arrayStart = this.verbose ? \"\\\"Array\\\"\" : 0;\n    }\n    /** The output of the conversion. */\n    get output() {\n        return this._output;\n    }\n    /**\n     * Resets the walker to a blank state. This allows using the same walker for\n     * multiple walks.\n     */\n    reset() {\n        this._output = \"\";\n        this._firstItem = true;\n    }\n    /**\n     * Opens a construct in the output.\n     *\n     * @param open The opening string.\n     *\n     * @param close The closing string. This will be used to check that the\n     * construct is closed properly.\n     */\n    openConstruct(open) {\n        this.newItem();\n        this._firstItem = true;\n        this._output += open;\n    }\n    /**\n     * Indicates that a new item is about to start in the current construct.\n     * Outputs a separator (\",\") if this is not the first item in the construct.\n     */\n    newItem() {\n        if (this._firstItem) {\n            this._firstItem = false;\n            return;\n        }\n        this._output += \",\";\n    }\n    /**\n     * Outputs an item in the current construct. Outputs a separator (\",\") if this\n     * is not the first item in the construct.\n     *\n     * @param item The item to output.\n     */\n    outputItem(item) {\n        this.newItem();\n        this._output += (typeof item === \"number\") ? item.toString() : item;\n    }\n    /**\n     * Outputs a string in the current construct. Outputs a separator (\",\") if\n     * this is not the first item in the construct. The double-quotes in the\n     * string will be escaped and the string will be surrounded by double quotes\n     * in the output.\n     *\n     * @param thing The string to output.\n     */\n    outputAsString(thing) {\n        this.newItem();\n        const text = thing.replace(/([\"\\\\])/g, \"\\\\$1\");\n        this._output += `\"${text}\"`;\n    }\n    /**\n     * Open an array in the output.\n     */\n    openArray() {\n        this.openConstruct(\"[\");\n        this.outputItem(this.arrayStart);\n    }\n    convert(el) {\n        if (el.local !== \"grammar\") {\n            throw new Error(\"top level element must be grammar\");\n        }\n        this.openConstruct(\"{\");\n        this.outputItem(`\"v\":3,\"o\":${this.includePaths ? 0 :\n            common_1.OPTION_NO_PATHS},\"d\":`);\n        const code = common_1.nameToCode.grammar;\n        if (code === undefined) {\n            throw new Error(\"can't find constructor for grammar\");\n        }\n        this._firstItem = true;\n        this.openConstruct(\"[\");\n        if (this.verbose) {\n            this.outputAsString(\"Grammar\");\n        }\n        else {\n            this.outputItem(code);\n        }\n        if (this.includePaths) {\n            this.outputAsString(el.path);\n        }\n        // el.children[0] is a start element: walk start's children.\n        this.walkChildren(el.children[0]);\n        this.openArray();\n        // Walk the definitions...\n        this.walkChildren(el, 1);\n        this._output += \"]]}\";\n    }\n    // tslint:disable-next-line: max-func-body-length\n    walk(el) {\n        const { local } = el;\n        const code = common_1.nameToCode[local];\n        if (code === undefined) {\n            throw new Error(`can't find constructor for ${local}`);\n        }\n        this.openConstruct(\"[\");\n        if (this.verbose) {\n            this.outputAsString(local[0].toUpperCase() + local.slice(1));\n        }\n        else {\n            this.outputItem(code);\n        }\n        if (this.includePaths) {\n            this.outputAsString(el.path);\n        }\n        const handler = this[NAME_TO_METHOD_NAME[local]];\n        if (handler === undefined) {\n            throw new Error(`did not expect an element with name ${local} here`);\n        }\n        handler.call(this, el);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _group(el) {\n        this.openArray();\n        this.walkChildren(el);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _interleave(el) {\n        this.openArray();\n        this.walkChildren(el);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _choice(el) {\n        this.openArray();\n        this.walkChildren(el);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _oneOrMore(el) {\n        this.openArray();\n        this.walkChildren(el);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _element(el) {\n        // The first element of `<element>` is necessarily a name class. Note that\n        // there is no need to worry about recursion since it is not possible to get\n        // here recursively from the `this.walk` call that follows. (A name class\n        // cannot contain `<element>`.)\n        this.walkNameClass(el.children[0]);\n        this.openArray();\n        this.walkChildren(el, 1);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _attribute(el) {\n        // The first element of `<attribute>` is necessarily a name class. Note that\n        // there is no need to worry about recursion since it is not possible to get\n        // here recursively from the `this.walk` call that follows. (A name class\n        // cannot contain `<attribute>`.)\n        this.walkNameClass(el.children[0]);\n        this.openArray();\n        this.walkChildren(el, 1);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _ref(el) {\n        const name = el.mustGetAttribute(\"name\");\n        if (this.nameMap !== undefined) {\n            // tslint:disable-next-line:no-non-null-assertion\n            this.outputItem(this.nameMap.get(name));\n        }\n        else {\n            this.outputAsString(name);\n        }\n    }\n    // @ts-ignore\n    _define(el) {\n        const name = el.mustGetAttribute(\"name\");\n        if (this.nameMap !== undefined) {\n            // tslint:disable-next-line:no-non-null-assertion\n            this.outputItem(this.nameMap.get(name));\n        }\n        else {\n            this.outputAsString(name);\n        }\n        this.openArray();\n        this.walkChildren(el);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _value(el) {\n        // Output a variable number of items.\n        // Suppose item 0 is called it0 and so forth. Then:\n        //\n        // Number of items  value  type    datatypeLibrary  ns\n        // 1                it0    \"token\" \"\"               \"\"\n        // 2                it0     it1    \"\"               \"\"\n        // 3                it0     it1    it2              \"\"\n        // 4                it0     it1    it2              it3\n        //\n        this.outputAsString(el.text);\n        const typeAttr = el.mustGetAttribute(\"type\");\n        const datatypeLibraryAttr = el.mustGetAttribute(\"datatypeLibrary\");\n        const nsAttr = el.mustGetAttribute(\"ns\");\n        if (typeAttr !== \"token\" || datatypeLibraryAttr !== \"\" || nsAttr !== \"\") {\n            this.outputAsString(typeAttr);\n            if (datatypeLibraryAttr !== \"\" || nsAttr !== \"\") {\n                this.outputAsString(datatypeLibraryAttr);\n                // No value === empty string.\n                if (nsAttr !== \"\") {\n                    this.outputAsString(nsAttr);\n                }\n            }\n        }\n    }\n    // @ts-ignore\n    _data(el) {\n        // Output a variable number of items.\n        // Suppose item 0 is called it0 and so forth. Then:\n        //\n        // Number of items  type    datatypeLibrary params except\n        // 0                \"token\" \"\"              {}     undefined\n        // 1                it0     \"\"              {}     undefined\n        // 2                it0     it1             {}     undefined\n        // 3                it0     it1             it2    undefined\n        // 4                it0     it1             it2    it3\n        //\n        // Parameters are necessarily first among the children.\n        const { children } = el;\n        const { length } = children;\n        const hasParams = (length !== 0 &&\n            (children[0].local === \"param\"));\n        // Except is necessarily last.\n        const hasExcept = (length !== 0 && children[length - 1].local === \"except\");\n        const typeAttr = el.mustGetAttribute(\"type\");\n        const datatypeLibraryAttr = el.mustGetAttribute(\"datatypeLibrary\");\n        if (typeAttr !== \"token\" || datatypeLibraryAttr !== \"\" || hasParams ||\n            hasExcept) {\n            this.outputAsString(typeAttr);\n            if (datatypeLibraryAttr !== \"\" || hasParams || hasExcept) {\n                this.outputAsString(datatypeLibraryAttr);\n                if (hasParams || hasExcept) {\n                    this.openArray();\n                    if (hasParams) {\n                        const limit = hasExcept ? length - 1 : children.length;\n                        for (let paramIx = 0; paramIx < limit; ++paramIx) {\n                            const param = children[paramIx];\n                            this.outputAsString(param.mustGetAttribute(\"name\"));\n                            this.outputAsString(param.children[0].text);\n                        }\n                    }\n                    this._output += \"]\";\n                    if (hasExcept) {\n                        this.walkChildren(children[length - 1]);\n                    }\n                }\n            }\n        }\n    }\n    // @ts-ignore\n    _list(el) {\n        this.walkChildren(el);\n    }\n    // @ts-ignore\n    // tslint:disable-next-line:no-empty\n    _notAllowed(el) { }\n    // @ts-ignore\n    // tslint:disable-next-line:no-empty\n    _empty(el) { }\n    // @ts-ignore\n    // tslint:disable-next-line:no-empty\n    _text(el) { }\n    // tslint:disable-next-line: max-func-body-length\n    walkNameClass(el) {\n        let { local } = el;\n        if (local === \"choice\") {\n            local = \"nameChoice\";\n        }\n        const code = common_1.nameToCode[local];\n        if (code === undefined) {\n            throw new Error(`can't find constructor for ${local}`);\n        }\n        this.openConstruct(\"[\");\n        if (this.verbose) {\n            this.outputAsString(local[0].toUpperCase() + local.slice(1));\n        }\n        else {\n            this.outputItem(code);\n        }\n        if (this.includePaths) {\n            this.outputAsString(el.path);\n        }\n        const handler = this[NAME_TO_METHOD_NAME[local]];\n        if (handler === undefined) {\n            throw new Error(`did not expect an element with name ${local} here`);\n        }\n        handler.call(this, el);\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _name(el) {\n        var _a, _b;\n        this.outputAsString(el.mustGetAttribute(\"ns\"));\n        this.outputAsString(el.text);\n        //add documentation\n        const documentation = (_b = (_a = el.documentation) === null || _a === void 0 ? void 0 : _a.replace(/\\n/g, \"\\\\n\")) !== null && _b !== void 0 ? _b : \"\";\n        this.outputAsString(documentation);\n        ;\n    }\n    // @ts-ignore\n    _nameChoice(el) {\n        this.openArray();\n        for (const child of el.children) {\n            this.walkNameClass(child);\n        }\n        this._output += \"]\";\n    }\n    // @ts-ignore\n    _nsName(el) {\n        this.outputAsString(el.mustGetAttribute(\"ns\"));\n        this._anyName(el);\n    }\n    _anyName(el) {\n        // There can only be at most one child, and it has to be \"except\".\n        if (el.children.length > 0) {\n            const except = el.children[0];\n            // We do not output anything for this element itself but instead go\n            // straight to its children.\n            for (const child of except.children) {\n                this.walkNameClass(child);\n            }\n        }\n    }\n    /**\n     * Walks an element's children.\n     *\n     * @param el The element whose children must be walked.\n     *\n     * @param startAt Index at which to start walking.\n     */\n    walkChildren(el, startAt = 0) {\n        const children = el.children;\n        const limit = children.length;\n        if (limit < startAt) {\n            throw new Error(\"invalid parameters passed\");\n        }\n        for (let i = startAt; i < limit; ++i) {\n            const child = children[i];\n            if (parser_1.isElement(child)) {\n                this.walk(child);\n            }\n        }\n    }\n}\nfunction gatherNamed(el, all) {\n    for (const child of el.children) {\n        if (!parser_1.isElement(child)) {\n            continue;\n        }\n        if (child.local === \"define\" || child.local === \"ref\") {\n            const name = child.mustGetAttribute(\"name\");\n            let count = all.get(name);\n            if (count === undefined) {\n                count = 0;\n            }\n            all.set(name, ++count);\n        }\n        gatherNamed(child, all);\n    }\n}\nfunction writeTreeToJSON(tree, formatVersion, includePaths = false, verbose = false, rename = true) {\n    let nameMap;\n    if (rename) {\n        const names = new Map();\n        gatherNamed(tree, names);\n        // Now assign new names with shorter new names being assigned to those\n        // original names that are most frequent.\n        const sorted = Array.from(names.entries());\n        // Yes, we want to sort in reverse order of frequency, highest first.\n        sorted.sort(([_keyA, freqA], [_keyB, freqB]) => freqB - freqA);\n        let id = 1;\n        nameMap = new Map();\n        for (const [key] of sorted) {\n            nameMap.set(key, id++);\n        }\n    }\n    const walker = new RNGToJSONConverter(formatVersion, nameMap, includePaths, verbose);\n    walker.convert(tree);\n    return walker.output;\n}\nexports.writeTreeToJSON = writeTreeToJSON;\n//# sourceMappingURL=write.js.map"],"sourceRoot":""}