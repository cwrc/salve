{"version":3,"file":"empty.js","sourceRoot":"","sources":["../../../../lib/salve/patterns/empty.ts"],"names":[],"mappings":";;;AAAA;;;;;GAKG;AACH,iCACiC;AAEjC;;GAEG;AACH,MAAa,KAAM,SAAQ,cAAO;IAChC,eAAe;QACb,OAAO,IAAI,CAAC;IACd,CAAC;IAED,SAAS;QACP,iDAAiD;QACjD,OAAO,SAAS,CAAC;IACnB,CAAC;CACF;AATD,sBASC;AAED;;;;;;GAMG;AACH,MAAM,WAAW;IAKf,YAAY,EAAS;QACnB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;IAC9B,CAAC;IAED,oEAAoE;IACpE,+BAA+B;IAC/B,KAAK;QACH,OAAO,IAAI,CAAC;IACd,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,GAAG,EAAE,CAAC;IACnB,CAAC;IAED,kBAAkB;QAChB,OAAO,IAAI,GAAG,EAAE,CAAC;IACnB,CAAC;IAED,SAAS,CAAC,IAAY,EAAE,MAAgB;QACtC,OAAO,IAAI,8BAAuB,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC;YACjB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5D,CAAC;IAED,GAAG;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,aAAa;QACX,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AAED,MAAM,SAAS,GAAG,IAAI,WAAW,CAAC,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;AAE7D,yCAAyC","sourcesContent":["/**\n * Pattern and walker for RNG's ``empty`` elements.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nimport { EndResult, EventSet, InternalFireEventResult, InternalWalker,\n         Pattern } from \"./base\";\n\n/**\n * Pattern for ``<empty/>``.\n */\nexport class Empty extends Pattern {\n  hasEmptyPattern(): boolean {\n    return true;\n  }\n\n  newWalker(): InternalWalker {\n    // tslint:disable-next-line:no-use-before-declare\n    return singleton;\n  }\n}\n\n/**\n * Walker for [[Empty]].\n *\n * @param el The pattern for which this walker was created.\n *\n * @param resolver Ignored by this walker.\n */\nclass EmptyWalker implements InternalWalker {\n  protected readonly el: Empty;\n  canEnd: boolean;\n  canEndAttribute: boolean;\n\n  constructor(el: Empty) {\n    this.el = el;\n    this.canEnd = true;\n    this.canEndAttribute = true;\n  }\n\n  // Since the Empty walker is a singleton, the cloning operation just\n  // returns the original walker.\n  clone(): this {\n    return this;\n  }\n\n  possible(): EventSet {\n    return new Set();\n  }\n\n  possibleAttributes(): EventSet {\n    return new Set();\n  }\n\n  fireEvent(name: string, params: string[]): InternalFireEventResult {\n    return new InternalFireEventResult((name === \"text\") &&\n                                       !/\\S/.test(params[0]));\n  }\n\n  end(): EndResult {\n    return false;\n  }\n\n  endAttributes(): EndResult {\n    return false;\n  }\n}\n\nconst singleton = new EmptyWalker(new Empty(\"FAKE ELEMENT\"));\n\n//  LocalWords:  RNG's MPL possibleCached\n"]}